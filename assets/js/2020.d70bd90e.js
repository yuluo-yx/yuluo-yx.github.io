"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[2020],{42020:(e,t,n)=>{n.d(t,{L:()=>Z});var o=n(25353),r=n(84289),i=n(58101),s=n(35318),c=n(92334),l=n(29067),f=n(51424);function a(e,t){let n;const o=()=>{const{currentTime:o}=t,r=(null===o?0:o.value)/100;n!==r&&e(r),n=r};return f.Gt.update(o,!0),()=>(0,f.WG)(o)}const u=new WeakMap;let g;function d({target:e,contentRect:t,borderBoxSize:n}){var o;null===(o=u.get(e))||void 0===o||o.forEach((o=>{o({target:e,contentSize:t,get size(){return function(e,t){if(t){const{inlineSize:e,blockSize:n}=t[0];return{width:e,height:n}}return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}(e,n)}})}))}function h(e){e.forEach(d)}function p(e,t){g||"undefined"!=typeof ResizeObserver&&(g=new ResizeObserver(h));const n=(0,c.KJ)(e);return n.forEach((e=>{let n=u.get(e);n||(n=new Set,u.set(e,n)),n.add(t),null==g||g.observe(e)})),()=>{n.forEach((e=>{const n=u.get(e);null==n||n.delete(t),(null==n?void 0:n.size)||null==g||g.unobserve(e)}))}}const m=new Set;let v;function y(e){return m.add(e),v||(v=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};m.forEach((e=>e(t)))},window.addEventListener("resize",v)),()=>{m.delete(e),!m.size&&v&&(v=void 0)}}var w=n(59682),x=n(31953);const E=50,L=()=>({time:0,x:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0},y:{current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}}),W={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function b(e,t,n,o){const r=n[t],{length:i,position:s}=W[t],c=r.current,l=n.time;r.current=e[`scroll${s}`],r.scrollLength=e[`scroll${i}`]-e[`client${i}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=(0,w.q)(0,r.scrollLength,r.current);const f=o-l;r.velocity=f>E?0:(0,x.f)(r.current-c,f)}var z=n(88408),O=n(92388),B=n(45117);const S={start:0,center:.5,end:1};function G(e,t,n=0){let o=0;if(e in S&&(e=S[e]),"string"==typeof e){const t=parseFloat(e);e.endsWith("px")?o=t:e.endsWith("%")?e=t/100:e.endsWith("vw")?o=t/100*document.documentElement.clientWidth:e.endsWith("vh")?o=t/100*document.documentElement.clientHeight:e=t}return"number"==typeof e&&(o=t*e),n+o}const H=[0,0];function k(e,t,n,o){let r=Array.isArray(e)?e:H,i=0,s=0;return"number"==typeof e?r=[e,e]:"string"==typeof e&&(r=(e=e.trim()).includes(" ")?e.split(" "):[e,S[e]?e:"0"]),i=G(r[0],n,o),s=G(r[1],t),i-s}const T={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},M={x:0,y:0};function N(e,t,n){const{offset:o=T.All}=n,{target:r=e,axis:i="y"}=n,s="y"===i?"height":"width",c=r!==e?function(e,t){const n={x:0,y:0};let o=e;for(;o&&o!==t;)if(o instanceof HTMLElement)n.x+=o.offsetLeft,n.y+=o.offsetTop,o=o.offsetParent;else if("svg"===o.tagName){const e=o.getBoundingClientRect();o=o.parentElement;const t=o.getBoundingClientRect();n.x+=e.left-t.left,n.y+=e.top-t.top}else{if(!(o instanceof SVGGraphicsElement))break;{const{x:e,y:t}=o.getBBox();n.x+=e,n.y+=t;let r=null,i=o.parentNode;for(;!r;)"svg"===i.tagName&&(r=i),i=o.parentNode;o=r}}return n}(r,e):M,l=r===e?{width:e.scrollWidth,height:e.scrollHeight}:function(e){return"getBBox"in e&&"svg"!==e.tagName?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}(r),f={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let a=!t[i].interpolate;const u=o.length;for(let g=0;g<u;g++){const e=k(o[g],f[s],l[s],c[i]);a||e===t[i].interpolatorOffsets[g]||(a=!0),t[i].offset[g]=e}a&&(t[i].interpolate=(0,O.G)(t[i].offset,(0,B.Z)(o),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=(0,z.q)(0,1,t[i].interpolate(t[i].current))}function P(e,t,n,o={}){return{measure:()=>function(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let o=t;for(;o&&o!==e;)n.x.targetOffset+=o.offsetLeft,n.y.targetOffset+=o.offsetTop,o=o.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}(e,o.target,n),update:t=>{!function(e,t,n){b(e,"x",t,n),b(e,"y",t,n),t.time=n}(e,n,t),(o.offset||o.target)&&N(e,n,o)},notify:()=>t(n)}}const A=new WeakMap,R=new WeakMap,Y=new WeakMap,$=e=>e===document.documentElement?window:e;function C(e,{container:t=document.documentElement,...n}={}){let o=Y.get(t);o||(o=new Set,Y.set(t,o));const r=L(),i=P(t,e,r,n);if(o.add(i),!A.has(t)){const e=()=>{for(const e of o)e.measure()},n=()=>{for(const e of o)e.update(f.uv.timestamp)},r=()=>{for(const e of o)e.notify()},i=()=>{f.Gt.read(e,!1,!0),f.Gt.read(n,!1,!0),f.Gt.update(r,!1,!0)};A.set(t,i);const l=$(t);window.addEventListener("resize",i,{passive:!0}),t!==document.documentElement&&R.set(t,(c=i,"function"==typeof(s=t)?y(s):p(s,c))),l.addEventListener("scroll",i,{passive:!0})}var s,c;const l=A.get(t);return f.Gt.read(l,!1,!0),()=>{var e;(0,f.WG)(l);const n=Y.get(t);if(!n)return;if(n.delete(i),n.size)return;const o=A.get(t);A.delete(t),o&&($(t).removeEventListener("scroll",o),null===(e=R.get(t))||void 0===e||e(),window.removeEventListener("resize",o))}}const Q=new Map;function X({source:e,container:t=document.documentElement,axis:n="y"}={}){e&&(t=e),Q.has(t)||Q.set(t,{});const o=Q.get(t);return o[n]||(o[n]=(0,c.Jb)()?new ScrollTimeline({source:t,axis:n}):function({source:e,container:t,axis:n="y"}){e&&(t=e);const o={value:0},r=C((e=>{o.value=100*e[n].progress}),{container:t,axis:n});return{currentTime:o,cancel:r}}({source:t,axis:n})),o[n]}function J(e){return e&&(e.target||e.offset)}function q(e,{axis:t="y",...n}={}){const o={axis:t,...n};return"function"==typeof e?function(e,t){return function(e){return 2===e.length}(e)||J(t)?C((n=>{e(n[t.axis].progress,n)}),t):a(e,X(t))}(e,o):function(e,t){if(e.flatten(),J(t))return e.pause(),C((n=>{e.time=e.duration*n[t.axis].progress}),t);{const n=X(t);return e.attachTimeline?e.attachTimeline(n,(e=>(e.pause(),a((t=>{e.time=e.duration*t}),n)))):l.l}}(e,o)}var V=n(45760);function F(e,t){(0,s.$)(Boolean(!t||t.current),`You have defined a ${e} options but the provided ref is not yet hydrated, probably because it's defined higher up the tree. Try calling useScroll() in the same component as the ref, or setting its \`layoutEffect: false\` option.`)}const K=()=>({scrollX:(0,o.OQ)(0),scrollY:(0,o.OQ)(0),scrollXProgress:(0,o.OQ)(0),scrollYProgress:(0,o.OQ)(0)});function Z({container:e,target:t,layoutEffect:n=!0,...o}={}){const s=(0,r.M)(K);return(n?V.E:i.useEffect)((()=>(F("target",t),F("container",e),q(((e,{x:t,y:n})=>{s.scrollX.set(t.current),s.scrollXProgress.set(t.progress),s.scrollY.set(n.current),s.scrollYProgress.set(n.progress)}),{...o,container:(null==e?void 0:e.current)||void 0,target:(null==t?void 0:t.current)||void 0}))),[e,t,JSON.stringify(o.offset)]),s}}}]);