"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[8752],{16383:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>g,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var a=t(47776),o=t(25105),r=t(89999);const i={slug:"google-adk-java-quickstart",title:"Google ADK Java QuickStart",date:new Date("2025-06-27T23:34:54.000Z"),authors:"yuluo",tags:["AI","ADK"],keywords:["AI"]},s=void 0,l={authorsImageUrls:[void 0]},c=[{value:"1. ADK \u4ecb\u7ecd",id:"1-adk-\u4ecb\u7ecd",level:2},{value:"2. ADK Java",id:"2-adk-java",level:2},{value:"3. ADK Java Examples",id:"3-adk-java-examples",level:2},{value:"3.1 \u4ee3\u7801",id:"31-\u4ee3\u7801",level:3},{value:"3.2 \u8fd0\u884c",id:"32-\u8fd0\u884c",level:3},{value:"3.3 \u8bbf\u95ee",id:"33-\u8bbf\u95ee",level:3}];function u(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"1-adk-\u4ecb\u7ecd",children:"1. ADK \u4ecb\u7ecd"}),"\n",(0,o.jsx)(n.p,{children:"Agent Development Kit (ADK) \u662f\u4e00\u4e2a\u7075\u6d3b\u7684\u6a21\u5757\u5316\u6846\u67b6\uff0c\u7528\u4e8e\u5f00\u53d1\u548c\u90e8\u7f72 AI Agent\u3002ADK \u5bf9 Gemini \u548c Google \u751f\u6001\u7cfb\u7edf\u8fdb\u884c\u4e86\u4f18\u5316\u3002\u540c\u65f6\u4e0e\u6a21\u578b\u548c\u90e8\u7f72\u65e0\u5173\uff0c\u5e76\u4e14\u4e0e\u5176\u4ed6\u6846\u67b6\u517c\u5bb9\u3002ADK \u65e8\u5728\u4f7f Agent \u5f00\u53d1\u66f4\u50cf\u8f6f\u4ef6\u5f00\u53d1\u90a3\u6837\uff0c\u4f7f\u5f00\u53d1\u8005\u80fd\u591f\u66f4\u8f7b\u677e\u5730\u521b\u5efa\u3001\u90e8\u7f72\u548c\u7f16\u6392\u4ece\u7b80\u5355\u4efb\u52a1\u5230\u590d\u6742\u5de5\u4f5c\u6d41\u7684 Agent \u5e94\u7528\u3002"}),"\n",(0,o.jsx)(n.p,{children:"\u4e3b\u8981\u7279\u70b9"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"\u4e30\u5bcc\u7684\u5de5\u5177\u751f\u6001\u7cfb\u7edf"}),"\uff1a\u5229\u7528\u9884\u5148\u6784\u5efa\u7684\u5de5\u5177\u3001\u81ea\u5b9a\u4e49\u529f\u80fd\u3001OpenAPI \u89c4\u8303\u6216\u96c6\u6210\u73b0\u6709\u5de5\u5177\uff0c\u4e3a\u4ee3\u7406\u63d0\u4f9b\u591a\u6837\u5316\u7684\u529f\u80fd\uff0c\u6240\u6709\u8fd9\u4e9b\u90fd\u662f\u4e3a\u4e86\u4e0e Google \u751f\u6001\u7cfb\u7edf\u7d27\u5bc6\u96c6\u6210\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"\u4ee3\u7801\u4f18\u5148\u5f00\u53d1"}),"\uff1a\u76f4\u63a5\u5728 Python \u4e2d\u5b9a\u4e49\u4ee3\u7406\u903b\u8f91\u3001\u5de5\u5177\u548c\u7f16\u6392\uff0c\u4ee5\u5b9e\u73b0\u6700\u5927\u7684\u7075\u6d3b\u6027\u3001\u53ef\u6d4b\u8bd5\u6027\u548c\u7248\u672c\u63a7\u5236\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"\u6a21\u5757\u5316\u591a\u4ee3\u7406\u7cfb\u7edf"}),"\uff1a\u901a\u8fc7\u5c06\u591a\u4e2a\u4e13\u95e8\u7684\u4ee3\u7406\u7ec4\u5408\u6210\u7075\u6d3b\u7684\u5c42\u6b21\u7ed3\u6784\u6765\u8bbe\u8ba1\u53ef\u6269\u5c55\u7684\u5e94\u7528\u7a0b\u5e8f\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"\u968f\u5904\u90e8\u7f72"}),"\uff1a\u8f7b\u677e\u5728 Cloud Run \u4e0a\u5bb9\u5668\u5316\u548c\u90e8\u7f72\u4ee3\u7406\uff0c\u6216\u4f7f\u7528 Vertex AI Agent Engine \u65e0\u7f1d\u6269\u5c55\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"2-adk-java",children:"2. ADK Java"}),"\n",(0,o.jsx)(n.p,{children:"\u800c ADK Java \u5219\u662f ADK Python \u7684 Java \u5b9e\u73b0\u3002"}),"\n",(0,o.jsx)(n.h2,{id:"3-adk-java-examples",children:"3. ADK Java Examples"}),"\n",(0,o.jsx)(n.p,{children:"\u7f16\u5199\u793a\u4f8b\u4e4b\u524d\u9700\u8981\u83b7\u53d6\u5230 Google Genmini \u6a21\u578b\u7684 ak \u5e76\u914d\u7f6e\u5230\u73af\u5883\u53d8\u91cf\u4e2d\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"export GOOGLE_GENAI_USE_VERTEXAI=FALSE\nexport GOOGLE_API_KEY=AK\n"})}),"\n",(0,o.jsx)(n.h3,{id:"31-\u4ee3\u7801",children:"3.1 \u4ee3\u7801"}),"\n",(0,o.jsxs)(n.p,{children:["\u6b64\u793a\u4f8b\u4f7f\u7528 ADK Java \u6587\u6863\u4e2d\u7684\u4ee3\u7801\uff1a",(0,o.jsx)(n.a,{href:"https://google.github.io/adk-docs/get-started/quickstart/#create-agent-project",children:"https://google.github.io/adk-docs/get-started/quickstart/#create-agent-project"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-java",children:'package indi.yuluo.java.agent.multitool;\n\nimport com.google.adk.agents.BaseAgent;\nimport com.google.adk.agents.LlmAgent;\nimport com.google.adk.events.Event;\nimport com.google.adk.runner.InMemoryRunner;\nimport com.google.adk.sessions.Session;\nimport com.google.adk.tools.Annotations.Schema;\nimport com.google.adk.tools.FunctionTool;\nimport com.google.genai.types.Content;\nimport com.google.genai.types.Part;\nimport io.reactivex.rxjava3.core.Flowable;\nimport java.nio.charset.StandardCharsets;\nimport java.text.Normalizer;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Map;\nimport java.util.Scanner;\n\n/**\n * @author yuluo\n * @author <a href="mailto:yuluo08290126@gmail.com">yuluo</a>\n */\n\npublic class MultiToolAgent {\n\n    private static String USER_ID = "student";\n    private static String NAME = "multi_tool_agent";\n\n    // The run your agent with Dev UI, the ROOT_AGENT should be a global public static variable.\n    public static BaseAgent ROOT_AGENT = initAgent();\n\n    public static BaseAgent initAgent() {\n        return LlmAgent.builder()\n                .name(NAME)\n                .model("gemini-2.0-flash")\n                .description("Agent to answer questions about the time and weather in a city.")\n                .instruction(\n                        "You are a helpful agent who can answer user questions about the time and weather"\n                                + " in a city.")\n                .tools(\n                        FunctionTool.create(MultiToolAgent.class, "getCurrentTime"),\n                        FunctionTool.create(MultiToolAgent.class, "getWeather"))\n                .build();\n    }\n\n    public static Map<String, String> getCurrentTime(\n            @Schema(description = "The name of the city for which to retrieve the current time")\n            String city) {\n        String normalizedCity =\n                Normalizer.normalize(city, Normalizer.Form.NFD)\n                        .trim()\n                        .toLowerCase()\n                        .replaceAll("(\\\\p{IsM}+|\\\\p{IsP}+)", "")\n                        .replaceAll("\\\\s+", "_");\n\n        return ZoneId.getAvailableZoneIds().stream()\n                .filter(zid -> zid.toLowerCase().endsWith("/" + normalizedCity))\n                .findFirst()\n                .map(\n                        zid ->\n                                Map.of(\n                                        "status",\n                                        "success",\n                                        "report",\n                                        "The current time in "\n                                                + city\n                                                + " is "\n                                                + ZonedDateTime.now(ZoneId.of(zid))\n                                                .format(DateTimeFormatter.ofPattern("HH:mm"))\n                                                + "."))\n                .orElse(\n                        Map.of(\n                                "status",\n                                "error",\n                                "report",\n                                "Sorry, I don\'t have timezone information for " + city + "."));\n    }\n\n    public static Map<String, String> getWeather(\n            @Schema(description = "The name of the city for which to retrieve the weather report")\n            String city) {\n        if (city.toLowerCase().equals("new york")) {\n            return Map.of(\n                    "status",\n                    "success",\n                    "report",\n                    "The weather in New York is sunny with a temperature of 25 degrees Celsius (77 degrees"\n                            + " Fahrenheit).");\n\n        } else {\n            return Map.of(\n                    "status", "error", "report", "Weather information for " + city + " is not available.");\n        }\n    }\n\n    public static void main(String[] args) {\n        InMemoryRunner runner = new InMemoryRunner(ROOT_AGENT);\n\n        Session session =\n                runner\n                        .sessionService()\n                        .createSession(NAME, USER_ID)\n                        .blockingGet();\n\n        try (Scanner scanner = new Scanner(System.in, StandardCharsets.UTF_8)) {\n            while (true) {\n                System.out.print("\\nYou > ");\n                String userInput = scanner.nextLine();\n\n                if ("quit".equalsIgnoreCase(userInput)) {\n                    break;\n                }\n\n                Content userMsg = Content.fromParts(Part.fromText(userInput));\n                Flowable<Event> events = runner.runAsync(USER_ID, session.id(), userMsg);\n\n                System.out.print("\\nAgent > ");\n                events.blockingForEach(event -> System.out.println(event.stringifyContent()));\n            }\n        }\n    }\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"32-\u8fd0\u884c",children:"3.2 \u8fd0\u884c"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"AdkWebServer"})," \u4e0d\u80fd\u66f4\u6539\u3002"]}),"\n",(0,o.jsx)(n.li,{children:"\u8fd0\u884c\u6b64\u547d\u4ee4\u9700\u8981\u8df3\u8f6c\u5230\u9879\u76ee\u6839\u76ee\u5f55\uff08\u65e2 pom.xml \u6240\u5728\u7684\u76ee\u5f55\u6267\u884c\uff09"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:'mvn exec:java \\\n    -Dexec.mainClass="com.google.adk.web.AdkWebServer" \\\n    -Dexec.args="--adk.agents.source-dir=src/main/java" \\\n    -Dexec.classpathScope="compile" \n'})}),"\n",(0,o.jsx)(n.h3,{id:"33-\u8bbf\u95ee",children:"3.3 \u8bbf\u95ee"}),"\n",(0,o.jsx)(n.p,{children:"\u6d4f\u89c8\u5668\u6253\u5f00 localhost:8080 \u8bbf\u95ee\u524d\u7aef\u9875\u9762\uff0c\u53ef\u4ee5\u770b\u5230 Dev UI\uff1a"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"image-20250626233522684",src:t(90551).A+"",width:"1895",height:"860"})})]})}function g(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},90551:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/image-20250626233522684-9a5f2073e17b5ac3d7e7d1e5ade84e08.png"},89999:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>s});var a=t(58101);const o={},r=a.createContext(o);function i(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),a.createElement(r.Provider,{value:n},e.children)}},47776:e=>{e.exports=JSON.parse('{"permalink":"/blog/google-adk-java-quickstart","editUrl":"https://github.com/yuluo-yx/blog/edit/master/blog/AI-large-models/google-adk-java-quickstart.md","source":"@site/blog/AI-large-models/google-adk-java-quickstart.md","title":"Google ADK Java QuickStart","description":"1. ADK \u4ecb\u7ecd","date":"2025-06-27T23:34:54.000Z","tags":[{"inline":true,"label":"AI","permalink":"/blog/tags/ai"},{"inline":true,"label":"ADK","permalink":"/blog/tags/adk"}],"readingTime":2.57,"hasTruncateMarker":true,"authors":[{"name":"\u7267\u751f","title":"Java & go developer","url":"https://github.com/yuluo-yx","email":"yuluo08290126@gmail.com","socials":{"x":"https://x.com/yuluo","github":"https://github.com/yuluo-yx"},"imageURL":"https://kuizuo.cn/img/logo.png","key":"yuluo","page":null}],"frontMatter":{"slug":"google-adk-java-quickstart","title":"Google ADK Java QuickStart","date":"2025-06-27T23:34:54.000Z","authors":"yuluo","tags":["AI","ADK"],"keywords":["AI"]},"unlisted":false,"nextItem":{"title":"Gemini CLI QuickStart","permalink":"/blog/gemini-cli-quickstart"}}')}}]);