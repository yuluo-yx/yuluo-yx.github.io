<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://yuluo-yx.github.io/blog</id>
    <title>ç‰§ç”Ÿ</title>
    <updated>2025-02-09T14:26:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://yuluo-yx.github.io/blog"/>
    <subtitle>feedId:41215011978385457+userId:41840354283324416</subtitle>
    <icon>https://yuluo-yx.github.io/img/favicon.ico</icon>
    <rights>Copyright Â© 2025 ç‰§ç”Ÿ Built with Docusaurus.&lt;p&gt;Everything Wins ğŸ‰&lt;/p&gt;.</rights>
    <entry>
        <title type="html"><![CDATA[æœ¬åœ°éƒ¨ç½²å’Œä½¿ç”¨ Dubbo-Kubernetes]]></title>
        <id>https://yuluo-yx.github.io/blog/dubbo-kubernetes-local-run</id>
        <link href="https://yuluo-yx.github.io/blog/dubbo-kubernetes-local-run"/>
        <updated>2025-02-09T14:26:00.000Z</updated>
        <summary type="html"><![CDATA[Dubbo Mesh]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="dubbo-mesh">Dubbo Mesh<a href="https://yuluo-yx.github.io/blog/dubbo-kubernetes-local-run#dubbo-mesh" class="hash-link" aria-label="Dubbo Meshçš„ç›´æ¥é“¾æ¥" title="Dubbo Meshçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>Dubbo Mesh æ˜¯ Dubbo åœ¨äº‘åŸç”ŸèƒŒæ™¯çš„å¾®æœåŠ¡æ•´ä½“è§£å†³æ–¹æ¡ˆï¼Œå®ƒå¸®åŠ©å¼€å‘è€…å®ç° Dubbo æœåŠ¡ä¸æ ‡å‡†çš„ Kubernetes Native Service ä½“ç³»çš„æ‰“é€šï¼Œè®© Dubbo åº”ç”¨èƒ½å¤Ÿæ— ç¼æ¥å…¥ Istio ç­‰ä¸šç•Œä¸»æµæœåŠ¡ç½‘æ ¼äº§å“ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="dubbo-kubernetes">Dubbo Kubernetes<a href="https://yuluo-yx.github.io/blog/dubbo-kubernetes-local-run#dubbo-kubernetes" class="hash-link" aria-label="Dubbo Kubernetesçš„ç›´æ¥é“¾æ¥" title="Dubbo Kubernetesçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥<a href="https://yuluo-yx.github.io/blog/dubbo-kubernetes-local-run#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5" class="hash-link" aria-label="å‚è€ƒé“¾æ¥çš„ç›´æ¥é“¾æ¥" title="å‚è€ƒé“¾æ¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ol>
<li>Dubbo Meshï¼š<a href="https://cn.dubbo.apache.org/zh-cn/overview/what/core-features/service-mesh/#dubbo-mesh" target="_blank" rel="noopener noreferrer">https://cn.dubbo.apache.org/zh-cn/overview/what/core-features/service-mesh/#dubbo-mesh</a></li>
<li>Dubbo-Kubernetesï¼š<a href="https://github.com/apache/dubbo-kubernetes" target="_blank" rel="noopener noreferrer">https://github.com/apache/dubbo-kubernetes</a></li>
<li></li>
</ol>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="Cloud Native" term="Cloud Native"/>
        <category label="Dubbo" term="Dubbo"/>
        <category label="Kuberneters" term="Kuberneters"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä½¿ç”¨ Kind æ¨¡æ‹Ÿ k8s é›†ç¾¤]]></title>
        <id>https://yuluo-yx.github.io/blog/use-kind-build-k8s-cluster</id>
        <link href="https://yuluo-yx.github.io/blog/use-kind-build-k8s-cluster"/>
        <updated>2025-02-09T14:26:00.000Z</updated>
        <summary type="html"><![CDATA[å®‰è£… Docker]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å®‰è£…-docker">å®‰è£… Docker<a href="https://yuluo-yx.github.io/blog/use-kind-build-k8s-cluster#%E5%AE%89%E8%A3%85-docker" class="hash-link" aria-label="å®‰è£… Dockerçš„ç›´æ¥é“¾æ¥" title="å®‰è£… Dockerçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>Docker Desktopï¼š<a href="https://docs.docker.com/desktop/setup/install/mac-install/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/desktop/setup/install/mac-install/</a></p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--version</span><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Docker version </span><span class="token number" style="color:hsl(35, 99%, 36%)">27.4</span><span class="token plain">.0, build bde2b89</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å®‰è£…-kind">å®‰è£… Kind<a href="https://yuluo-yx.github.io/blog/use-kind-build-k8s-cluster#%E5%AE%89%E8%A3%85-kind" class="hash-link" aria-label="å®‰è£… Kindçš„ç›´æ¥é“¾æ¥" title="å®‰è£… Kindçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä½¿ç”¨ kind æ¨¡æ‹Ÿ K8s é›†ç¾¤ï¼š</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># ç›´æ¥ä½¿ç”¨ brew å®‰è£…</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">brew </span><span class="token function" style="color:hsl(221, 87%, 60%)">install</span><span class="token plain"> kind</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># æŸ¥çœ‹ç‰ˆæœ¬</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ kind </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--version</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kind version </span><span class="token number" style="color:hsl(35, 99%, 36%)">0.26</span><span class="token plain">.0</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># kubectl ç‰ˆæœ¬</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ kubectl version  </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Client Version: v1.30.5</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Kustomize Version: v5.0.4-0.20230601165947-6ce0bf390ce3</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¯åŠ¨-k8s-é›†ç¾¤">å¯åŠ¨ k8s é›†ç¾¤<a href="https://yuluo-yx.github.io/blog/use-kind-build-k8s-cluster#%E5%90%AF%E5%8A%A8-k8s-%E9%9B%86%E7%BE%A4" class="hash-link" aria-label="å¯åŠ¨ k8s é›†ç¾¤çš„ç›´æ¥é“¾æ¥" title="å¯åŠ¨ k8s é›†ç¾¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ kind create cluster </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--name</span><span class="token plain"> istio-k8s</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Creating cluster </span><span class="token string" style="color:hsl(119, 34%, 47%)">"istio-k8s"</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> âœ“ Ensuring </span><span class="token function" style="color:hsl(221, 87%, 60%)">node</span><span class="token plain"> image </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">kindest/node:v1.32.0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> ğŸ–¼ </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> âœ“ Preparing nodes ğŸ“¦  </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> âœ“ Writing configuration ğŸ“œ </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> âœ“ Starting control-plane ğŸ•¹ï¸ </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> âœ“ Installing CNI ğŸ”Œ </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> âœ“ Installing StorageClass ğŸ’¾ </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Set kubectl context to </span><span class="token string" style="color:hsl(119, 34%, 47%)">"kind-istio-k8s"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">You can now use your cluster with:</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kubectl cluster-info </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--context</span><span class="token plain"> kind-istio-k8s</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Have a question, bug, or feature request? Let us know</span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> https://kind.sigs.k8s.io/</span><span class="token comment" style="color:hsl(230, 4%, 64%)">#community ğŸ™‚</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æŸ¥çœ‹é›†ç¾¤èµ„æº">æŸ¥çœ‹é›†ç¾¤èµ„æº<a href="https://yuluo-yx.github.io/blog/use-kind-build-k8s-cluster#%E6%9F%A5%E7%9C%8B%E9%9B%86%E7%BE%A4%E8%B5%84%E6%BA%90" class="hash-link" aria-label="æŸ¥çœ‹é›†ç¾¤èµ„æºçš„ç›´æ¥é“¾æ¥" title="æŸ¥çœ‹é›†ç¾¤èµ„æºçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ kgpa</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">NAMESPACE            NAME                                              READY   STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kube-system          coredns-668d6bf9bc-62mtm                          </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">          62s</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kube-system          coredns-668d6bf9bc-7vd5d                          </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">          62s</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kube-system          etcd-istio-k8s-control-plane                      </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">          70s</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kube-system          kindnet-94phb                                     </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">          62s</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kube-system          kube-apiserver-istio-k8s-control-plane            </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">          70s</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kube-system          kube-controller-manager-istio-k8s-control-plane   </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">          69s</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kube-system          kube-proxy-6kz4m                                  </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">          62s</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kube-system          kube-scheduler-istio-k8s-control-plane            </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">          69s</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">local-path-storage   local-path-provisioner-58cc7856b6-q6rvb           </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain">/1     Running   </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain">          62s</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="docker-container-æŸ¥çœ‹">Docker container æŸ¥çœ‹<a href="https://yuluo-yx.github.io/blog/use-kind-build-k8s-cluster#docker-container-%E6%9F%A5%E7%9C%8B" class="hash-link" aria-label="Docker container æŸ¥çœ‹çš„ç›´æ¥é“¾æ¥" title="Docker container æŸ¥çœ‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">ps</span><span class="token plain">                       </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">CONTAINER ID   IMAGE                  COMMAND                   CREATED         STATUS              PORTS                       NAMES</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">17df49a0e07c   kindest/node:v1.32.0   </span><span class="token string" style="color:hsl(119, 34%, 47%)">"/usr/local/bin/entrâ€¦"</span><span class="token plain">   </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> minutes ago   Up About a minute   </span><span class="token number" style="color:hsl(35, 99%, 36%)">127.0</span><span class="token plain">.0.1:62209-</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token number" style="color:hsl(35, 99%, 36%)">6443</span><span class="token plain">/tcp   istio-k8s-control-plane</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¸¸ç”¨çš„-kind-å‘½ä»¤">å¸¸ç”¨çš„ kind å‘½ä»¤<a href="https://yuluo-yx.github.io/blog/use-kind-build-k8s-cluster#%E5%B8%B8%E7%94%A8%E7%9A%84-kind-%E5%91%BD%E4%BB%A4" class="hash-link" aria-label="å¸¸ç”¨çš„ kind å‘½ä»¤çš„ç›´æ¥é“¾æ¥" title="å¸¸ç”¨çš„ kind å‘½ä»¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># è·å–å½“å‰çš„é›†ç¾¤åˆ—è¡¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kind get clusters</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># æŒ‡å®š kubectl ä½¿ç”¨çš„ kind é›†ç¾¤</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kubectl cluster-info </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--context</span><span class="token plain"> é›†ç¾¤åå­—</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># æŸ¥çœ‹æŸä¸ªé›†ç¾¤çš„é…ç½®ä¿¡æ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kind get kubeconfig </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">kind</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># åˆ é™¤å‡ åœˆ</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">kind delete cluster kind</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="kind-k8s-é›†ç¾¤çš„åœæ­¢å’Œé‡å¯">kind K8s é›†ç¾¤çš„åœæ­¢å’Œé‡å¯<a href="https://yuluo-yx.github.io/blog/use-kind-build-k8s-cluster#kind-k8s-%E9%9B%86%E7%BE%A4%E7%9A%84%E5%81%9C%E6%AD%A2%E5%92%8C%E9%87%8D%E5%90%AF" class="hash-link" aria-label="kind K8s é›†ç¾¤çš„åœæ­¢å’Œé‡å¯çš„ç›´æ¥é“¾æ¥" title="kind K8s é›†ç¾¤çš„åœæ­¢å’Œé‡å¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># å¯ä»¥ç›´æ¥ä½¿ç”¨ docker æ§åˆ¶</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">ps</span><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">CONTAINER ID   IMAGE                  COMMAND                   CREATED         STATUS         PORTS                       NAMES</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">17df49a0e07c   kindest/node:v1.32.0   </span><span class="token string" style="color:hsl(119, 34%, 47%)">"/usr/local/bin/entrâ€¦"</span><span class="token plain">   </span><span class="token number" style="color:hsl(35, 99%, 36%)">7</span><span class="token plain"> minutes ago   Up </span><span class="token number" style="color:hsl(35, 99%, 36%)">7</span><span class="token plain"> minutes   </span><span class="token number" style="color:hsl(35, 99%, 36%)">127.0</span><span class="token plain">.0.1:62209-</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token number" style="color:hsl(35, 99%, 36%)">6443</span><span class="token plain">/tcp   istio-k8s-control-plane</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># kind é›†ç¾¤çš„ container ä¸º 17df49a0e07c</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># åœæ­¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">docker</span><span class="token plain"> stop 17df49a0e07c</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ä½¿ç”¨ kgpa éªŒè¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ kgpa</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">The connection to the server </span><span class="token number" style="color:hsl(35, 99%, 36%)">127.0</span><span class="token plain">.0.1:62209 was refused - did you specify the right </span><span class="token function" style="color:hsl(221, 87%, 60%)">host</span><span class="token plain"> or port?</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># kind é›†ç¾¤å·²ç»æˆåŠŸåœæ­¢</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="Cloud Native" term="Cloud Native"/>
        <category label="Kind" term="Kind"/>
        <category label="Kuberneters" term="Kuberneters"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä½¿ç”¨ docusaurus æ›´æ–° Blog]]></title>
        <id>https://yuluo-yx.github.io/blog/blog-update</id>
        <link href="https://yuluo-yx.github.io/blog/blog-update"/>
        <updated>2025-02-03T22:25:06.000Z</updated>
        <summary type="html"><![CDATA[èƒŒæ™¯]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="èƒŒæ™¯">èƒŒæ™¯<a href="https://yuluo-yx.github.io/blog/blog-update#%E8%83%8C%E6%99%AF" class="hash-link" aria-label="èƒŒæ™¯çš„ç›´æ¥é“¾æ¥" title="èƒŒæ™¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä¹‹å‰çš„ Blog ç”¨çš„æ˜¯ Hexo + Fluid æ­å»ºçš„ï¼Œä¸ªäººæ„Ÿè§‰ä¸å¤ªå¥½çœ‹ï¼Œè€Œä¸”å¯¹ Markdown å…¬å¼æ”¯æŒçš„ä¸å‹å¥½ã€‚æ‰€ä»¥è¶ç€ç©ºé—²æ—¶é—´èŒç”Ÿäº†æ¢ä¸€ä¸ªçš„æƒ³æ³•ã€‚ç½‘ä¸Šä¸€é¡¿æœç´¢ä¹‹åï¼Œçœ‹åˆ°äº† docusaurusã€‚ä¹‹å‰ä¹Ÿæœ‰ä½¿ç”¨è¿‡ï¼Œæ‰€ä»¥å°±å†³å®šä»¥è¿™ä¸ªä¸ºæ–‡æ¡£æ¡†æ¶ï¼Œæœ¬æ¥æƒ³è‡ªå·±æ”¹ä¸€äº›å‰ç«¯æ ·å¼ï¼Œä½†æ˜¯æƒ³æƒ³å¤ªè´¹äº‹äº†ï¼Œä¸å¦‚æ‰¾ä¸ªç°æˆçš„ï¼Œäºæ˜¯ï¼Œæ‰¾åˆ°äº† <a href="https://github.com/kuizuo" target="_blank" rel="noopener noreferrer">@Kuizuo</a> å¤§ä½¬é­”æ”¹çš„ docusaurus æ ·å¼ä¸»é¢˜ã€‚ç›´æ¥å¥—å£³ cv äº†ã€‚</p>
<p>åŸæ ·å¼å¦‚ä¸‹ï¼š</p>
<p><img decoding="async" loading="lazy" alt="kuizuo blog" src="https://yuluo-yx.github.io/assets/images/blog-e209e342b895940d73a171ae72b38c75.png" width="1400" height="800" class="img_c29J"></p>
<p>çœ‹ç€æ•ˆæœæ¯”æˆ‘ä¹‹å‰çš„å¥½å¤šäº†ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="é‡æ„å‚è€ƒ">é‡æ„å‚è€ƒ<a href="https://yuluo-yx.github.io/blog/blog-update#%E9%87%8D%E6%9E%84%E5%8F%82%E8%80%83" class="hash-link" aria-label="é‡æ„å‚è€ƒçš„ç›´æ¥é“¾æ¥" title="é‡æ„å‚è€ƒçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å¤§éƒ¨åˆ†çš„æ­¥éª¤éƒ½å¯ä»¥ kuizuo å¤§ä½¬çš„ <a href="https://kuizuo.cn/docs/docusaurus-guides" target="_blank" rel="noopener noreferrer">https://kuizuo.cn/docs/docusaurus-guides</a> æ–‡æ¡£ã€‚</p>
<p>æè¿°ä¸‹æˆ‘åšçš„ä¿®æ”¹ï¼š</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="makefile">makefile<a href="https://yuluo-yx.github.io/blog/blog-update#makefile" class="hash-link" aria-label="makefileçš„ç›´æ¥é“¾æ¥" title="makefileçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åŸé¡¹ç›®ä¸­æ˜¯æ²¡æœ‰ makefile çš„ï¼Œæˆ‘åŠ äº†ä¸€äº› makefile å‘½ä»¤ï¼Œç»™ github action ä½¿ç”¨åŒæ—¶ä¹Ÿæ–¹ä¾¿è‡ªå·±ï¼š</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">make</span><span class="token plain"> </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">help</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Usage:</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token function" style="color:hsl(221, 87%, 60%)">make</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">Target</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Targets:</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Common</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token function" style="color:hsl(221, 87%, 60%)">install</span><span class="token plain">          Install the dependencies.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Docs</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  preview          Start the Docusaurus server </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">in</span><span class="token plain"> preview mode.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  build            Build the Docusaurus site.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  serve            Start Docusaurus site with server mode.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Linter</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  markdown         Lint Check the markdown files.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  markdown-fix     Lint Check the markdown files and fix them.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  yamllint         Lint Check the yaml files.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  codespell        Lint Check the codespell.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  checklinks       Check </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> broken links </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">in</span><span class="token plain"> the docs</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  pnpm-lint        Lint Check the </span><span class="token function" style="color:hsl(221, 87%, 60%)">pnpm</span><span class="token plain"> files.</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åŠ å…¥äº†å¯¹ yaml å’Œ markdown æ ¼å¼çš„æ£€æµ‹ï¼Œç­‰ç­‰ï¼Œè™½ç„¶ docusaurus ä¹Ÿæœ‰ï¼Œä½†å¤–ç½®çš„å¯æ§æ€§æ›´é«˜ä¸€äº›ã€‚åŒæ—¶ä¹Ÿæ˜¯æˆ‘ç†Ÿæ‚‰çš„æ–¹å¼ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¯¹å…¶ä¸­ç»„ä»¶ä¿®æ”¹">å¯¹å…¶ä¸­ç»„ä»¶ä¿®æ”¹<a href="https://yuluo-yx.github.io/blog/blog-update#%E5%AF%B9%E5%85%B6%E4%B8%AD%E7%BB%84%E4%BB%B6%E4%BF%AE%E6%94%B9" class="hash-link" aria-label="å¯¹å…¶ä¸­ç»„ä»¶ä¿®æ”¹çš„ç›´æ¥é“¾æ¥" title="å¯¹å…¶ä¸­ç»„ä»¶ä¿®æ”¹çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å¯¹ç»„ä»¶æ²¡æœ‰åšè¿‡å¤šä¿®æ”¹ï¼Œåªæ”¹äº†äº›ç»„ä»¶æ˜¾ç¤ºæ•ˆæœå’ŒåŠ äº†ä¸€äº›ç»„ä»¶ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ–‡æ¡£è¿ç§»">æ–‡æ¡£è¿ç§»<a href="https://yuluo-yx.github.io/blog/blog-update#%E6%96%87%E6%A1%A3%E8%BF%81%E7%A7%BB" class="hash-link" aria-label="æ–‡æ¡£è¿ç§»çš„ç›´æ¥é“¾æ¥" title="æ–‡æ¡£è¿ç§»çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>cv å’ŒæŒ¨ä¸ªåŠ æ ‡ç­¾ã€‚ğŸ¤£</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="github-action">Github Action<a href="https://yuluo-yx.github.io/blog/blog-update#github-action" class="hash-link" aria-label="Github Actionçš„ç›´æ¥é“¾æ¥" title="Github Actionçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åŠ äº†ä½¿ç”¨ github pages éƒ¨ç½²å’Œå¯¹é¡¹ç›®ä»£ç æ£€æµ‹çš„ workflowsã€‚yaml å¦‚ä¸‹ï¼š</p>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Deploy</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">on</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">pull_request</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">branches</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"main"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">push</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">branches</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"main"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">concurrency</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">group</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> github.workflow </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">$</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> github.ref </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">cancel-in-progress</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(230, 8%, 24%);font-weight:bold">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">jobs</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">build-and-deploy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">runs-on</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> matrix.os </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">needs</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">lint</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">check</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">strategy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">matrix</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">os</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">ubuntu</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">latest</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">node-version</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">20.x</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">steps</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">uses</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># v4.2.2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">uses</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> ./tools/github</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">actions/setup</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">deps</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Install dependencies</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">run</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> pnpm install</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Build</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">run</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> pnpm build</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">uses</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> peaceiris/actions</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">gh</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">pages@v3</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">with</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">github_token</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> secrets.BLOG_DEPLOY_TOKEN </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">          </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">publish_dir</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> ./build</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">lint-check</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Lint</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">runs-on</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">strategy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">matrix</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">node-version</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">20.x</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">steps</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">uses</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># v4.2.2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">uses</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> ./tools/github</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">actions/setup</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">deps</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">uses</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> actions/setup</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">python@v5</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Checkout LFS objects</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">run</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> git lfs checkout</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Install tools</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">run</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> make install</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">tools</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Install dependencies</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">run</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> pnpm install</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Run Pnpm Lint</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">run</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> make pnpm</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">lint</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Run Markdown Lint</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">run</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> make markdown</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Run Yaml Lint</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">run</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> make yamllint</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Run CodeSpell Lint</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">run</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> make codespell</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ·»åŠ æœç´¢åŠŸèƒ½">æ·»åŠ æœç´¢åŠŸèƒ½<a href="https://yuluo-yx.github.io/blog/blog-update#%E6%B7%BB%E5%8A%A0%E6%90%9C%E7%B4%A2%E5%8A%9F%E8%83%BD" class="hash-link" aria-label="æ·»åŠ æœç´¢åŠŸèƒ½çš„ç›´æ¥é“¾æ¥" title="æ·»åŠ æœç´¢åŠŸèƒ½çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å‚è€ƒï¼š<a href="https://kuizuo.cn/docs/docusaurus-search" target="_blank" rel="noopener noreferrer">https://kuizuo.cn/docs/docusaurus-search</a></p>
<ol>
<li>
<p>ç”³è¯· <a href="https://www.algolia.com/" target="_blank" rel="noopener noreferrer">https://www.algolia.com/</a> è´¦å·ï¼›</p>
</li>
<li>
<p>åœ¨å³ä¸Šè§’ç‚¹å‡»ï¼Œä½¿ç”¨ google è´¦å·ç™»é™†ä¹‹åï¼›</p>
</li>
<li>
<p>è·³è¿‡å¼•å¯¼æ­¥éª¤ï¼›</p>
</li>
<li>
<p>åˆ°è¾¾æ¬¢è¿é¡µé¢ä¹‹åï¼Œå¯ä»¥çœ‹åˆ° Application ID å’Œ Search API Keyï¼ˆä¸€å®šè¦æ˜¯ Searchï¼‰ï¼›</p>
</li>
<li>
<p>å°† id å’Œ key å¡«å…¥ docusaurus é…ç½®ä¸­ï¼›</p>
</li>
</ol>
<div class="language-ts codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-ts codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">themeConfig</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    algolia</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      apiKey</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"xxxxxxxxxxx"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      appId</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"xxxxxxxxxxx"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      indexName</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"yuluo"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="6">
<li>åˆ›å»º github action æ–‡ä»¶ï¼Œåœ¨æäº¤ä»£ç æ—¶è§¦å‘çˆ¬è™«æ“ä½œï¼š</li>
</ol>
<div class="language-yaml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-yaml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token key atrule" style="color:hsl(35, 99%, 36%)">algolia-docsearch</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">runs-on</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">needs</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">lint</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">check</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> build</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">and</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">deploy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">steps</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">uses</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># v4.2.2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Get the content of docsearch.json as config</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> algolia_config</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">run</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> echo "</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">set</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">output name=config</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">$(cat docsearch.json </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">|</span><span class="token plain"> jq </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">r tostring)"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Run algolia/docsearch</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">scraper image</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">env</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">ALGOLIA_APP_ID</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> secrets.ALGOLIA_APP_ID </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">ALGOLIA_API_KEY</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> secrets.ALGOLIA_API_KEY </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">CONFIG</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> steps.algolia_config.outputs.config </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">run</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">|</span><span class="token scalar string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token scalar string" style="color:hsl(119, 34%, 47%)">        docker run \</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token scalar string" style="color:hsl(119, 34%, 47%)">          --env APPLICATION_ID=${ALGOLIA_APP_ID} \</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token scalar string" style="color:hsl(119, 34%, 47%)">          --env API_KEY=${ALGOLIA_API_KEY} \</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token scalar string" style="color:hsl(119, 34%, 47%)">          --env "CONFIG=${CONFIG}" \</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token scalar string" style="color:hsl(119, 34%, 47%)">          algolia/docsearch-scraper</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="7">
<li>
<p>åœ¨ github ä»“åº“è®¾ç½® action secrets å‚æ•°ï¼›</p>
</li>
<li>
<p>æäº¤ä»£ç ï¼Œè§¦å‘çˆ¬è™« ciï¼Œç­‰å¾…æŸ¥çœ‹æ•ˆæœã€‚</p>
</li>
</ol>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="todo">Todo<a href="https://yuluo-yx.github.io/blog/blog-update#todo" class="hash-link" aria-label="Todoçš„ç›´æ¥é“¾æ¥" title="Todoçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<ol>
<li>åŠ å…¥æ—¥æœŸæ˜¾ç¤ºçš„ html æ ·å¼ï¼›</li>
<li>ä½¿ç”¨ç»˜åˆ¶ svg å½¢å¼çš„ logoï¼›</li>
<li>å®Œå–„æœç´¢åŠŸèƒ½ï¼›</li>
</ol>
<p>æ›´å¤šåŠŸèƒ½å¼€å‘ä¸­...</p>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="Blog" term="Blog"/>
        <category label="Docusaurus" term="Docusaurus"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[2024 å¹´ç»ˆæ€»ç»“]]></title>
        <id>https://yuluo-yx.github.io/blog/2024-year-summary</id>
        <link href="https://yuluo-yx.github.io/blog/2024-year-summary"/>
        <updated>2025-02-03T20:12:00.000Z</updated>
        <summary type="html"><![CDATA[å°é¢æ‹æ‘„è‡ªæ­å·å¸‚ä¸´å¹³åŒº]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p>å°é¢æ‹æ‘„è‡ªæ­å·å¸‚ä¸´å¹³åŒº</p>
</blockquote>
<p>ä»Šå¤©æ˜¯ 2025 å¹´ 2 æœˆ 3 å·ï¼ˆæ²¡æƒ³åˆ°éšä¾¿é€‰çš„æ—¥å­ç«Ÿç„¶å’Œ 2023 å¹´é‡åˆäº†ï¼ï¼‰ã€‚æœ‰ç‚¹æ—¶é—´å‡†å¤‡å†™ä¸€ä¸‹ 2024 å¹´çš„å¹´ç»ˆæ€»ç»“ï¼Œä¹‹å‰æƒ³å†™æ€»æ˜¯æ²¡æ—¶é—´å†™ã€‚ğŸ¤£</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="2024-review">2024 review<a href="https://yuluo-yx.github.io/blog/2024-year-summary#2024-review" class="hash-link" aria-label="2024 reviewçš„ç›´æ¥é“¾æ¥" title="2024 reviewçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<blockquote>
<p>2024 å¹´ 7 æœˆä»½æ¯•ä¸šï¼Œä»å­¦æ ¡è¿›å…¥å·¥ä½œå²—ä½ã€‚</p>
</blockquote>
<p>æµæ°´å¸å¼çš„å›é¡¾ä¸€ä¸‹ 2024 å¹´å‘ç”Ÿçš„äº‹æƒ…ï¼›ä» 2023 å¹´æ€»ç»“ç»“æŸä¹‹åï¼Œä¹Ÿå°±æ˜¯ 24 å¹´ 2 æœˆ 3 å·ä»¥åã€‚ä¹°äº†è½¦ç¥¨å»æ­å·çš„ä½ä»£ç åˆåˆ›å…¬å¸ï¼Œå»äº†ä¸ä¹…å°±ç¦»èŒæ’¤äº†ã€‚
ä¹‹åä¾¿å›å®¶å»å‡†å¤‡æ˜¥æ‹›å’Œæ¯•ä¸šè®ºæ–‡çš„äº‹æƒ…ã€‚åŒæ—¶ä¹Ÿåœ¨ Spring Cloud Alibaba ç¤¾åŒºå‚ä¸å‘èµ·äº† Spring Cloud Alibaba AI é¡¹ç›®ï¼Œæ­£å¼æ¥è§¦äº† AI æ¡†æ¶çš„å¼€å‘ï¼Œå¯¹ Spring AI
ä¹Ÿæœ‰äº†ä¸€äº›äº†è§£å’Œè®¤è¯†ã€‚æ¥ä¸‹æ¥å°±æ˜¯æ¯•ä¸šè®ºæ–‡ï¼Œå¼€æºï¼ŒSCA AIï¼Œæ‰¾å·¥ä½œï¼Œä¸‰ä»¶äº‹å¹¶è¡Œï¼ˆSCA AI ä¹Ÿç®—æ˜¯å¼€æºçš„ä¸€éƒ¨åˆ†ã€‚ï¼‰</p>
<p>åŒæ—¶ï¼Œæƒ³ç€å¤šå­¦é—¨è¯­è¨€ï¼ˆæŠ€å¤šä¸å‹èº« ğŸ¤£ï¼‰ï¼Œå­¦ä¹ äº† GOï¼Œåœ¨ Github æ‰¾äº†ï¼ˆLinuxSuRen/APITestingï¼‰å¼€æºé¡¹ç›®å»å‚ä¸ï¼Œå­¦ä¹ å’Œåœ¨å¤§å‹é¡¹ç›®é‡Œä½¿ç”¨ GOã€‚åŒæ—¶ä¹Ÿå¾ˆè£å¹¸çš„è®¤è¯†äº† <a href="https://github.com/LinuxSuRen/api-testing" target="_blank" rel="noopener noreferrer">@Rick</a>ã€‚è¿™é‡Œæ„Ÿè°¢ <a href="https://github.com/LinuxSuRen/api-testing" target="_blank" rel="noopener noreferrer">@Rick</a> å¯¹æˆ‘çš„å¸®åŠ© ğŸ«¡ã€‚åœ¨å…­æœˆä»½çš„æ—¶å€™ï¼Œæåäº† APITesting é¡¹ç›®çš„ Committerã€‚ä¹Ÿæ˜¯å¼€æºç»å†ä¸­çš„ç¬¬äºŒä¸ª Committer èº«ä»½ã€‚ğŸ˜†</p>
<p>å…­æœˆä»½é¡ºåˆ©å®Œæˆäº†æ¯•ä¸šè®¾è®¡å’Œæ¯•ä¸šè®ºæ–‡ï¼ŒåŒæ—¶ä¹Ÿæ‰¾åˆ°äº†ä¸€ä»½å·¥ä½œã€‚7 æœˆä¸­æ—¬å­¦æ ¡äº‹æƒ…å¿™å®Œäº†ã€‚ä¾¿æ”¶æ‹¾ä¸œè¥¿å»äº†æ­å·ã€‚ä¹‹åå› ä¸ºä¸€äº›åŸå› ï¼Œç­ä¹Ÿæ²¡ä¸Šæˆï¼Œè‰è‰ç»“æŸäº†æ­å·çš„å·¥ä½œã€‚</p>
<p>åœ¨æ­å·å¾…çš„ä¸€æ®µæ—¶é—´ï¼Œç»™è‡ªå·±æäº†ä¸€ä¸ªçŸ­æœŸç›®æ ‡ï¼šæˆä¸º Apache çš„ Committerã€‚ä¹‹åçš„ä¸€ä¸¤ä¸ªæœˆæ—¶é—´éƒ½åœ¨ä¸ºæ­¤åŠªåŠ›ï¼Œæœ‰æ—¶é—´å°±ç»™ Apache/Hertbeat é¡¹ç›®æäº¤ä»£ç ã€‚ç»è¿‡ä¸€æ®µæ—¶é—´çš„è¶…é«˜æäº¤ä¹‹åï¼Œé¡ºåˆ©è¾¾æˆäº†ç›®æ ‡ï¼Œè¿›å…¥äº† Apache orgï¼Œæ‹¿åˆ°äº† Committer çš„æåã€‚</p>
<p><img decoding="async" loading="lazy" alt="Apache Org" src="https://yuluo-yx.github.io/assets/images/2024-summary-1-caa16463b17fbbe53fc77fad82353e55.jpg" width="1048" height="321" class="img_c29J"></p>
<p>æœŸé—´ä¹Ÿæ°é€¢ CocA 2024 åœ¨æ­å·å¬å¼€ï¼Œå¹¸è¿çš„è®¤è¯†äº† <a href="https://github.com/Pil0tXia" target="_blank" rel="noopener noreferrer">@Pil0tXia</a>ã€‚ä¹Ÿè§åˆ°äº†è®¸å¤šä¼˜ç§€å¼€æºé¡¹ç›®çš„ç»„ç»‡è€…å’Œå¸ƒé“å¸ˆã€‚</p>
<p>ä¹‹åç»è¿‡å¾ˆé•¿ä¸€ä¸€æ®µæ—¶é—´çš„ gapï¼Œåœ¨ 11 æœˆåˆæ¥åˆ°äº†éƒ‘å·ã€‚å¼€å§‹äº†çœŸæ­£æ„ä¹‰ä¸Šçš„å·¥ä½œã€‚å¸Œæœ›èƒ½åœ¨éƒ‘å·å­¦ä¹ åˆ°æ›´å¤šä¸œè¥¿ï¼Œè·å¾—æ›´å¤šçš„æˆé•¿ï¼ğŸ«¡</p>
<p>åœ¨éƒ‘å·ä¸Šç­ï¼Œä¹Ÿæ²¡æœ‰è½ä¸‹å¼€æºï¼Œä» Spring Cloud Alibaba AI é¡¹ç›®çš„å‘èµ·ä¹‹åï¼Œä¸€ç›´å‚ä¸ç¤¾åŒºç»´æŠ¤ï¼Œé¡¹ç›®ä¹Ÿä»ä¹‹å‰çš„ Spring Cloud Alibaba çš„ä¸€ä¸ª Starter å­µåŒ–æˆäº†ä¸€ä¸ªç‹¬ç«‹çš„é¡¹ç›® â€”â€”â€”â€” alibaba/spring-ai-alibabaã€‚ä¹Ÿå¾ˆè£å¹¸ï¼Œåœ¨ 2024 å¹´ 12 æœˆä»½è·å¾—äº† spring-ai-alibaba é¡¹ç›®çš„æåã€‚æ˜¯å¼€æºç»ç†ä¸­çš„ç¬¬å››ä¸ª Committerã€‚ğŸ‰</p>
<p>åˆ°æ­¤ä¸ºæ­¢ï¼Œ2024 å¹´çš„ç”Ÿæ´»ç»å†ä¹Ÿå°±ç»“æŸäº†ã€‚æœŸé—´ç»å†äº†è®¸å¤šï¼Œä¹Ÿæˆé•¿äº†è®¸å¤šã€‚çœ‹åˆ°äº†ä¸€äº›ç¤¾ä¼šç”Ÿæ´»çš„ç™¾æ€ï¼Œä½“ä¼šäº†ä¸åŒçš„äººç”Ÿå†ç¨‹ã€‚æ€»ç»“ä¸‹ 2024 çš„ç”Ÿæ´»ï¼Œå¾—åˆ°çš„ç”Ÿæ´»ç»éªŒå°±æ˜¯ï¼š</p>
<div class="theme-admonition theme-admonition-warning admonition_lhEC alert alert--warning"><div class="admonitionHeading_O9Fl"><span class="admonitionIcon_evF6"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>æ³¨æ„</div><div class="admonitionContent_h773"><p>è°¨æ€ï¼è°¨è¨€ï¼è°¨è¡Œï¼</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="2025-feature">2025 Feature<a href="https://yuluo-yx.github.io/blog/2024-year-summary#2025-feature" class="hash-link" aria-label="2025 Featureçš„ç›´æ¥é“¾æ¥" title="2025 Featureçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å›é¡¾äº†ä¸‹ 2024 çš„ç”Ÿæ´»ç»å†ã€‚åœ¨ 2025 å¹´é‡Œï¼Œå¸Œæœ›èƒ½å®Œæˆä¸‹é¢çš„äº‹æƒ…ï¼š</p>
<ol>
<li>æˆä¸ºäº‘åŸç”Ÿé¡¹ç›®çš„è´¡çŒ®è€…ï¼›</li>
<li>å­¦ä¹ è‹±è¯­ï¼Œèƒ½å¬æ‡‚å¹¶è¯´å‡ºæ¥ï¼›ï¼ˆè¿™æ˜¯ä¸ªæ°¸æ’çš„è¯é¢˜ï¼Œå­¦æ— æ­¢å°½ ğŸ¤”</li>
<li>è®¤çœŸå·¥ä½œï¼Œäº‰å–åœ¨å·¥ä½œä¸Šäº†åšå‡ºä¸€äº›æˆç»©ï¼›</li>
<li>å­¦ä¼šå¹ç¬›å­ï¼ŒåŸ¹å…»ä¸‹é™¤äº†æ•²ä»£ç ï¼Œæ‰“ç¯®çƒå’Œä¹’ä¹“çƒä¹‹å¤–çš„ä¸šä½™çˆ±å¥½ã€‚</li>
</ol>
<p>å¥½äº†ï¼Œ2024 å¹´çš„å›é¡¾å°±åˆ°è¿™é‡Œï¼ŒæœŸå¾… 2025 ï¼ğŸ‰</p>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="å¹´ç»ˆæ€»ç»“" term="å¹´ç»ˆæ€»ç»“"/>
        <category label="2024" term="2024"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ·±åº¦å­¦ä¹ åˆæ¢]]></title>
        <id>https://yuluo-yx.github.io/blog/deep-learn-init</id>
        <link href="https://yuluo-yx.github.io/blog/deep-learn-init"/>
        <updated>2025-01-01T15:45:35.000Z</updated>
        <summary type="html"><![CDATA[å°è¯•ç†è§£ç¥ç»ç½‘ç»œçš„å·¥ä½œåŸç†ï¼æ—§æ–‡æ–°å‘ã€‚]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p>å°è¯•ç†è§£ç¥ç»ç½‘ç»œçš„å·¥ä½œåŸç†ï¼æ—§æ–‡æ–°å‘ã€‚</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åˆ†ç±»é—®é¢˜å¼•å…¥">åˆ†ç±»é—®é¢˜å¼•å…¥<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98%E5%BC%95%E5%85%A5" class="hash-link" aria-label="åˆ†ç±»é—®é¢˜å¼•å…¥çš„ç›´æ¥é“¾æ¥" title="åˆ†ç±»é—®é¢˜å¼•å…¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å°‘ç»´åº¦åˆ†ç±»">å°‘ç»´åº¦åˆ†ç±»<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E5%B0%91%E7%BB%B4%E5%BA%A6%E5%88%86%E7%B1%BB" class="hash-link" aria-label="å°‘ç»´åº¦åˆ†ç±»çš„ç›´æ¥é“¾æ¥" title="å°‘ç»´åº¦åˆ†ç±»çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å¦‚ä¸‹å›¾æ˜¯ä¸€ä¸ªåŒ—äº¬å’Œé•¿æ²»çš„æˆ¿ä»·å¯¹æ¯”å›¾ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240304220239621" src="https://yuluo-yx.github.io/assets/images/image-20240304220239621-5e1e405788d201d58d87b79128d883c3.png" width="712" height="445" class="img_c29J"></p>
<p>å¦‚ä¸Šä½¿ç”¨è¡¨æ ¼çš„å½¢å¼è¡¨ç¤ºï¼Œå¯èƒ½ä¸æ˜¯å¾ˆç›´è§‚ã€‚æ¢æˆå¦‚ä¸‹çš„åæ ‡ç³»å°±èƒ½å¾ˆæ¸…æ¥šçš„çœ‹å‡ºæ¥åŒºåˆ«ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240304221939557" src="https://yuluo-yx.github.io/assets/images/image-20240304221939557-0546a4abfa3459685a0d63ccc3df75d0.png" width="746" height="456" class="img_c29J"></p>
<p>å›¾ä¸­æ ‡æ³¨ä¸€æ¡é»„è‰²çš„æ•°æ®çº¿ï¼Œå¯ä»¥çœ‹å‡ºï¼Œé»„çº¿å·¦è¾¹çš„å±äºåŒ—äº¬ï¼Œå³è¾¹çš„å±äºé•¿æ²»ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å°†é—®é¢˜è¿›ä¸€æ­¥åˆ†æï¼Œä½¿å…¶å˜å¾—æ›´ç®€å•ï¼šåœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæ ¹æ®æˆ‘ä»¬çš„ç»éªŒçŸ¥é“ï¼Œå†³å®šæˆ¿å­ä»·æ ¼çš„å› ç´ å…¶å®æ˜¯</p>
<p>ä»·æ ¼/é¢ç§¯ = å¹³æ–¹ä»·</p>
<p><img decoding="async" loading="lazy" alt="image-20240304222249022" src="https://yuluo-yx.github.io/assets/images/image-20240304222249022-49f1cac89ef2439566837be197137ef6.png" width="513" height="327" class="img_c29J"></p>
<p>é«˜è€…å±äºåŒ—äº¬ï¼Œä½çš„åˆ™æ˜¯é•¿æ²»ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªé˜ˆå€¼ï¼Œå°†å…¶è¿›è¡Œåˆ’åˆ†ã€‚</p>
<blockquote>
<p><strong>ä¸Šè¿°å°±æ˜¯æœ€ç®€å•çš„åˆ†ç±»é—®é¢˜ï¼Œåªæœ‰ä»·æ ¼å’Œé¢ç§¯ä¸¤ä¸ªç»´åº¦ã€‚</strong></p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¤šç»´åº¦åˆ†ç±»">å¤šç»´åº¦åˆ†ç±»<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E5%A4%9A%E7%BB%B4%E5%BA%A6%E5%88%86%E7%B1%BB" class="hash-link" aria-label="å¤šç»´åº¦åˆ†ç±»çš„ç›´æ¥é“¾æ¥" title="å¤šç»´åº¦åˆ†ç±»çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œåˆ¤æ–­æˆ¿å­å€¼ä¸å€¼å¾—è´­ä¹°ã€‚ä¸å¯èƒ½åªæœ‰ <strong>æˆ¿ä»· &amp; é¢ç§¯</strong> ä¸¤ä¸ªå› ç´ ï¼Œå¯èƒ½è¿˜æœ‰ <strong>æ¥¼å±‚ã€é€šå‹¤ã€å¹´é™ã€ç¯å¢ƒ</strong> ç­‰å…¶ä»–å› ç´ ã€‚é—®é¢˜çš„æœ¬è´¨è¿˜æ˜¯ä¸€æ ·çš„ï¼Œæœ€ç»ˆæˆ‘ä»¬éƒ½æ˜¯æ ¹æ®å¯¹è¿™äº›æ•°æ®è¿›è¡Œåˆ†æï¼Œåˆ¤æ–­å€¼ä¸å€¼å¾—è´­ä¹°ã€‚</p>
<p><img decoding="async" loading="lazy" alt="image-20240304222937185" src="https://yuluo-yx.github.io/assets/images/image-20240304222937185-abc1ea7b28555a9cac28fc3abc6a2cae.png" width="822" height="371" class="img_c29J"></p>
<blockquote>
<p>è¿™ä¸ªé˜ˆå€¼æ€ä¹ˆå¯»æ‰¾ï¼Œç”¨ä»€ä¹ˆæ ·çš„æ–¹å¼å»åˆ¤å®šã€‚æˆ–è€…è¯´è¿™ä¸ªå‡½æ•°æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ</p>
</blockquote>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ¨å¯¼æ•°å­¦ç»“è®º">æ¨å¯¼æ•°å­¦ç»“è®º<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E6%8E%A8%E5%AF%BC%E6%95%B0%E5%AD%A6%E7%BB%93%E8%AE%BA" class="hash-link" aria-label="æ¨å¯¼æ•°å­¦ç»“è®ºçš„ç›´æ¥é“¾æ¥" title="æ¨å¯¼æ•°å­¦ç»“è®ºçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬è®¾ æˆ¿ä»· = xï¼Œé¢ç§¯ = yï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">è®¾ æˆ¿ä»· ä¸º xï¼Œé¢ç§¯ ä¸º yã€‚ </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">åˆ™æœ‰</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> x / y = å¹³ç±³ä»·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è®¾å°†åŒ—äº¬å’Œé•¿æ²»åŒºåˆ†å¼€çš„é˜ˆå€¼ä¸º <code>0.69</code> ï¼Œåˆ™ <code>x/y &gt; 0.69</code> å°±æ˜¯åŒ—äº¬ï¼Œåä¹‹åˆ™æ˜¯é•¿æ²»ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†å…¬å¼å˜å½¢ï¼Œå³å¯å¾—åˆ°å‡½æ•° f çš„å‡½æ•°è¡¨è¾¾å¼</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(x,y) = x - 0.69y = 0</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä»å…¬å¼æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè¿™æ—¶å€™çš„é˜ˆå€¼å˜æˆäº† <code>0</code>ï¼Œå¤§äº  <code>0</code> è¡¨ç¤ºåŒ—äº¬ï¼Œå°äºè¡¨ç¤ºé•¿æ²»ã€‚è¿™é‡Œåªè€ƒè™‘äº†æˆ¿ä»·å’Œé¢ç§¯ä¸¤ä¸ªå› ç´ ã€‚æ›´ç°å®çš„æƒ…å†µæ˜¯ï¼šå› ä¸ºå…¶ä»–å› ç´ çš„å‚ä¸ï¼Œé˜ˆå€¼å¯èƒ½ä¸ä¼šæ°å¥½ç­‰äº <code>0</code>ï¼Œå¯èƒ½æ˜¯ <code>101</code>ã€‚è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥åŠ å…¥ä¸€ä¸ª<code>åç§»é‡</code> å¯¹é˜ˆå€¼è¿›è¡Œæ ¡å‡†ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(x,y) = x - 0.69y - 101 = 0</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240304224032237" src="https://yuluo-yx.github.io/assets/images/image-20240304224032237-f9bb0c331970f2415a5f03a1ace0ecdc.png" width="702" height="288" class="img_c29J"></p>
<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬è§‚å¯Ÿè¿™ä¸ªå‡½æ•°è¡¨è¾¾å¼ï¼š</p>
<p>å¦‚æœ y çš„å–å€¼å¢åŠ äº† 100ï¼Œå‡½æ•°å€¼åŠ¿å¿…å‘ç”Ÿå˜åŒ–ã€‚ä½†æ˜¯åªè¦åŒæ—¶å¯¹ x çš„å€¼åšå‡ºä¿®æ­£ï¼Œå°±å¯ä»¥æŠµæ¶ˆå‡½æ•°å€¼å‘ç”Ÿçš„å˜åŒ–ï¼Œå³</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(x,y) = x - 0.69y - 101 = 0 </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     [+69]  \quad   [+100]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ­¤æ—¶ï¼Œåœ¨å‡½æ•° f ä¸­ï¼Œx çš„ +69 å’Œ y çš„ -100 åœ¨æ•°å­¦å…³ç³»ä¸Šç­‰ä»·ã€‚ä½†æ˜¯åœ¨ç‰©ç†æ„ä¹‰ä¸Šï¼Œx ä»£è¡¨çš„æ˜¯æˆ¿ä»·ï¼Œy ä»£è¡¨çš„æ˜¯é¢ç§¯ã€‚<code>å•ä½/é‡çº²</code> ä¸åŒï¼Œæ— æ³•è¿›è¡Œå…¬åº¦ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(x,y) = x - 0.69y - 101 = 0 </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     [+69]  \quad   [+100]  </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    (ä¸‡å…ƒ)   \quad   (ç±³^2)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åœ¨å½“å‰çš„å‡½æ•°ä¸­ï¼Œä»–ä»¬æ˜¯å¯ä»¥è¿›è¡Œæ¢ç®—çš„ï¼Œå› ä¸ºä»–ä»¬éƒ½å¯¹å‡½æ•° f çš„å–å€¼åšå‡ºäº†è´¡çŒ®ã€‚æ¢ç®—çš„æ–¹å¼æ¥è‡ªäºå¯¹å‡½æ•°å€¼è´¡çŒ®çš„å¤§å°ã€‚å³ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240304225027111" src="https://yuluo-yx.github.io/assets/images/image-20240304225027111-cd61692b7f065f4c2ff6c7fd46025ead.png" width="769" height="357" class="img_c29J"></p>
<p>ä»ä¸­å¯ä»¥çœ‹å‡ºï¼Œx å’Œ y å¯¹å‡½æ•°å€¼çš„è´¡çŒ®æ­£å¥½æ˜¯ x å’Œ y çš„ç³»æ•°ã€‚</p>
<p>å›å¤´çœ‹å°†æ‰æ•°æ®ç»´åº¦å¾ˆå¤šçš„æƒ…å†µï¼š</p>
<div class="language-markdown codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-markdown codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">è®¾ æ•°æ®ç»´åº¦ä¾æ¬¡ä¸º x_1, x_2, x_3.....  </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">åˆ™ </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(x_1, x_2, x_3, x_4...) = x_1 + x_2 + x_3 + x_4 + b  </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">æ ¹æ®ä¸Šè¿°å¯¹ x å’Œ y çš„æ¨å¯¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶å˜æˆï¼š</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1x_1 + w_2x_2 + w_3x_3 + w_4x_4 + ... + b = y</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å…¶ä¸­å‡½æ•°å€¼ y å°±æ˜¯æˆ¿å­æ˜¯å¦å€¼å¾—è´­ä¹°çš„ä¾æ®ã€‚</p>
<p>æ ¹æ®ä¸Šé¢æˆ‘ä»¬çš„æ¨å¯¼ï¼Œè¿™æ ·çš„å‡½æ•°æ˜¯æœ‰æ„ä¹‰çš„ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240304225603259" src="https://yuluo-yx.github.io/assets/images/image-20240304225603259-0ba9370619be3bbf542c83d4304424cf.png" width="918" height="417" class="img_c29J"></p>
<p>w çš„ç³»æ•°ä¸ºå¯¹å‡½æ•°å€¼çš„è´¡çŒ®ç¨‹åºï¼Œb ä¸ºé˜ˆå€¼çš„åç§»é‡ã€‚</p>
<blockquote>
<p>è§„èŒƒæ•°å­¦è¡¨è¾¾ä¸ºï¼šw -&gt; æƒé‡ç³»æ•°ã€b -&gt; åç½®ç³»æ•°ã€‚</p>
</blockquote>
<p>åœ¨åæ ‡ç³»ä¸­è¡¨è¾¾ä¸ºï¼šï¼ˆä¸ºäº†ç”»å›¾æ–¹ä¾¿ï¼Œå›åˆ°äºŒç»´ç³»æ•°è¡¨è¾¾ï¼‰</p>
<p><img decoding="async" loading="lazy" alt="image-20240304225807953" src="https://yuluo-yx.github.io/assets/images/image-20240304225807953-e801a31958f74a5e71d81ca9a9cb725c.png" width="649" height="454" class="img_c29J"></p>
<p>å‰é¢è®¨è®ºçš„é˜ˆå€¼å³ä¸ºä¸‹å›¾ä¸­çš„åˆ†ç•Œçº¿ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240304225842374" src="https://yuluo-yx.github.io/assets/images/image-20240304225842374-349d5fc3bebd7f4a089e2eab6ceabb6f.png" width="644" height="441" class="img_c29J"></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åŠ å…¥å‚æ•°å‡ç»´">åŠ å…¥å‚æ•°å‡ç»´<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E5%8A%A0%E5%85%A5%E5%8F%82%E6%95%B0%E5%8D%87%E7%BB%B4" class="hash-link" aria-label="åŠ å…¥å‚æ•°å‡ç»´çš„ç›´æ¥é“¾æ¥" title="åŠ å…¥å‚æ•°å‡ç»´çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>æ ¹æ®æ•°å­¦åŸç†ï¼Œä¸åŒçš„é˜ˆå€¼å³ä»£è¡¨äº†ä¸åŒçš„åˆ†ç•Œçº¿ã€‚å½“è¿™æ¡ç›´æ¥ç¡®å®šä¸‹æ¥ä¹‹åï¼Œå¯¹æ•°æ®çš„åˆ’åˆ†ä¹Ÿéšä¹‹ç¡®å®šã€‚å°†ä¸åŒçš„ç³»æ•°å¸¦å…¥å˜é‡ x å’Œ y å°±å¯ä»¥å¾—åˆ°ä¸åŒçš„ç»“æœã€‚</p>
<p>å¦‚æœæˆ‘ä»¬å¼•å…¥æ›´å¤šçš„ç»´åº¦ç³»æ•°ï¼Œå¯¹åæ ‡ç³»å‡ç»´ã€‚åˆ™ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240304230033743" src="https://yuluo-yx.github.io/assets/images/image-20240304230033743-e95173d10fe573938e797f24378d51ce.png" width="705" height="459" class="img_c29J"></p>
<p>åœ¨æ›´é«˜ç»´åº¦ä¸­ï¼Œç»å¸¸ä½¿ç”¨å‘é‡å’ŒçŸ©é˜µçš„è¡¨è¾¾å½¢å¼ï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1x_1 + w_2x_2 + w_3x_3 + w_4x_4 + \cdots + b  \\ \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">å°†å…¶è½¬åŒ–ä¸ºå‘é‡å’ŒçŸ©é˜µçš„è¡¨è¾¾å¼ä¸ºï¼š\\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1 &amp; w_2 &amp; w_3 &amp; w_4 &amp; \cdots</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x_1 \\ x_2 \\ x_3 \\ s_4 \\ \cdots</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">+b \\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ä»£è¡¨è¡Œå‘é‡å’Œåˆ—å‘é‡é€é¡¹ç›¸ä¹˜ï¼Œå†ç›¸åŠ  \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ä¸ºäº†è®©è¡¨è¾¾å½¢å¼æ›´åŠ ç´§å‡‘ï¼Œé€šå¸¸å¯¹è¡Œå‘é‡è¿›è¡Œè½¬ç½®ï¼Œå†è¿›è¡Œç‚¹ç§¯è¿ç®—ï¼š\\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1 \\ w_2 \\ w_3 \\ w_4 \\ \cdots </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x_1 \\ x_2 \\ x_3 \\ s_4 \\ \cdots</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">+b \\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">é€šå¸¸å‘é‡å’ŒçŸ©é˜µï¼Œé€šå¸¸ä½¿ç”¨å¤§å†™å­—æ¯æ¥è¡¨ç¤ºï¼Œå³ï¼š\\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(X) = W^\mathrm T Â· X + b \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">å¦å¤–ä¸€ç§è¡¨è¾¾å½¢å¼æ˜¯å°†åç½®ç³»æ•°åŒæ ·å†™è¿›åˆ°çŸ©é˜µä¸­ï¼š \\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1 \\ w_2 \\ w_3 \\ w_4 \\ \cdots \\ b</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x_1 \\ x_2 \\ x_3 \\ s_4 \\ \cdots \\ 1</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right] \\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">å‡½æ•°è¡¨è¾¾å¼ä¸ºï¼š\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f(X) = W^\mathrm T Â· X</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åœ¨å‰é¢çš„è®¨è®ºä¸­ï¼Œç¡®å®šäº†æ•°æ®çš„é˜ˆå€¼ï¼ˆåˆ†ç•Œçº¿ä¹‹åï¼‰ã€‚ä¸‹ä¸€æ­¥è¡Œä¸ºåœ¨ <code>æœºå™¨å­¦ä¹ </code> ä¸­ç§°ä¸º <strong>å†³ç­–/é¢„æµ‹</strong>ã€‚å¯¹äºä¸€ä¸ªæ–°è¾“å…¥çš„æ•°æ®ï¼Œé€šè¿‡ x å’Œ y åœ¨åæ ‡ç³»ä¸­çš„ä½ç½®æ¥åˆ¤æ–­å¤„äºåˆ†ç•Œçº¿å“ªä¸€è¾¹ã€‚åœ¨ç¨‹åºä¸­ï¼Œå¹¶ä¸èƒ½ç›´æ¥å»çœ‹å›¾åƒã€‚è€Œæ˜¯è¦å°†å‚æ•°å€¼ä»£å…¥åˆ°å‡½æ•°ä¸­ï¼Œè®¡ç®—å‡ºå‡½æ•°å€¼ï¼Œå’Œ 0 æ¯”è¾ƒï¼Œè¿›è¡Œåˆ¤æ–­ã€‚</p>
<blockquote>
<p>åˆ°è¿™ä¸€æ­¥ï¼Œæœºå™¨å­¦ä¹ çš„é—®é¢˜å˜å¾—ç›¸å¯¹ç®€å•ï¼Œè€Œæœºå™¨å­¦ä¹ çš„éš¾ç‚¹æ˜¯åœ¨äºå¦‚ä½•ç¡®å®šä¸€æ¡æœ€å¥½çš„åˆ†ç•Œçº¿ï¼Œå³ç¡®å®šé˜ˆå€¼ã€‚è¿™ä¸ªè¿‡ç¨‹å«åš<strong>è®­ç»ƒ/å­¦ä¹ </strong>ã€‚å’ŒåŠ¨è§„ï¼Œè´ªå¿ƒç­‰ç®—æ³•ä¸åŒçš„æ˜¯ï¼Œ**æœºå™¨å­¦ä¹ åªéœ€è¦åœ¨åˆšå¼€å§‹æ—¶å¯¹å¤§é‡å¤æ‚çš„æ•°æ®è¿›è¡Œè®¡ç®—ï¼Œç¡®å®šå‡ºæ¥å…³ç³»ã€‚åœ¨é¢å¯¹æ–°æ•°æ®æ—¶ï¼Œåªéœ€è¦è¿›è¡Œç®€å•çš„è¿ç®—å°±å¯ä»¥è¾¾æˆç›®æ ‡ã€‚**é‚£ä¹ˆï¼Œæœºå™¨å­¦ä¹ å¹¶æ²¡æœ‰å‡å°‘ç®—æ³•çš„å¤æ‚åº¦ï¼Œç›¸æ¯”ä¹‹ä¸‹è€Œè¨€ï¼Œåªæ˜¯æé«˜çš„ å†³ç­–/è®­ç»ƒ çš„åº”ç”¨æ•ˆèƒ½ã€‚</p>
<p>æ‰€ä»¥æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†äº†è§£å¦‚ä½•å»<code>è®­ç»ƒå’Œå­¦ä¹ </code>ã€‚</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="è®­ç»ƒ--å­¦ä¹ ">è®­ç»ƒ &amp; å­¦ä¹ <a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E8%AE%AD%E7%BB%83--%E5%AD%A6%E4%B9%A0" class="hash-link" aria-label="è®­ç»ƒ &amp; å­¦ä¹ çš„ç›´æ¥é“¾æ¥" title="è®­ç»ƒ &amp; å­¦ä¹ çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<blockquote>
<p>è®­ç»ƒ/å­¦ä¹  çš„ç›®çš„å¾ˆæ˜ç¡®ï¼Œå³åœ¨åæ ‡ç³»ä¸­ç¡®å®šè¿™æ¡åˆ†ç•Œçº¿ï¼åŒæ ·ï¼Œæœºå™¨å­¦ä¹ çš„éš¾ç‚¹ä¹Ÿåœ¨è¿™é‡Œã€‚</p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="image-20240305195959121" src="https://yuluo-yx.github.io/assets/images/image-20240305195959121-31050473ba9a2ac39dee30955c8a978d.png" width="474" height="381" class="img_c29J"></p>
<p><img decoding="async" loading="lazy" alt="image-20240305195942932" src="https://yuluo-yx.github.io/assets/images/image-20240305195942932-bc93e500768674a2f8ca414b08cf48dc.png" width="478" height="394" class="img_c29J"></p>
<p>å¦‚å›¾ï¼Œä¸Šè¿°ä¸¤æ¡ç›´çº¿ï¼Œéƒ½èƒ½å¯¹ç°æœ‰æ•°æ®è¿›è¡Œå®Œç¾åˆ’åˆ†ã€‚ä½†æ˜¯å“ªæ¡ç›´çº¿æ˜¯æœ€ä¼˜è§£ï¼Ÿå¾€å¾€ç°å®æƒ…å†µå¹¶ä¸æ˜¯è¿™æ ·ï¼Œè€Œæ˜¯ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240305200117035" src="https://yuluo-yx.github.io/assets/images/image-20240305200117035-3d5e8d0d3f3fbee403315cab38a83fe9.png" width="471" height="329" class="img_c29J"></p>
<p>å³ä¸å­˜åœ¨è¿™æ ·çš„æœ€ä¼˜è§£ï¼Œå¯ä»¥å°†æ•°æ®è¿›è¡Œå®Œç¾åˆ’åˆ†ã€‚åªèƒ½ä»ç°æœ‰çš„ç›´çº¿ä¸­ï¼ŒæŒ‘é€‰ä¸€æ¡ç¬¦åˆå¤§å¤šæ•°æƒ…å†µï¼Œèƒ½å°†å¤§å¤šæ•°æ•°æ®åŒºåˆ†å¼€çš„ç›´çº¿ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•ç¡®å®šè¿™æ¡ç›´çº¿æ˜¯ä¸æ˜¯ç¬¦åˆç°æœ‰çš„é¢„æœŸï¼Ÿå¯¹æ­¤ï¼Œ**å°±éœ€è¦æœ‰ä¸€ä¸ªåˆ¤æ–­åˆ†ç•Œçº¿å¥½åçš„åˆ¤æ–­æ ‡å‡†ã€‚**åœ¨é¢å¯¹ä¸åŒçš„æ•°æ®é›†æ—¶ï¼ŒæŒ‘é€‰å‡ºçš„ç›´çº¿å¯èƒ½ä¸åŒï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚éšç€è¶Šæ¥è¶Šå¤šçš„æ•°æ®ï¼Œç›´çº¿ä¹Ÿä¼šéšä¹‹å˜åŒ–ã€‚<strong>æ³¨æ„ï¼šæœºå™¨å­¦ä¹ çš„ç›®çš„æ˜¯é¢„æµ‹ï¼Œè€Œä¸æ˜¯è®­ç»ƒã€‚<strong>åœ¨å½“å‰çš„æ•°æ®é›†èŒƒå›´ä¸­ï¼Œåªèƒ½åšåˆ°å½“å‰æƒ…å†µåˆ†ç•Œçº¿æœ€å¥½ï¼Œå¹¶ä¸èƒ½ä¿è¯å¯¹æ–°æ¥çš„æ•°æ®ä¹Ÿæ˜¯æœ€å¥½ã€‚è¿™ä¹Ÿæ˜¯é€‰æ‹©<code>åˆ¤æ–­æ ‡å‡†</code>æœ€å›°éš¾çš„åœ°æ–¹ã€‚å½“æˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªåˆ¤æ–­æ ‡å‡†ä¹‹åï¼Œæ ‡å‡†ä¹‹ä¸­å°±åŒ…å«äº†æˆ‘ä»¬å¯¹æœªæ¥æ•°æ®çš„ä¸€ç§é¢„æµ‹ã€‚è¿™ä¸ªé¢„æµ‹æ— æ³•åœ¨æ•°å­¦é€»è¾‘ä¸Šæ‰¾åˆ°ç­”æ¡ˆï¼Œæ‰€ä»¥è¦æƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±å¿…é¡»è¦å¼•å…¥</strong>é¢å¤–çš„å…¬è®¾</strong>ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¼•å…¥é¢å¤–å…¬è®¾">å¼•å…¥é¢å¤–å…¬è®¾<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E5%BC%95%E5%85%A5%E9%A2%9D%E5%A4%96%E5%85%AC%E8%AE%BE" class="hash-link" aria-label="å¼•å…¥é¢å¤–å…¬è®¾çš„ç›´æ¥é“¾æ¥" title="å¼•å…¥é¢å¤–å…¬è®¾çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><img decoding="async" loading="lazy" alt="image-20240305201027218" src="https://yuluo-yx.github.io/assets/images/image-20240305201027218-dd9b869349c72af6ae9ebdcd459c0047.png" width="464" height="341" class="img_c29J"></p>
<p>ä»å›¾ä¸­çœ‹ï¼Œæ¯ä¸ªç‚¹åˆ°åˆ†ç•Œçº¿çš„è·ç¦»å¤§å°ä¸ä¸€ï¼Œæ‰€æœ‰è¿™äº›ç‚¹ä¸­ï¼Œå¯¹åˆ†ç•Œçº¿æœ€å°çš„å“ªä¸€ä¸ªï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯åˆ†ç•Œçº¿å¯¹æ•°æ®åˆ’åˆ†çš„é—´éš”ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240305201149190" src="https://yuluo-yx.github.io/assets/images/image-20240305201149190-35ae322fdc4c0f7826c2689d1ba2ce19.png" width="490" height="325" class="img_c29J"></p>
<p>é€šè¿‡å·²æœ‰çš„ç›´è§‰åˆ¤æ–­ï¼Œåº”è¯¥æ˜¯åˆ†ç•Œçº¿åˆ°ç‚¹çš„è·ç¦»è¶Šå¤§è¶Šå¥½ã€‚å…¶ä¸­çš„é—´éš”å¯ä»¥å®¹çº³æ›´å¤šçš„ç‚¹ã€‚</p>
<p><img decoding="async" loading="lazy" alt="image-20240305201251937" src="https://yuluo-yx.github.io/assets/images/image-20240305201251937-aed71ce3db691191e3a6986355ef020d.png" width="474" height="334" class="img_c29J"></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å…¬è®¾æ¡ä»¶-1">å…¬è®¾æ¡ä»¶ 1<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E5%85%AC%E8%AE%BE%E6%9D%A1%E4%BB%B6-1" class="hash-link" aria-label="å…¬è®¾æ¡ä»¶ 1çš„ç›´æ¥é“¾æ¥" title="å…¬è®¾æ¡ä»¶ 1çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æå‡ºè¿™æ ·ä¸€ä¸ªå…¬è®¾ï¼š<strong>é—´éš”è¶Šå¤§è¶Šå¥½</strong></p>
<p>é‚£ä¹ˆï¼Œè¿™é‡Œçš„é—´éš”å¦‚ä½•è®¡ç®—ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶äº¤ç»™è®¡ç®—æœºå»åˆ¤æ–­ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰¾åˆ°é—´éš”è®¡ç®—çš„è¡¨è¾¾å¼ï¼š</p>
<ol>
<li>
<p>æˆ‘ä»¬éœ€è¦çŸ¥é“ç‚¹åˆ°ç›´çº¿çš„è·ç¦» ï¼Œè¡¨è¾¾å¼ä¸ºï¼ˆå¸¦å…¥ x å’Œ y æ— æ³•ç›´æ¥å¾—åˆ°ç‚¹åˆ°ç›´çº¿çš„è·ç¦»ï¼Œéœ€è¦åšä¸€äº›ä¿®é¥°ï¼‰ï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\frac{1}{\|W\|_2} \|f(X)\| \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\|W\|_2 \text{ï¼ˆæƒé‡ç³»æ•°çš„ } L_2 \text{ èŒƒæ•°ï¼‰è¿™é‡Œçš„ } L_2 \text{ èŒƒæ•°å¯ä»¥ç†è§£ä¸º å‹¾è‚¡å®šç†åœ¨æ›´é«˜ç»´åº¦ä¸Šçš„æ‰©å±•ï¼Œå³} \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\|W\|_2 = \sqrt{w_1^2 + w_2^2 + w_3^2 + w_4^2 + \cdots} \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\text{å¯¹å‘é‡é‡Œçš„æ¯ä¸ªåˆ†é‡è¿›è¡Œå¹³æ–¹å†å¼€æ–¹ã€‚}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>å¯¹ä¸Šè¿°çš„æ¯ä¸ªç‚¹è¿›è¡Œ 1 çš„è¿ç®—ï¼Œå³å¯å¾—åˆ°æ‰€æœ‰ç‚¹åˆ°ç›´çº¿çš„é—´éš”ï¼ˆç”¨ M(W) æ¥è¡¨ç¤ºç›´çº¿é—´éš”å‡½æ•°ï¼‰ï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">M(W)=\underset {i=1,2,3 \cdots N}{min}\frac{1}{\begin{Vmatrix}W\end{Vmatrix}}_2\begin{vmatrix}f(X^{(i)})\end{vmatrix} \\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>å°†æ‰€æœ‰æ•°æ®å¸¦å…¥ä¸Šè¿°å…¬å¼ï¼Œåœ¨ä¸è€ƒè™‘æœºå™¨ç®—åŠ›çš„æƒ…å†µä¸‹ï¼Œè®¡ç®—æœºå°±å¯ä»¥å®Œæˆè¿™äº›è®¡ç®—ã€‚</p>
</li>
</ol>
<p>è¿›è¡Œä¸Šè¿°æ“ä½œä¹‹åï¼Œæˆ‘ä»¬å°±èƒ½å¾—åˆ°çš„ç»“æœã€‚è¿™ä¸€åˆ‡çš„å‰ææ˜¯æˆ‘ä»¬å¯¹ <code>f(x)</code> è¿™æ ·çš„å‡½æ•°å€¼è¿›è¡Œäº†ä¸Šè¿°ä¿®é¥°ã€‚æ—¢ç„¶è¿™é‡Œæ˜¯å…¬è®¾ï¼Œé‚£ä¹ˆå®ƒå°±ä¸å”¯ä¸€ã€‚è¿™é‡Œè¿˜å¯ä»¥æœ‰ç¬¬äºŒç§å…¬è®¾ã€‚åŒæ ·ï¼Œæˆ‘ä»¬èƒ½å¶åˆ©ç”¨çš„åªæœ‰å‡½æ•°å€¼ï¼Œä»ç„¶å¯¹å…¶è¿›è¡Œä¿®é¥°ï¼Œå¾—å‡ºå‰æå‡è®¾ã€‚</p>
<p>è¿™æ¬¡çš„ä¿®é¥°æ˜¯å¯¹å…¶è¿›è¡Œ <code>sigmoid(f(x))</code> æ“ä½œï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">sigmod(f(x)) \in (0,1)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>é€šè¿‡ <code>sigmoid æ“ä½œ</code>ï¼Œå¯ä»¥å°†å‡½æ•°å€¼ç¼©æ”¾åˆ° <code>0 ~ 1</code> ä¹‹é—´ã€‚<code>sigmoid</code>å‡½æ•°å›¾åƒå¦‚ä¸‹ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240305203942962" src="https://yuluo-yx.github.io/assets/images/image-20240305203942962-9cbd533eafcb78995737d39ea72708fd.png" width="440" height="315" class="img_c29J"></p>
<p>å®šä¹‰åŸŸä¸ºå…¨ä½“å®æ•°ï¼Œå€¼åŸŸä¸º <code>0 - 1</code> çš„å¼€åŒºé—´ã€‚<code>0 - 1</code> çš„å¼€åŒºé—´ï¼Œå¾ˆå®¹æ˜“è®©æˆ‘ä»¬æƒ³åˆ°æ¦‚ç‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥æŠŠç»è¿‡ä¿®é¥°åçš„å‡½æ•°å€¼çœ‹ä½œæ˜¯ä¸€ä¸ªæ¦‚ç‡å€¼å‘¢ï¼Ÿ</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å…¬è®¾æ¡ä»¶-2">å…¬è®¾æ¡ä»¶ 2<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E5%85%AC%E8%AE%BE%E6%9D%A1%E4%BB%B6-2" class="hash-link" aria-label="å…¬è®¾æ¡ä»¶ 2çš„ç›´æ¥é“¾æ¥" title="å…¬è®¾æ¡ä»¶ 2çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>æˆ‘ä»¬å°†å‡½æ•°å€¼çœ‹ä½œæ˜¯å¦‚ä¸‹çš„æ¡ä»¶æ¦‚ç‡ï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">P(X = X^{(i)} \mid W)=sigmod(f(x^{(i)}))</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™ä¸ªæ¦‚ç‡çš„æ„ä¹‰å°±ä»£è¡¨äº†æŸä¸€ä¸ªæ•°æ®åœ¨åŒ—äº¬è¿˜æ˜¯é•¿æ²»çš„å¯èƒ½æ€§ã€‚</p>
<p><img decoding="async" loading="lazy" alt="image-20240307140828845" src="https://yuluo-yx.github.io/assets/images/image-20240307140828845-7295ff071ef7f67f590911d8c1a9af6f.png" width="476" height="313" class="img_c29J"></p>
<p>åœ¨å½“å‰çš„æ•°æ®æƒ…å†µä¸‹ï¼ŒåŒ—äº¬çš„å‡½æ•°å€¼å¤§äº 0 ï¼Œé•¿æ²»çš„å‡½æ•°å€¼å°äº 0 ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">åŒ—äº¬ï¼šP(X = X^{(i)} \mid W)=sigmod(f(x^{(i)}))  \\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">é•¿æ²»ï¼šP(X = X^{(i)} \mid W)=sigmod(-f(x^{(i)}))  \\ é•¿æ²»çš„å‡½æ•°å€¼å°äº 0 ï¼Œæ‰€ä»¥è¦å¯¹å‡½æ•°å€¼å–é™„å±å†è¿›è¡Œ sigmoid æ“ä½œã€‚ \\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">æ¦‚ç‡å€¼è¶Šå¤§å°±è¡¨æ˜å±äº â€œåŒ—äº¬/é•¿æ²»â€ çš„å¯èƒ½æ€§è¶Šå¤§ï¼Œåä¹‹åˆ™è¶Šå°ã€‚</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åŸºäºå½“å‰çš„ç†è§£ï¼Œæˆ‘ä»¬å°±å¯ä»¥æå‡ºæ–°çš„å…¬è®¾æ¡ä»¶ï¼ˆç¬¬äºŒç§å…¬è®¾ï¼‰ï¼š</p>
<p><strong>æ¦‚ç‡ï¼ˆä¼¼ç„¶ï¼‰å€¼æœ€å¤§æœ€å¥½</strong></p>
<p>æ¦‚ç‡å€¼æœ€å¤§ï¼Œå°±åº”è¯¥æ˜¯æ‰€æœ‰ç‚¹çš„æ¦‚å¿µéƒ½æœ€å¤§ï¼Œä»–ä»¬æ˜¯ç›¸ä¹˜çš„å…³ç³»ã€‚å³æˆ‘ä»¬éœ€è¦æ‰¾çš„å°±æ˜¯å½“</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\underset{W} {max} \prod_{i=0}^N P(X = X^{i}\mid {W})Â· \prod_{j = 0}^M P(X = X^{(i)} \mid {W})</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¡¨è¾¾å¼å–å€¼æœ€å¤§æ—¶ï¼Œç³»æ•° W çš„å€¼ã€‚ä¸Šè¿°è¡¨è¾¾å¼æœ€å¸¸è§çš„å½¢å¼æ˜¯ï¼šä½¿ç”¨ <code>log</code> è¿ç®—ç¬¦å°†è¿ä¹˜å˜ä¸ºè¿åŠ ã€‚</p>
<p>ç¬¬ä¸‰ç§å…¬è®¾ï¼šç°åœ¨æˆ‘ä»¬å¯ä»¥å‡æƒ³å‡ºä¸€ä¸ªå¦‚ä¸‹çš„å‡½æ•° <code>T(X)</code> ï¼Œå®ƒå¯ä»¥å¯¹æ•°æ®è¿›è¡Œå®Œç¾åˆ†ç±»ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">T(X)=</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{cases}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">1: X \in {åŒ—äº¬} \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">0: X \in {é•¿æ²»}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{cases}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä»»ä½•ä¸€ä¸ªæ•°æ®çš„è¾“å…¥ï¼Œéƒ½å¯ä»¥å®Œç¾çš„åˆ¤æ–­å‡ºå®ƒå±äºåŒ—äº¬è¿˜æ˜¯é•¿æ²»ã€‚åŒ—äº¬çš„å‡½æ•°å€¼ä¸º 1 ï¼Œé•¿æ²»çš„å‡½æ•°å€¼ä¸º 0 ã€‚å›¾åƒè¡¨ç¤ºä¸ºï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240307144321343" src="https://yuluo-yx.github.io/assets/images/image-20240307144321343-3a6a76a32ec8ea1ba0b7c5a366520226.png" width="493" height="288" class="img_c29J"></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å…¬è®¾æ¡ä»¶-3">å…¬è®¾æ¡ä»¶ 3<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E5%85%AC%E8%AE%BE%E6%9D%A1%E4%BB%B6-3" class="hash-link" aria-label="å…¬è®¾æ¡ä»¶ 3çš„ç›´æ¥é“¾æ¥" title="å…¬è®¾æ¡ä»¶ 3çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ç°å®æƒ…å†µä¸­ï¼Œè¿™ç§å‡½æ•°ä¸€å®šä¸å­˜åœ¨ï¼Œæ€»æ˜¯ä¼šæœ‰å„ç§å„æ ·çš„è¯¯å·®å’Œå™ªå£°å¯¹ <code>T(X)</code> å‡½æ•°äº§ç”Ÿå½±å“ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨ <strong>Ïµ</strong> è¡¨ç¤ºç»™å‡½æ•°å åŠ äº†ä¸€ä¸ªå™ªå£°ã€‚å®ƒä¸å†å˜å¾—å®Œç¾äº†ã€‚å‡½æ•°çš„è¾“å‡ºå€¼ä¾ç„¶æ˜¯ä¼šæ¥è¿‘ 0 å’Œ 1ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">T(X)+\epsilon=</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{cases}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">1+\epsilon: X \in {åŒ—äº¬} \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">0+\epsilon: X \in {é•¿æ²»}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{cases}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™ä¸ªæ—¶å€™ <code>sigmoid</code> å‡½æ•°å°±å¯ä»¥æ´¾ä¸Šç”¨åœºäº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨å®ƒæ¥è¡¨ç¤ºå—åˆ°å™ªå£°å¹²æ‰°åçš„ <code>T(X)</code> å‡½æ•°ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">T(X)+\epsilon=sigmoid(f(X))</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å›¾è±¡å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img decoding="async" loading="lazy" alt="Image" src="https://yuluo-yx.github.io/assets/images/image-20240308170315337-8a0a8e9b391590c2aa90a808dc4505d1.png" width="1100" height="553" class="img_c29J"></p>
<p>è¿™ä¸ªæ—¶å€™æ¯ä¸€ä¸ªæ•°æ®å¾—åˆ°çš„ <code>sigmoid</code> å‡½æ•°å€¼ä¸ä»–ä»¬å† T å‡½æ•°ä¸­å–å€¼çš„åå·®å°±æ˜¯å åŠ ä¹‹åçš„å™ªå£° <strong>Ïµ</strong> ã€‚æœ€å¥½çš„åˆ†ç•Œçº¿ï¼Œå¿…ç„¶æ˜¯ <strong>Ïµ</strong> æœ€å°çš„æ—¶å€™å¯¹åº”çš„åˆ†ç•Œçº¿ã€‚å³ï¼š<strong>æ–¹å·®æœ€å°æœ€å¥½</strong>ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\underset{W}{min}\sum_{i=0}^N(y-\hat{y})^2</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">y=</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{cases}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">1: X \in {åŒ—äº¬} \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">0: X \in {é•¿æ²»}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{cases}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\hat{y}=sigmoid(f(X))</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç¬¬ä¸‰ç§å…¬è®¾çš„è¡¨è¾¾å¼ä¸ºï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\sigma^2=(y-\hat{y})^2</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸Šè¿°æåˆ°çš„ä¸‰ç§å…¬è®¾è¡¨ç¤ºä¸ºï¼š</p>
<ul>
<li>ç²‰çº¢è‰²ï¼šæ–¹å·®æœ€å°æœ€å¥½ï¼›</li>
<li>æ©™è‰²ï¼šæ¦‚ç‡æœ€å¤§æœ€å¥½ï¼›</li>
<li>ç»¿è‰²ï¼šé—´éš”æœ€å¤§æœ€å¥½ã€‚</li>
</ul>
<p><img decoding="async" loading="lazy" alt="image-20240308170851932" src="https://yuluo-yx.github.io/assets/images/image-20240308170851932-2c7a496c239df5e09d5d9498e6766755.png" width="743" height="400" class="img_c29J"></p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œå…¬è®¾ä¸åŒï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿä¸åŒï¼Œåˆ°åº•é‚£ç§ç»“æœæœ€å¥½ï¼Ÿ</p>
<p>æ²¡æœ‰ç†è®ºä¸Šçš„æ ‡å‡†ç­”æ¡ˆï¼Œè¿˜æ˜¯è¦çœ‹çœŸå®é—®é¢˜æ˜¯ä»€ä¹ˆã€‚</p>
<p>è¿™é‡Œçš„ä¸‰ç§å…¬è®¾æ¡ä»¶å¯ä»¥è¡¨ç¤ºä¸ºï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">å…¬è®¾ï¼š\begin{cases}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ä¿®é¥°å…¬åº¦ç»“æœ \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ä¸ºå…¬åº¦ç»“æœèµ‹äºˆç°å®æ„ä¹‰ \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ç”¨ç°å®æ„ä¹‰å°†ä¸€ç›´å¤–æ¨è‡³æœªçŸ¥</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{cases}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ‰€æœ‰çš„å…¬è®¾å¾—åˆ°çš„ç»“æœéƒ½æ˜¯å¯¹å·²çŸ¥ç°å®çš„æ€»ç»“å½’çº³ï¼Œæ˜¯å¯¹æœªçŸ¥æƒ…å†µçš„ç»éªŒæ€»ç»“ã€‚</p>
<p>è™½ç„¶è¿™é‡Œå†™å‡ºäº†åˆ¤æ–­æ ‡å‡†çš„æ•°å­¦æ–¹ç¨‹ï¼Œä½†æ˜¯æ±‚å‡ºè§£æè§£å‡ ä¹ä¸å¯èƒ½ï¼Œå›°éš¾é‡é‡ã€‚è¿™é‡Œå¦‚ä½•é€‰æ‹©æœ€åˆé€‚çš„ç®—æ³•æ›´å¿«ã€æ›´å¥½çš„æ±‚å‡ºå‡½æ•°è¡¨è¾¾å¼çš„æ•°å€¼è§£ã€‚å°±æ˜¯æœºå™¨å­¦ä¹ çš„å¦ä¸€é¡¹é‡è¦å·¥ä½œï¼šç®—æ³•ã€‚</p>
<p>è™½ç„¶ç®—æ³•éå¸¸å¤šï¼Œä½†æ˜¯é’ˆå¯¹ç¥ç»ç½‘ç»œï¼Œæåˆ°ç®—æ³•å°±æ˜¯åœ¨ç‰¹æŒ‡ <code>æ¢¯åº¦ä¸‹é™æ³•</code>ã€‚</p>
<blockquote>
<p>å…¬è®¾çš„å¸¸è§å«æ³•æ˜¯ç­–ç•¥ã€‚ ç®—æ³•ï¼Œç­–ç•¥åŠ ä¸Šæ¨¡å‹ï¼Œå°±æ˜¯æœºå™¨å­¦ä¹ çš„ä¸‰å¤§è¦ç´ ã€‚</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æœºå™¨å­¦ä¹ ä¸­çš„æ¨¡å‹">æœºå™¨å­¦ä¹ ä¸­çš„æ¨¡å‹<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9E%8B" class="hash-link" aria-label="æœºå™¨å­¦ä¹ ä¸­çš„æ¨¡å‹çš„ç›´æ¥é“¾æ¥" title="æœºå™¨å­¦ä¹ ä¸­çš„æ¨¡å‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ•°æ®æ¨¡å‹åˆ†ç±»é—®é¢˜">æ•°æ®æ¨¡å‹åˆ†ç±»é—®é¢˜<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98" class="hash-link" aria-label="æ•°æ®æ¨¡å‹åˆ†ç±»é—®é¢˜çš„ç›´æ¥é“¾æ¥" title="æ•°æ®æ¨¡å‹åˆ†ç±»é—®é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬è¦çœ‹çš„å°±æ˜¯æ¨¡å‹ã€‚æ¨¡å‹ç®€å•æ¥è¯´å°±æ˜¯å¯¹<code>æ•°æ®çš„åˆ†ç±»</code>ï¼Œä¸ºä»€ä¹ˆè¦é€‰æ‹©ç›´çº¿ï¼Ÿå¦‚ä¸‹çš„æ•°æ®åˆ†ç±»å›¾ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240308172044116" src="https://yuluo-yx.github.io/assets/images/image-20240308172044116-7dd9f541c4bef28bd700a5c92ebd9380.png" width="1303" height="877" class="img_c29J"></p>
<p>é¢å¯¹è¿™ç§æ•°æ®åˆ†ç±»çš„æ—¶å€™ï¼Œæ— è®ºç›´çº¿æ€ä¹ˆæ”¾ç½®ï¼Œéƒ½ä¼šå­˜åœ¨é—®é¢˜ã€‚ä½†æ˜¯ä½¿ç”¨ä¸‹é¢çš„æŠ›ç‰©çº¿ï¼Œå°±èƒ½å‡†ç¡®åˆ’åˆ†æ•°æ®ã€‚</p>
<p><img decoding="async" loading="lazy" alt="image-20240307152553927" src="https://yuluo-yx.github.io/assets/images/image-20240307152553927-091900b266ce518033fa09f83a8de052.png" width="504" height="406" class="img_c29J"></p>
<p>æŠ›ç‰©çº¿æ–¹ç¨‹å¦‚ä¸‹ï¼š<code>å¯ä»¥çœ‹åˆ°ç›¸æ¯”ç›´çº¿æ–¹ç¨‹ï¼Œåªå¤šäº†ä¸€ä¸ª x1 ç³»æ•°çš„äºŒæ¬¡é¡¹</code></p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1x_1^2+w_2x_1-x_2+b=0</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240307152639893" src="https://yuluo-yx.github.io/assets/images/image-20240307152639893-febc29a74875f8e57dd35a369795e1bc.png" width="511" height="422" class="img_c29J"></p>
<p>è¿™é‡Œï¼Œå¦‚æœæˆ‘ä»¬å†å¢åŠ  ä¸€ä¸ª x2 ç»´åº¦çš„äºŒæ¬¡é¡¹ï¼Œè¿˜å¯ä»¥å˜åŒ–æˆä¸ºæ¤­åœ†å½¢çš„åˆ†ç•Œçº¿ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1x_1^2+w_2x_2^2+w_3x_1+w_4x_2+b=0</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¢åŠ  x3 ç³»æ•°çš„äºŒæ¬¡é¡¹æ—¶ï¼Œä¼šå˜æˆåŒæ›²çº¿ã€‚å¯¹æ•°æ®åˆ†ç±»æ›´åŠ å‡†ç¡®ã€‚</p>
<p><img decoding="async" loading="lazy" alt="image-20240307152700317" src="https://yuluo-yx.github.io/assets/images/image-20240307152700317-c4cb880c92106a3ab990b1854823e35a.png" width="490" height="419" class="img_c29J"></p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1x_1^2+w_2x_22+w_3x_1x_2+w_4x_1+w_5x_2+b=0</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>å‰äººå·²ç»è¯æ˜è¿‡ï¼Œåªè¦å¢åŠ æ›´å¤šçš„é«˜æ¬¡é¡¹ï¼Œé‚£ä¹ˆä¸è®ºå¤šä¹ˆå¥‡æ€ªçš„åˆ†å‰²çº¿éƒ½å¯ä»¥è¡¨ç¤ºå‡ºæ¥ã€‚</p>
<p>éšç€é¡¹æ•°çš„å¢åŠ ï¼Œå¤æ‚ç¨‹åº¦ä¼šè¶Šæ¥è¶Šå¤§ã€‚ä¹Ÿå°±æ˜¯è¯´æ¨¡å‹çš„å¤æ‚ç¨‹åº¦è¶Šé«˜ã€‚</p>
</blockquote>
<p>ä¸ºäº†å›¾å½¢è¡¨ç¤ºæ–¹ä¾¿ï¼Œæš‚æ—¶è¿™é‡Œåªé’ˆå¯¹ x1 ç»´åº¦å¢åŠ æ›´é«˜æ¬¡é¡¹ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\cdots+w_1x_1^3+w_2x_1^2+w_3x_1+w_4x_2+b=0</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å›¾åƒè¡¨ç¤ºä¸ºï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240307153214331" src="https://yuluo-yx.github.io/assets/images/image-20240307153214331-9903981554d9986628ef4bd3588daa3a.png" width="533" height="427" class="img_c29J"></p>
<p>ç”¨å‘é‡ç‚¹ç§¯çš„å½¢å¼è¡¨ç¤ºä¸ºï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\cdots \\ 0.00 \\ 0.00 \\ -0.20 \\ 0.50 \\ 4.60 \\ -1.00 </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\cdots \\ x_1^5 \\ x_1^4 \\ x_1^3 \\ x_1^2 \\ x_1 \\ x_2</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right] \\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åˆ†ç±»--å›å½’é—®é¢˜">åˆ†ç±» &amp; å›å½’é—®é¢˜<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E5%88%86%E7%B1%BB--%E5%9B%9E%E5%BD%92%E9%97%AE%E9%A2%98" class="hash-link" aria-label="åˆ†ç±» &amp; å›å½’é—®é¢˜çš„ç›´æ¥é“¾æ¥" title="åˆ†ç±» &amp; å›å½’é—®é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æœºå™¨å­¦ä¹ é‡Œè®¨è®ºçš„æ¨¡å‹å¤æ‚ç¨‹åº¦å…¶å®å°±æ˜¯æ›²çº¿çš„å¤æ‚ç¨‹åº¦ã€‚è™½ç„¶æˆ‘ä»¬è¿™é‡Œè®¨è®ºçš„æ˜¯åˆ†ç±»é—®é¢˜ï¼Œå…¶å®å’Œå›å½’é—®é¢˜åœ¨æ¨¡å‹ä¸Šå¹¶æ²¡æœ‰æœ¬è´¨çš„åŒºåˆ«ã€‚æ¯”å¦‚ä¸Šè¿°çš„æ›²çº¿ï¼Œå¯ä»¥æ˜¯å¯¹æ•°æ®çš„åˆ†ç±»ï¼Œä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯å¯¹è¿™äº›æ•°æ®çš„æ‹Ÿåˆã€‚</p>
<p><img decoding="async" loading="lazy" alt="image-20240307154955484" src="https://yuluo-yx.github.io/assets/images/image-20240307154955484-3c9e681b51a78c4759fc78460fc446e9.png" width="513" height="433" class="img_c29J"></p>
<p>ä¸‹é¢æˆ‘ä»¬è¿˜æ˜¯è®¨è®ºåˆ†ç±»é—®é¢˜ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¼•å…¥ç¥ç»ç½‘ç»œ">å¼•å…¥ç¥ç»ç½‘ç»œ<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E5%BC%95%E5%85%A5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C" class="hash-link" aria-label="å¼•å…¥ç¥ç»ç½‘ç»œçš„ç›´æ¥é“¾æ¥" title="å¼•å…¥ç¥ç»ç½‘ç»œçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ—¢ç„¶ç›´çº¿æ¨¡å‹çš„å±€é™æ€§è¿™ä¹ˆå¤§ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥æé«˜æ¨¡å‹çš„å¤æ‚ç¨‹åº¦å‘¢ï¼Ÿæˆ‘ä»¬è¿™æ¬¡è®¨è®ºçš„é‡ç‚¹â€”â€”ç¥ç»ç½‘ç»œå°±æ˜¯ä¸€ç§æé«˜æ¨¡å‹è´Ÿè´£ç¨‹åº¦çš„æ–¹æ³•ã€‚</p>
<p>ä¸‹å›¾å°±è¡¨ç¤ºä¸€ä¸ªç¥ç»ç½‘ç»œï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240307155043430" src="https://yuluo-yx.github.io/assets/images/image-20240307155043430-4cb12d3025775cd96edface0182bce58.png" width="719" height="528" class="img_c29J"></p>
<p>çº¢è‰²è¡¨ç¤ºè¾“å…¥å±‚ï¼Œè¾“å…¥å±‚çš„è¾“å‡ºè¾“å…¥åˆ°ç¥ç»ç½‘ç»œï¼Œå…¶ä¸­æ¯ä¸€ä¸ªç¥ç»å…ƒéƒ½å’Œä¸Šä¸€å±‚ï¼Œä¸‹ä¸€å±‚äº’ç›¸è¿æ¥ã€‚ç§°ä¸ºå…¨è¿æ¥ç¥ç»ç½‘ç»œã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å•ç‹¬æ‹¿å‡ºä¸€ä¸ªæœ€ç®€å•çš„ç»“æ„ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240307155217733" src="https://yuluo-yx.github.io/assets/images/image-20240307155217733-81867475e10e45e8bc5ea790410286b5.png" width="333" height="393" class="img_c29J"></p>
<p>è¿™é‡Œçš„æ¯ä¸€æ¡ä»£è¡¨çš„æ˜¯å¯¹åº”çš„æƒé‡ç³»æ•°ã€‚è¿™ä¸ªç»“æ„ï¼Œå…¶å®å°±è¡¨ç¤ºä¸ºä¸€ä¸ªçº¿æ€§æ–¹ç¨‹ï¼Œè¡¨è¾¾å¼å¦‚ä¸‹ï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1x_1+w_2x_2+w_3x_3+w_4x_4+w_5x_5+w_6x_6+b=z</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240307155302941" src="https://yuluo-yx.github.io/assets/images/image-20240307155302941-db84cead51c1a9487fbfef4675fd049b.png" width="615" height="384" class="img_c29J"></p>
<p>ç»è¿‡ <code>sigmoid(f(x))</code> æ¿€æ´»å‡½æ•°è®¡ç®—è¾“å‡ºç»“æœåˆ°ä¸‹ä¸€å±‚ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ¿€æ´»å‡½æ•°">æ¿€æ´»å‡½æ•°<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0" class="hash-link" aria-label="æ¿€æ´»å‡½æ•°çš„ç›´æ¥é“¾æ¥" title="æ¿€æ´»å‡½æ•°çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ç¥ç»ç½‘ç»œå¯¹æ¿€æ´»å‡½æ•°çš„é€‰æ‹©æ˜¯æœ‰è¦æ±‚çš„ï¼Œsigmoid åªæ˜¯ç¬¦åˆè¦æ±‚çš„å‡½æ•°ä¹‹ä¸€ã€‚è¿™ä¸ªæ¿€æ´»çš„è¿‡ç¨‹ä¸ä¼šåœ¨ç¥ç»ç½‘ç»œä¸­è¡¨ç¤ºå‡ºæ¥ï¼Œåªæ˜¯åœ¨ç¥ç»å…ƒä¸­æ˜¾ç¤ºã€‚</p>
<p><img decoding="async" loading="lazy" alt="image-20240308175155446" src="https://yuluo-yx.github.io/assets/images/image-20240308175155446-bcf61c43bf25492df064d591b59bd888.png" width="758" height="450" class="img_c29J"></p>
<p>å› ä¸ºåé¢éœ€è¦ä½¿ç”¨åæ ‡ç³»æ¥å±•ç¤ºï¼Œæ‰€ä»¥è¿™é‡Œåªè®¨è®ºäºŒç»´æƒ…å†µï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240308175254921" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASEAAACFCAIAAACbhdkAAAANXUlEQVR4nO3caYwb530G8OedIbnkXiT35C53V2sdq8uyLFuxZEkWFMeS5SOBHd8JChQokgZFjw8pArSGALdBgQL54Bboh6IuUqdo4qhykwq10USxm9iWnVVcy0dWkqVKWu3Ne8ghl/fM2w9DMlwul5RkOZLi5/dFI+7O7Cx3Hv5n/u87AxARERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERHdeMT13oGbQ+VtktdzL+impFzvHbjJiCWL/ISi5niUXC5R9W9VNZNLv846R7WYsctReZdEuXhJCchyokTVuSRDRjVs13sHblyVwiUACSEB/CZUpQVZ/sZK8IhqMGNNCEgrP9UvmtVfhwCkVdOYMVqOGVuRrD5HrCwIYUopa1+3LtIYMapDvd47cEMTgICwLrcUwARMoBtY29Yy6LTZDZmR0oBUrFp2vfeWbkzseTQiSk0OaZX7IYEHt6x7eNfODcPDqiLnItHjpz4+fOKDCU03hGIApjTNJpukzxzWsUasiy07oADb3a5DT37xa1882NfROr8wp8Vjvu6uvdtu/9zYusDM3Ew8UbR6HvzUoqV4RDQiAAVQgDEHnn3yy/fecfuvJia+++rr7wWjeWCkVX3mnt1P3PeFC+HYoZdefndmrgCYQgCQbDFSGetYEwpgAx67686Hd+18//8ufPuV194MRpNABpgryBMXptw2ZceWjfns4sRCSM8XAEAIIfjhRSWcS9WECXiB20ZGCoX8q8fHL4UiKoRqnUMK6MCxd0/Mz89sXXOLr7PDIYQQwipiVsxuirDdFDt582LGGhECEuh0KF1tLj2VDGRyeQkT0mpsmBI2IBZf1OJ6q92h2Ox5KU0pAUgpZXmhcgQ3PpSFEIpyff4cPLP9VHF8rCHr2DOlYRhCUVRFKOWXZXlBKCgUCh5v9x995ZlTidSlUCgYDAaDwUAgkEqlTPM3w2k1h3Kl4lW+emMf65yQeZWYsSZsQKIoQ8nUretuGevzjs/Np/OmEBKAIiGBVQO+wYHBmXDw2Pj7yfbOjp7e7du3d3d3WxEyTTMcDodCoXg8Pj09PTc3l81mC4VCg0SJ30rXRIiqqV9CKALSvJypKhwIvGLMWHNR4O2zH++6df0je/acnY/+fGYuUz7M1gKP7ry7p6//8I9+fOz9X0dzxcpaqqp2dnb6fD6/39/W1jY6Orpjxw6bzQZAShmLxTRNi8fjs7OzwWBQ1/V0Om0YBuqVO5SLXvWVXmXZOh2tm8n6rwsFpVNaQHVCKDCypmnCGg8UjePNgF0xXuw2IgBVQJHoAv78Swee3HN3JBr70f/8/PjEuUwuv2X1yKP77rnzti2/mDj13NH/Ph+MmACEkA2rkMvlGhwc7O3t9Xg8fr+/v7+/paXF6XQahhGLxZLJZCQSmZyctBKo67oVvCV7Ve5bCiGqz0WXF8DqjJWWFQWmCaD/9p3bPn9gdMOmFpczGgp89M47Z197JafHhFCklMzSNcSMNVIag1YAiSHga/fteWzf7u7W1mRKLxpme3uncDje+Gji+f/62QfBSF5AQljtkJoje6U6U+FyuXp7e91ud19f38jIiNvtdjqd7e3tpmkmk8lMJhMKhaanpzVNswpgsVis2UIleADMpbNNqn66ACQU54Fv/Om+x7/S0umJJeKGUfB4PA4hTp345X/+499HP/4IRoG3EFxDzFgT1hukCgBokdi9qv+hbZs3+gdtNttUNP6LiVM/OzcVS+elEKYQppTmymGqSVp1m7HuSjabraury+12DwwM+P3+rq4ur9fb1taWz+fz+XwulwuFQgsLC9b1XjgcLhQKK/4WQgDWTxf3fv1PDv7+14OB8E+PvHzuV8fziVjf2NiBp57ZtmvP+Q9OHvn2s5HpyaW38tAnwoxdFmtesHUHiwDaAQVYBIrlWlfqcFzZNpedyFWVI3OFmY+Korjd7o6OjuHhYb/f73a7fT5fe3u71UfJZrNzc3PhcDgSiVgL+Xy+OsD+u/Z+47m/WcxkXnzuUOD0SRjlWNpcjz/7V7sOPnT0xRdO/PB72WS8fL8OfVLseVyWyvFmBSBZyYPVc8fV3J+5UgNjeU2rTqBpmpqmaZo2PT1d+QZFUZxOp8fjGRoa6u/v7+zsHBsb83q91irZbDYYCkW02Lm54Jb9D7W2d/zgn/8pdOEUJCBUa30Y2Vd/+H3/2IY7dt595idHswmNH7/XCjPWnKg8TEBKKaUAlKVhaHq5teKWq4anq2NW/dXl8ausJaVUFMUaIUin0+l0en5+vnrjqqq63e6BwcGOzg53V9fW7dvX3bo5GoslLlw0szlIs/R7GSagZgLB6EJgzepVdk8XZqdhGmzUXxPMWFMCgJClM8JSvZJQISSkaR2FUpZSd4Wbro5TTcyqw1a3VVhJoDVBxEpazcaLxWI0Gk2lUi3OFm9v77DdOZTPqXZn6deyqnP1Tld1KZfco0qfADPWWOkGTeuIFJDWsS3K7e3yZRogoQhFWmeOl1fWalJUaccvr4o1uaqsgqWzQ2w2W09PT3d3t9frHRoa6u3tteqYw26P64l0NncxosXD4dW+4ZaBQXHWIXMZSAkBKCpMQ/F6O/v78vmckU6D98FdO8xYc0IICalAKoABacjSHWUFQEqplid9SmlWnltVmXnYOGyVRFkXWkt+4tJpVjULdru9r6/PuvQaGRnx+XzWIJvdbtd1XdO0aDR68uTJYDAYj8fj8Xil178+HFt967b7H33syOn/jU5PAoAUMIoA7rn/4Mgtt4z/5JVFLVquYNWFjGeNV4lnA02UHjQgoEipAhvaHXs3rl0/NOBQ1bmIdnzi3LsxPWNKARiAAesxVvUvnypWKkrL2e12h8PR09MzMDDQ09Nj5crpdDocDmuySCQS0XU9HA7Pzs4mEgld15cPnQFQhSIBU5qwtz5z6K/vfuBLJ0+MH/3XF7UPTyKXgW9o3xNP3//Y48lo6LvPfitwdgLCLJ9GVj8imTG7GsxYI9a7o0AokF3AU5+77fe+sHfTKr/NLCimIWz2QCp/5K0TL7z5y6m4XgCKSx5ZtXRTzQajnU6ny+Xq7u4eGRmxxqMHBwcdDkexWBRCJBKJhYWFRCIRCoWmpqZ0Xc/lciv19yvlUS65M1tIoUCaaPc+/ReHdj7wUL5ozk9OZfW0b2jI5x+YvXj+X57/2/nxN2QhV26k1tQxZuxqMGMrEuXLfgXoBP5w354/OHCvQPG1E+Nvv/deIZvdun7D/t17Vq0a+fFbb3/n2BuXYgkDMMuHeM1Ep2qtra2dnZ1ut3t0dHRgYMCKljW4XCgUksnk/Px8PB6PRqMXL17Udb1BlqpH1Zafcy5foTSXyubcuP/gzgceHl6zrsXuSka1D8ffPn7435KBS0IV0jRgVuaFVDBgV4kZa8J6gx5cPfyXT3zZoarPv/Tyq5PTSUABHMC2Dte3nnpkw9ia7/zg8JFfn08YtQdie3u7x+OxqpPP53O5XG63u7W1NZVK5fP5VCplTdTQNM0qUw0SUslt3cFrLLuKq7sFKaVQFGlKQELY0dOntDhlRJO5BKQBRRGV6cJ0jbDn0YQA3MDezRu8na7vH3v99YVARlXtVtNeiPFU9qV3xv+sv2vfHdvOBOOas629p9c3MDA4ONjR0eFyuVpaWnK5XDKZTCaTgUBgdnZW1/VgMLi4uFh3rFlVVVlWt/NRPQ2/slalx9j81xHCenaWEIqUBYTnTAAQilAERG37n64FZqwRAWFCehQMeT36Yur0bDCTzRsABFRrfrqUZyYvTc/Mb16/8Zt/vOlsujAXjydTqZmZmZmZmWg0qmlaJpOpG6e606aWz7KvfH/d4TJZdZ91U0tXrE6TNKXBW+I/JcxYQwJCwumwOR32Qi6XKxqV25/Nckshn5cC6qKe+od/P/rW5FTdabnVt6JYr9StPA3+26BSXd0Ukzrb4SXXp4MfXg1JKYDFbFFfTLe3tXa3OOyAIgCJ0nM7AG9Ha7fHnc7l4oWCUXWBWzNPqnoeRvV9KDcOBuxTwow1YvUVY8DHC0Gnq+3e7Vt9XR4hYRewAyrQAXx+69bB/r7TU5PRZLL6DNBSs1zTVafPAj5fsQkVKAKpaGTT0NDOzZt6FRkLhBezOTvgB75659av7t+XKhReOPbmRDBcQGkM2iKW3ph8A9Yu+i3gX70Ra2aUQ0BI3Lfa/81HHrx9dHRuYf70hQuZbH7NyOiGtWu1fP7vjvzH4Q/PaIWiFNbAUv17MVm7PpuYsUbKN0ELBVCk3OpueXr3jv13bR/s7rILoS1m3j0/+b2fvvbWbHDRhBQwAVOWJg5fUUudfocxY81ZcVEBA7ABa9oco153i80WiGlnUlndhGp1QUrz+0R1P50BI7oCQtR+JimAemN2CYmIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiI6HfW/wPTCsqJ+gx1BgAAAABJRU5ErkJggg==" width="289" height="133" class="img_c29J"></p>
<p>å…¶ç”¨å‘é‡è¡¨ç¤ºä¸ºï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x_1\\x_2</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1\\w_2 </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">+[b]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">= [z]\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">sigmoid(z)=a</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¡¨è¾¾å¼çš„è¾“å…¥è¾“å‡ºåœ¨åæ ‡ç³»ä¸­æ˜¾ç¤ºä¸ºå¦‚ä¸‹å›¾çš„ä¸€ä¸ªæ›²é¢ï¼šå¯¹åº”çš„åˆ†ç•Œçº¿å°±æ˜¯ x1 å’Œ x2 å¹³é¢ä¸Šçš„çº¢è‰²ç›´çº¿ã€‚</p>
<p><img decoding="async" loading="lazy" alt="image-20240307160444347" src="https://yuluo-yx.github.io/assets/images/image-20240307160444347-986456b001ed1860dfa1c7855f1ae9f6.png" width="647" height="319" class="img_c29J"></p>
<p>å¦‚æœä¸å­˜åœ¨æ¿€æ´»å‡½æ•°ï¼Œå°±åªæ˜¯ä¸€ä¸ªé¢ï¼Œå¦‚å›¾ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240307160520189" src="https://yuluo-yx.github.io/assets/images/image-20240307160520189-a87b7f2e60582a0dc76744497df4ef8e.png" width="614" height="338" class="img_c29J"></p>
<p>å†åŠ å…¥ä¸€ä¸ªç¥ç»å…ƒæ—¶ï¼Œè¡¨ç¤ºå¦‚ä¸‹ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240308175501778" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARMAAACGCAIAAABxF/mrAAAQS0lEQVR4nO3ce3Bc1X0H8O85dx9arXa10uqxklYytrEtbAdj4RjbgI3Cw8YOU4IDJU6TQNM0TZuhM/kjLSU0mUzboZMpw0ymk9KBtCGhhEdFA6EEQ7GLiW0w5mEb2/it12q12rdWu9rHPb/+cXdXq4eN8chYl/4+9mh2Vvu4V3u/95zzO+cuwBhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxsxCXOoNuEDn3m76lLaC/f+lXeoNuBDTYyMAad7TADMheak34EJQ6SdNbl7KtzlCjJ2TmEiJ4MCwT9Fn4mAr7wSPb9inxcTJKTcyBJDg2LBPlfmSIyp+lu9RpeAICCkEACIqjYI4Umz2mTE5QkBIACABKgAEeAFfVZUmZSybHdb1HKAJgKAAcHTYRWC65AgUwwMLSIL8AltWLN58zarO9g6btA5F4jsOHnzq7Xc/jCeVgAIUVbRIQhBxjtgsMOV8DkAWkAS6al0P3nn7N7fc4nM5g0ND8XjcV1/X3dW1esmi4MDAQDyZhzEeEpVxEcJ05ws255jvGBIQEiSByy3y/ru23nh119sHD/z8v199LxTOAfMd1m3rr936he6T4dCDv35+X39gHAA3NWy2ma/NMZYLWICt16y6bc3qA8eP/8NL23eFwglgDBgsqL0nz9RaxLrlnYXx9KHgcDKXn5gh5daGzRLTrSEQABTgAZa2t+cKuZf37OkbCVsENEACVoEksP2dfX2DA1cumO9zu21CSFHMDLc8bLaYLjkABAG1VRavq3osMxbK5LKEAhVrAIoggXA8FU0kq+xWYbHkiBSdNTPcCrELY7nUG/BJkYAAQAVdEmlSClGeyZmY6hGEQkH31NV/5yt/eH1irDc0MhwKDQ8PBwKBsbGxyhRV3uZ2iZ0/0yUHBNKAZIGCsfjSy9oX1NW82S/TuiICldrQhX6fv8XXPxL63Z79qZo6d2NTV1eX1+vVNE0ppet6NBodHh6ORqODg4MDAwPpdFrX9RkzYxSyL0I5e/qSISGEIFKTHmLOFE/Z8OLfcNqSXHPuXJEZkwMAUWD34cPXLVuy9Qs3HB9J/E9/IA1IgIBFwB+svqapyfdMz/OvvXcokiuUnyuE8Hg8zc3Nra2tTqdz/vz5a9euFUJIKYUQ0Wg0Go3G4/GBgYFQKJRIJIxEYVrTVBkk44Zxp1Kq8mHnjBwVm0kpoJRRLyTSAUDaICRUDkaKhER5OcTcJox/pfTXAjYgCeSINEAKUSAiTEmQCfZrRqbs5QvAAjQB37vt5ruuXxOJRnp27tx14EQ2l1t2mf/29dd3XXnlzoOHfvziKydDYb1ibc7ZOBwOv9/v9Xo9Ho/f729sbLTb7VVVVUbrNDo6Gg6HT58+nUgkYrFYMpk04lRJSimlLCfHSIuRHEzrAQohiMpdS5JSKlIg0XzVuhXdN81b0lldUxMJBt/dtePE6y/nRhOQgFKAwhwmS4VaBdw0375l7dIVSxY4qmzDkfibHxx79o3e/kxBSC2viKAkQBBUXDhlSqZMDgQ0wEroELine+2dN6zzupyjyZRegNvt0i2WnR8efvjFVw8Mh3UpdSJFk09y5zeecTgcPp/P6XQ2NDR0dHTU19fb7XaXy1UoFFKp1NjYWCQS6e/vj0QiRktVKBSmvEK5/FCOUMVtSZAQQpIi0klzbPz2dzdsvctWWx8dTed15XG5qwSO7tvb87NHIkffh8pDfewZ4FLSAA1wAd/dsuxbX7qupb4mmUjkczlPrdPqcO4+2P+3//zbN4NjORIEMjrVChqgV/bcTNSLM2dyAKBYhq4Cru3wbVq5dLm/zapZ+iKxHR8effnY6WA6a1QPqNTXEQCEOHdihBCaphkPUUpNf6zFYvF4PB6Pp62tra2tzbjtcrlyuVwul8tms6FQaHBwMBwODw8Ph8Ph6XGqfCsppFKKoN/4p/dt+vq9oVBoe8/zR/bszcXj9UuW3PLlu69ed92xD/b3/N0Dkf6Tc/aIEgIC0AgW4K9vXviX39icGEs/9p+vvrZnMJXRF7bi3tvX3XzdqsOnI3/y0G8OxlK6KDY3BAkoUbpCUUxOzhzd2xITJweTu8luQAIpoGAERAgQzcqfX0pZ7n2d7QG1tbUul6utrc3v99fV1RmNla7r+Xw+k8mEQqFgMDgyMhIIBKLR6Pj4eOVLta1e/50f/v34eObxB+8fOvo+VKkrKB13/M2PPn/Lpt/96t/eeuYXuWRiLtb9jNgIoeuqu8X6L391j2YT9z3861dPJbOljlgD8E9/1v3lTev/9bntP+7ZH8/kjOGO8QGaNDnmqxCg+GGVL6Uunr6S5d8Zo4hZig2AynH/FEaolFKxWCwWi/X19U1spBBVVVV1dXV+v7+pqcnj8XR2drrdbgBElNf1oeHhcCR6PBBasfG2qhr3048/FjpzTECQkCAlpEZqfHvPMx1Ll69ed/3RV34zHI/Nzv7MLgIBCiSB7muuqqt3P9rz0puDaV1ACkEgi0REx8+e2rGy8/Jrr17qf/lQMp3TJ0dlpled68yYnOLYesaSkyBx8S5zm14oI6IpZbdyPY2IMplMJpMJBAKVT9E0rba2trXNX1vrcXs8K6/+/ILlnxuJxcInjunjGRAZfRkiArRU/0DoTN8VnYvX3LhptO+EVZOV7/WJNv6itFdCCJAEWYg8heSqKy9PZFK//2Aoky0QCUAIQNfJAhxP4NDJvtWrlnU0W47FYVRYZrqW1zTVNjMmx1BsU8rte+ljKLf8s/ABlKNSDgMm56eyela+v3x7xpK0Ua8bS6er7Q6vt7HdUt02noXFRgAgQAQpBUCkjOZUV7quq+ZmX53IayCj/F25hee/O7MfHgGANEDqupdSTocNek4oksVTGpEwxjLQiqMaWC1WCFFuckTpQzRdeEyWHFG8PmfiCmqj3zbxlVFCEFA+YItH/IW917RJG5yl2Zlyo3ybiDRNa2xs9Hq99fX17e3tXq/XYrG43W6bzZZKjI6P506FY+lYpN3fZvf58JEV+TxNVDR0a6O3saMtl8u88NQTwTMnL2g/PiUC8H792uWbVn1ugWtXMEU5FEgpggDygFfDZS2NiUSqfyijF6i00mPmLwCDGaJjsuSUxy4ECIIsXfipAAugAXki43bxEusLSs30eFS2J2d7lpTS5/O1tLS43e729vaWlha73W632y0WSyKRiMfj8Xj84MGDg4OD8Xg8FouVy27LItF7li279Y47nj3yXqT/TOVr3nDrF+fNn7/7xf8aG02WCxUX5uKs0CMAEqQJkdNp5/5DWzesvGvjht0fvLA3m1KABhQIDuBrty1bvsTf8/rbZ8bzJCCFUCSIVGX3gABR/GBN0OyYsLYmjNoyNBLG9W1X1NjWdy5e5PdbrdbBkZHdR468E06mdSLgfKZBZ36Tsy+3sVgsFoulubm5paWloaGhubnZmDm12WzGQoRwOJxMJoeHh/v7+xOJRCqVmj5ziuKfXhIUrDXbHvjR2i1ffGffWy888e+x99/DeBrNrd13brv1zrvjoaGfP/j94LFDEzW3ydt5nnt0kepyovRfAxzAT+7dsG3z9ceOHvvpr1763xNjGR0+ia/ddsU3794YyeT/+IFf7g4mdYKxVgKAgKqcDRWAgKCKU+ScZc7kABpgIXiBu1dd9Y2bNyye10p6gZTSrNaR0UzPrr2PvrHnVDyZA8qH24xhOPcqT5vNZsyEtre3NzU1ud1un89nt9uNqZ5kMjk0NBSLxcLhcG9v7+jo6Pj4+IyFOGNwYiwymPoAqYEUnPXbfvDDNVu2ZLK5/hOn9bFca0dHg6+599hHv3zkHwNvv0G5LGjmV760peqJ5AjohEbgJ9++6Y6bVzlQOH6qLzmWaWtubGrzBUai9z/yZM/RUUXI60ZUjHGOwpRFbsUOOCdnthmfkx2oBb614dp7b+lWqrD9rbd2Hzgwns2uWLz41jXrFnZ09Oze/dArO09G4+e55Ku6utrlctXV1c2bN6+5ubmmpqahoaG6ujqbzeZyudHR0UAgkEgkIpHIqVOnksnk2UrVlYfyjL0+TA+qUSa0Oq7YuHntps3zFy62WO3xWOzdt36/58lfpIJ9kBqUPmNyLrnKyrImUCDUANvWtNy+/qrliy6z2GyReGr3+0ce79n/biIrJPKq2D+j4pCVMPd7ZjMxZXKM1QObF/q/f+eX7Bbrw08+99vTfQkAgAZc43T84K7bF3Ve/tBTzz538KOEPvVzqampqaur83q9xkyL0+l0u91OpzOVSuVyuXQ6HQwGg8FgLBYbGho6d0gw05o0TKsoVNbopj8FgJAakQIRpF3zNpDNpuIxpJMgBUgpNSJVXA86x1Qmh1AceepALdBeC00imsCQggI0iYICoVRam9rUTL1njjNZhQCAMXpxAWs6O91u13+8+vprweGM1KyADhDo7fT403v33dfSeGPXyo9C8ajNUe2tb2ltbWtrczqdDofD4XDk8/lEIjE2NhYIBPr6+pLJZDgcTqfT00Ni9LIweT60shI9dfNmqrydLV0ThQelozivmtNHBksPkwKakFKRojnZ4GDa1QQ6kQSsUqQUHUoU75eQBNKptK6jWIA3Qx3g7EyXHAEBInILtDZ4Y6nUB31Do5msmlgzIBRw8NTJ3oGBzkVLvvcXf348qw/GosnR0d7e3kAgEA6HY7FYJpOZccxjHNOVszdTpnEqf4WPWQ09w1Fxtoq2cRAppYzVqMZ3yhkdGUX6HL/KoFwfK/7FAF0VZ2nKK2uAqd2y6fszd/dwJqZLjjHFDodNq7FZKV/I6npxuClIEISAIGSypAPpsdRPn35y1+m+GRddGi0JKhqTGWdmJt74LFXp80nIeezWxDMxqbg094fKwOSDvjLlVHnfOXfEDHs5ifm+h8C4ujCZ1ePpjLva2WK32YuroKUUEgQFqq+rqvW4UtlMopAnQJZ6XJjc+zJKZHPvqwio4v9nw2dmRyaYLDnlGmgMODwwaLNZu1euaK7zgJQVsBIJkBPo7upqa2k53NsbTo4a86FGw1Lua5WDVDlwZ+z8mez71ozYSKAAjI4El/nb1i27okEUYsPh9HjWDlwm8Eddy79y0w1junps+xtHgiN66Yw342oaxi6M6cY5xdqaBpxIF57csavJ7fzqjRu6ly0+eurUeDZ/+bx5C+d1RHP5R3te3D84lK8odnJa2CwyXy+luMKWoAFW4EpX1VfXr924uqu1vtYiZCQ1tu/EiSe279wxMJJSqLx4/2MnVRg7f6ZMTrn3JYkUYAUWO+0LvB6rlIPR6JFUNqmgCaiJ6xCK5eZzXKPG2CdivuSUFPthYtpXCwiUrnAxlrJ/3BpnxlhFlcy85wTGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMWZe/wfmhzVPFKg4vQAAAABJRU5ErkJggg==" width="275" height="134" class="img_c29J"></p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x_1^{[0]}\\x_2^{[0]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1^{[1]}\\w_2^{[1]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">+[b^{[1]}]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">= [z^{[1]}]\\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">sigmoid(z^{[1]}=a^{[1]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™é‡Œç”¨ä¸­æ‹¬å·ä¸­çš„ä¸Šæ ‡æ•°å­—è¡¨ç¤ºæ˜¯ç¥ç»å…ƒçš„ç¬¬å‡ å±‚ã€‚</p>
<blockquote>
<p>è¾“å…¥å±‚å¯¹åº”çš„æ˜¯ 0 å±‚ã€‚ç¬¬ä¸€å±‚çš„è¾“å‡ºç»“æœä¼šä½œä¸ºç¬¬äºŒå±‚çš„è¾“å…¥ã€‚</p>
</blockquote>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">[a^{1}]^\mathrm TÂ·[w_1^{[2]}]+[b^{[2]}]=[z^{[2]}] \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">sigmoid(z^{[2]}) = a^{[2]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¢åŠ ä¸€å±‚ç¥ç»å…ƒä¹‹åï¼Œå›¾åƒå¹¶ä¸ä¼šæœ‰å¤šå¤§çš„å˜åŒ–ï¼Œä»ç„¶æ˜¯ä¸‹é¢è¿™ç§æ›²é¢ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240307161032336" src="https://yuluo-yx.github.io/assets/images/image-20240307161032336-f9ebeb574a56b3f65124fd37c75674e0.png" width="600" height="333" class="img_c29J"></p>
<p>æ¥ä¸‹æ¥å°±ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæˆ‘ä»¬åœ¨å¤šåŠ ä¸€ä¸ªç¥ç»å…ƒä¹‹åï¼Œ</p>
<p><img decoding="async" loading="lazy" alt="image-20240322185329932" src="https://yuluo-yx.github.io/assets/images/image-20240322185329932-17111048118771-9513531d862724ddc869b9e61b5c7aa5.png" width="353" height="160" class="img_c29J"></p>
<p>æ¯ä¸ªç¥ç»å…ƒéƒ½æœ‰ <code>W1, W2 å’Œ b</code> ä¸€ç»„ç³»æ•°ã€‚è¿™æ—¶å€™ W å°±ä¸å†æ˜¯å‘é‡ï¼Œè€Œæ˜¯çŸ©é˜µã€‚ä¸è¿‡ä»ç„¶æ˜¯è¿›è¡Œçº¿æ€§è¿ç®—ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x_1^{[0]}\\x_2^{[0]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_{1.1}^{[1]} \quad w_{2.1}^{[1]}  \\w_{1.2}^{[1]} \quad w_{2.2}^{[1]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">+[b_1^{[1]} \quad b_2^{[1]}]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">= [ \quad z_2^{[1]}]\\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">è½¬ç½®ä¹‹åï¼š\\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x_1^{[0]}\\x_2^{[0]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_{1.1}^{[1]} \quad w_{2.1}^{[1]}  \\w_{1.2}^{[1]} \quad w_{2.2}^{[1]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">+</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">[b_1^{[1]} \\ b_2^{[1]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">=</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">[z_1^{[1]}] \\ z_2^{[1]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T \\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">æ¿€æ´»å‡½æ•°ä¹Ÿå˜æˆä½¿ç”¨å‘é‡è¡¨ç¤ºçš„å½¢å¼ï¼š</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">sigmoid(Z^{[1]}) = A^{[1]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>è¿™é‡Œè¡¨ç¤ºæ¯ä¸€é¡¹ï¼Œæ¯ä¸€ä¸ªåˆ†é‡éƒ½è¦ç»è¿‡ <code>sigmoid</code> è®¡ç®—ã€‚</p>
</blockquote>
<p>ç¬¬äºŒå±‚çš„è¾“å…¥ä¹Ÿä¼šç›¸åº”å˜æˆä¸¤ä¸ªï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">a_1^{[1]}\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">a_2^{[1]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1^{[2]} \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_2^{[2]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">+</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">b^{[2]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">=</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">z^{[2]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right] \\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">sigmoid(Z^{[2]}) = a^{[2]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ­¤æ—¶çš„å›¾åƒä¼šå˜çš„æ›´åŠ å¤šæ ·ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322190244078" src="https://yuluo-yx.github.io/assets/images/image-20240322190244078-e0af0c8a230cd9b309fd5ac97793a1cc.png" width="824" height="481" class="img_c29J"></p>
<p>å°¤å…¶æ˜¯åˆ†ç•Œçº¿ï¼Œå·²ç»ä¸æ­¢æ˜¯ä¸€æ¡ç›´çº¿äº†ï¼Œè€Œæ˜¯å‘ç”Ÿäº†å¼¯æ›²ã€‚</p>
<p><img decoding="async" loading="lazy" alt="image-20240322190340302" src="https://yuluo-yx.github.io/assets/images/image-20240322190340302-27047e855d391eae0154c401b0327fbb.png" width="833" height="522" class="img_c29J"></p>
<p>å¦‚æœæˆ‘ä»¬ç»§ç»­å¢åŠ ç¥ç»å…ƒï¼Œå¢åŠ åˆ°å››ä¸ªï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322190431511" src="https://yuluo-yx.github.io/assets/images/image-20240322190431511-a96cde186bd6e76357335819cb6b4a97.png" width="435" height="146" class="img_c29J"></p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">x_1^{[0]}\\x_2^{[0]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_{1.1}^{[1]} \quad w_{2.1}^{[1]} \quad w_{3.1}^{[1]} \quad w_{4.1}^{[1]}  \\w_{1.2}^{[1]} \quad w_{2.2}^{[1]} \quad w_{3.2}^{[1]} \quad w_{4.2}^{[1]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">+</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">[b_1^{[1]} \\ b_2^{[1]} \\ [b_3^{[1]} \\ b_4^{[1]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">=</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">[z_1^{[1]}] \\ z_2^{[1]} \\ [z_3^{[1]}] \\ z_4^{[1]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">a_1^{[1]}\\a_2^{[1]}\\a_3^{[1]}\\a_4^{[1]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]^\mathrm T</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1^{[2]} \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_2^{[2]} \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_3^{[2]} \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_4^{[2]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">+</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">b^{[2]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">=</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">z^{[2]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right] \\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ­¤æ—¶å›¾å½¢å˜åŒ–ä¸ºï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322190509691" src="https://yuluo-yx.github.io/assets/images/image-20240322190509691-0b039e5b98f213ddc02a329aa888d643.png" width="813" height="592" class="img_c29J"></p>
<p>æ— è®ºæ˜¯è¾“å‡ºç»“æœçš„æ›²é¢ï¼Œè¿˜æ˜¯åˆ†ç•Œçº¿ï¼Œä»–ä»¬çš„å¤æ‚ç¨‹åº¦å¤§å¤§å¢åŠ ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322190536513" src="https://yuluo-yx.github.io/assets/images/image-20240322190536513-6933971fa9c15ce7d12a11ca10cdad7e.png" width="840" height="560" class="img_c29J"></p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬æŒç»­å¢åŠ ç¥ç»å…ƒï¼Œå›¾å½¢çš„å¤æ‚ç¨‹åº¦ä¼šè¶Šæ¥è¶Šé«˜ã€‚</p>
<p>æ•°æ®å®¶ä¹Ÿè¯æ˜äº†ï¼Œåªè¦å¢åŠ çš„ç¥ç»å…ƒè¶³å¤Ÿå¤šï¼Œä»»ä½•ä¸€ç§å¤æ‚çš„æ›²çº¿éƒ½èƒ½å¤Ÿè¢«æ— é™çš„æ¥è¿‘è¡¨è¾¾å‡ºæ¥ï¼Œå³ä¸‡èƒ½é€¼è¿‘å®šç†ï¼ˆé€šç”¨è¿‘ä¼¼å®šç†ï¼‰ã€‚</p>
<p>ç¥ç»ç½‘ç»œè¦æƒ³å®ç°ä¸‡èƒ½é€¼è¿‘ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå…³é”®æ˜¯<code>æ¿€æ´»å‡½æ•°</code>ã€‚å¿…é¡»æ˜¯éçº¿æ€§çš„ï¼Œå¦‚æœæ²¡æœ‰æ¿€æ´»å‡½æ•°ï¼Œå†å¤šçš„ç¥ç»å…ƒä¹Ÿä¸ä¼šå¢åŠ æ¨¡å‹çš„å¤æ‚æ€§ã€‚æ¨¡å‹çš„å›¾åƒåªä¼šæ˜¯ä¸€ä¸ªè¶…å¹³é¢ã€‚å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°å¦‚ä¸‹ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322193525270" src="https://yuluo-yx.github.io/assets/images/image-20240322193525270-13f5e1e013149bd3ce48c3c0ea6fb83a.png" width="869" height="643" class="img_c29J"></p>
<p>ä¹Ÿå¯ä»¥æ˜¯ï¼š<code>sin(x) sinc(x) Gaussion(x)</code> ã€‚ä¸åŒçš„æ¿€æ´»å‡½æ•°å¯¹åº”çš„å›¾å½¢æ˜¯éå¸¸ä¸åŒçš„ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ¿€æ´»å‡½æ•°æ·±å…¥">æ¿€æ´»å‡½æ•°æ·±å…¥<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0%E6%B7%B1%E5%85%A5" class="hash-link" aria-label="æ¿€æ´»å‡½æ•°æ·±å…¥çš„ç›´æ¥é“¾æ¥" title="æ¿€æ´»å‡½æ•°æ·±å…¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä¸ºä»€ä¹ˆå¢åŠ æ›´å¤šçš„ç¥ç»å…ƒä¼šæœ‰æ›´å¼ºçš„èƒ½åŠ›ï¼Œä»å¦ä¸€ä¸ªè§’åº¦è¿›è¡Œè§£é‡Šã€‚</p>
<p>å°†å‰é¢ç¥ç»ç½‘ç»œéƒ¨åˆ†çœ‹ä½œä¸ºä¸€ä¸ªé»‘ç›’ï¼Œä¸è®ºè¾“å…¥çš„æ•°æ®æ˜¯ä»€ä¹ˆæ ·å­ï¼Œæœ€ç»ˆè¾“å‡ºåˆ°æœ€åä¸€ä¸ªç¥ç»å…ƒåªæ˜¯ä¸€ä¸ªè®¡ç®—ç»“æœã€‚å‡è®¾ä»–æœ‰ 10 ç»´ã€‚å¦‚å›¾ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322193938404" src="https://yuluo-yx.github.io/assets/images/image-20240322193938404-3bab29078b67439b444ab52fc82a39d3.png" width="567" height="451" class="img_c29J"></p>
<p>æ•°æ®ä»2ç»´åˆ°10ç»´ã€‚å…¶ä¸­çš„å…³é”®æ˜¯æ•°æ®çš„è¾“å…¥è¿›è¡Œäº†ä¸€ä¸ªçŸ©é˜µè¿ç®—ï¼ŒçŸ©é˜µå¯¹ä¸€ä¸ªå‘é‡è¿›è¡Œæ“ä½œã€‚å°†å…¶å˜ä¸ºå¦å¤–ä¸€ä¸ªå‘é‡ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322194200931" src="https://yuluo-yx.github.io/assets/images/image-20240322194200931-b3b6c937fb62d2d15a9d11254513a678.png" width="1045" height="448" class="img_c29J"></p>
<p>ä¾‹å¦‚å¦‚ä¸‹çš„å‘é‡ï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">1\\1</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240322194307256" src="https://yuluo-yx.github.io/assets/images/image-20240322194307256-9142512479a7721eb7e8e93a8b848d29.png" width="923" height="562" class="img_c29J"></p>
<p>è¿›è¡Œå¦‚ä¸‹çš„è¿ç®—ï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">1\\1</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">cos\theta \quad -sin\theta\\sin\theta \quad cos\theta</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å°†å‘é‡æ—‹è½¬ <code>Î¸</code> è§’åº¦ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322194625846" src="https://yuluo-yx.github.io/assets/images/image-20240322194625846-f4aa6003cf357b124c2f42fbc12388b2.png" width="640" height="387" class="img_c29J"></p>
<p>é‚£ä¹ˆè¿™ä¸ªçŸ©é˜µçš„ä½œç”¨å°±æ˜¯ä½¿å‘é‡å‘ç”Ÿæ—‹è½¬ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä¸‹çš„çŸ©é˜µï¼Œå®Œå…¨å¯ä»¥èµ·åˆ°å¯¹å‘é‡è¿›è¡Œå‡ç»´çš„ä½œç”¨ï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">1\\1</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_{1.1} \quad w_{2.1} \quad w_{3.1} \\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_{1.2} \quad w_{2.2} \quad w_{3.2} </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240322194922199" src="https://yuluo-yx.github.io/assets/images/image-20240322194922199-351451e02a2e2d62d6e3d24cb6150c52.png" width="489" height="385" class="img_c29J"></p>
<p>å¦‚æœæ•°æ®åªæ˜¯äºŒç»´çš„ï¼Œå®ƒä»¬äº’ç›¸å‚æ‚åœ¨ä¸€èµ·ï¼Œå¾ˆéš¾ç›´æ¥ç”¨ç›´çº¿å¯¹æ•°æ®è¿›è¡Œåˆ’åˆ†ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322195040705" src="https://yuluo-yx.github.io/assets/images/image-20240322195040705-8031b65cf1879bcb50859a09f4e05cde.png" width="503" height="380" class="img_c29J"></p>
<p>å¦‚æœå¯¹å®ƒä»¬è¿›è¡Œå‡ç»´ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322195114768" src="https://yuluo-yx.github.io/assets/images/image-20240322195114768-c04692051efa0f766a0f0efe534a8713.png" width="476" height="375" class="img_c29J"></p>
<p>ç”¨è·Ÿç®€å•çš„æ¨¡å‹ä¹Ÿå¯ä»¥å°†ä»–ä»¬åˆ†å¼€ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322195132104" src="https://yuluo-yx.github.io/assets/images/image-20240322195132104-04d452a68f0aba0bc99250d7ec0d22da.png" width="550" height="393" class="img_c29J"></p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç¥ç»å…ƒä¸­ä¸­é—´çš„æ“ä½œçœ‹ä½œæ˜¯æ•°æ®å‡ç»´çš„æ“ä½œï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322195221569" src="https://yuluo-yx.github.io/assets/images/image-20240322195221569-09bd100acfeb8de947860754a8f165ea.png" width="423" height="275" class="img_c29J"></p>
<p>æœ‰å¤šå°‘ç¥ç»å…ƒï¼Œå°±ä¼šæŠŠæ•°æ®å‡åˆ°å¤šå°‘ç»´ã€‚åªè¦ç»´åº¦å¤Ÿé«˜ï¼Œä¸€å®šä¼šæ‰¾åˆ°ä¸€ä¸ªè¶…å¹³é¢ï¼Œèƒ½å¯¹æ•°æ®å®Œæˆåˆ’åˆ†ã€‚</p>
<p>è¿™æ ·å°±å˜æˆäº†æˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„ <code>f(x)</code> é—®é¢˜ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322195351911" src="https://yuluo-yx.github.io/assets/images/image-20240322195351911-5aa536d178dfdaa1518f37d5abbcaaff.png" width="920" height="479" class="img_c29J"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¤šåˆ†ç±»é—®é¢˜">å¤šåˆ†ç±»é—®é¢˜<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E5%A4%9A%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98" class="hash-link" aria-label="å¤šåˆ†ç±»é—®é¢˜çš„ç›´æ¥é“¾æ¥" title="å¤šåˆ†ç±»é—®é¢˜çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¸€ä¸ªç¥ç»ç½‘ç»œå¹¶ä¸æ˜¯åªèƒ½æœ‰ä¸€ä¸ªè¾“å‡ºèŠ‚ç‚¹ï¼Œå¤„ç†äºŒåˆ†ç±»é—®é¢˜ã€‚ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªèŠ‚ç‚¹ï¼Œè¿›è¡Œå¤šåˆ†ç±»é—®é¢˜çš„è®¨è®ºï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322195656661" src="https://yuluo-yx.github.io/assets/images/image-20240322195656661-210ebe930ed96272546dada9f2600cd2.png" width="740" height="441" class="img_c29J"></p>
<p>å…¶å®è´¨ä¹Ÿæ˜¯åœ¨æ¯ä¸€ä¸ªè¾“å‡ºèŠ‚ç‚¹ä¸Šè¿›è¡ŒäºŒåˆ†ç±»åˆ¤æ–­ï¼Œå°†å„ä¸ªèŠ‚ç‚¹ç»¼åˆèµ·æ¥ï¼Œå°±å¯ä»¥å»è§£å†³å¤šåˆ†ç±»é—®é¢˜ã€‚çœŸå®çš„åœºæ™¯ä¸­ï¼Œå¹¶ä¸åƒæ˜¯ä¸Šè¿°æè¿°çš„ç²—ç³™ï¼Œè€Œæ˜¯é€šè¿‡ <code>softMax(Y)</code>å‡½æ•°è¿›è¡Œç»Ÿä¸€æè¿°ã€‚å‡½æ•°è¡¨è¾¾å¼å¦‚ä¸‹ï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">softMax(\hat{Y}) = \frac{e^{\hat{y_i}}}{\sum_{j=1}^4e^{\hat{y_j}}}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å°±æ˜¯å¯¹ <code>singmoid(x)</code> å‡½æ•°çš„æ‰©å±•å’Œå‡çº§ã€‚</p>
<p>å®Œæ•´çš„ç¥ç»ç½‘ç»œå¦‚ä¸‹ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322200530988" src="https://yuluo-yx.github.io/assets/images/image-20240322200530988-c99920a5d01a4fd11e8ce59f89789873.png" width="673" height="508" class="img_c29J"></p>
<p>è¿™é‡Œçš„éšè—å±‚æš‚æ—¶ç†è§£ä¸ºå¯¹æ•°æ®è¿›è¡Œå‡ç»´æ“ä½œã€‚ä¸è¿‡æ›´å¸¸è§çš„ç¥ç»ç½‘ç»œåº”è¯¥æ˜¯å¦‚ä¸‹çš„è¡¨ç¤ºï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322200647520" src="https://yuluo-yx.github.io/assets/images/image-20240322200647520-1f775003d4f504a045ab93e39bd9a150.png" width="872" height="455" class="img_c29J"></p>
<p>åŸºäºå¦‚ä¸Šçš„ç¥ç»ç½‘ç»œï¼Œç»§ç»­ä½¿ç”¨éšè—å±‚å°±æ˜¯å¯¹æ•°æ®å‡ç»´çš„çœ‹æ³•ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ï¼Œä»å·¦åˆ°å³ï¼Œç¥ç»å…ƒçš„ä¸ªæ•°åœ¨é€’å‡ã€‚æˆ‘ä»¬ä»ç„¶å›å½’åˆ°ç®€å•é—®é¢˜ï¼š</p>
<p>ç¥ç»ç½‘ç»œçš„è¾“å…¥è¾“å‡ºå¯ä»¥æ˜¯ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322200840361" src="https://yuluo-yx.github.io/assets/images/image-20240322200840361-f8eaa858eb3d0120ac5f9ec597d02b9f.png" width="515" height="378" class="img_c29J"></p>
<p>åŸºäºä¸Šè¿°ç¥ç»ç½‘ç»œå¾ˆéš¾æœ‰æ–°çš„å‘ç°ï¼Œæˆ‘ä»¬åªéœ€è¦å°†é—®é¢˜æ¢æˆä¸‹è¿°è¿™æ ·ï¼Œå°±ä¼šæœ‰æ–°çš„å‘ç°ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322201001608" src="https://yuluo-yx.github.io/assets/images/image-20240322201001608-7dcd40745203d1360d96d3081d8f7a1b.png" width="480" height="417" class="img_c29J"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ¡ˆä¾‹åˆ†æ----åˆ¤æ–­é¢éƒ¨è¡¨æƒ…--ocr">æ¡ˆä¾‹åˆ†æ  - åˆ¤æ–­é¢éƒ¨è¡¨æƒ… &amp; OCR<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90----%E5%88%A4%E6%96%AD%E9%9D%A2%E9%83%A8%E8%A1%A8%E6%83%85--ocr" class="hash-link" aria-label="æ¡ˆä¾‹åˆ†æ  - åˆ¤æ–­é¢éƒ¨è¡¨æƒ… &amp; OCRçš„ç›´æ¥é“¾æ¥" title="æ¡ˆä¾‹åˆ†æ  - åˆ¤æ–­é¢éƒ¨è¡¨æƒ… &amp; OCRçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¸Šè¿°çš„æ•°æ®ç»´åº¦å®Œå…¨å¯ä»¥çœ‹ä½œæ˜¯åˆ¤æ–­ä¸€ä¸ªäººå¿ƒæƒ…çš„ç‰¹å¾ã€‚åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œå¯æ²¡æœ‰è¿™ä¹ˆæ¸…æ™°çš„è¾“å…¥æ•°æ®å»è®©æ¨¡å‹è¿›è¡Œåˆ¤æ–­ã€‚è€Œåœ¨ç°å®ç”Ÿæ´»ä¸­å­˜åœ¨å¯èƒ½æ˜¯è¿™æ ·çš„ä¸€å¼ åŸå§‹å›¾ç‰‡ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322201056290" src="https://yuluo-yx.github.io/assets/images/image-20240322201056290-8ba9f049a5b8e3a2dfd03e143bc0c97a.png" width="265" height="332" class="img_c29J"></p>
<p>å›¾ç‰‡ä¸Šçš„æ¯ä¸€ä¸ªåƒç´ éƒ½æ˜¯æ•°æ®çš„ä¸€ä¸ªç»´åº¦ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322201249208" src="https://yuluo-yx.github.io/assets/images/image-20240322201249208-715fa0856b41d3218072f56f2376dec2.png" width="718" height="492" class="img_c29J"></p>
<p>è¿™æ—¶å€™åœ¨åŠ å…¥éšè—å±‚ï¼š</p>
<p><img decoding="async" loading="lazy" alt="image-20240322201311835" src="https://yuluo-yx.github.io/assets/images/image-20240322201311835-500a45e7e4248c45183d46bd1b94654a.png" width="857" height="476" class="img_c29J"></p>
<p>å°±å¯ä»¥ç†è§£æˆäººç±»é¢éƒ¨è¡¨æƒ…çš„ç‰¹å¾ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¿™é‡Œåè€Œé™ç»´äº†å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºè¿™é‡Œçš„ä¸€ä¸ªç‰¹å¾ï¼Œå¹¶ä¸éœ€è¦åŸå§‹æ•°æ®é‡Œçš„æ‰€æœ‰ç»´åº¦ã€‚ä¾‹å¦‚çœ¼ç›çš„åŠ¨ä½œï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥åªå…³æ³¨çœ¼é•œçš„åƒç´ ç‚¹ã€‚</p>
<p>è¿™é‡Œéšè—å±‚å°±å¯ä»¥ç†è§£æˆå¯¹ä¸Šä¸€å±‚åŸå§‹æ•°æ®çš„æŠ½è±¡ã€‚</p>
<p>å¦‚æœåªæ˜¯åˆ°æ­¤ç¨‹åº¦çš„è¯ï¼Œè¿˜æ˜¯ä¸èƒ½æœ‰æ•ˆçš„è§£é‡Šä¸ºä»€ä¹ˆç¥ç»ç½‘ç»œéœ€è¦è¿™ä¹ˆå¤šå±‚ã€‚è¿™æ—¶å€™å¦‚æœæˆ‘ä»¬æ¢ä¸ªé—®é¢˜ç»§ç»­ç†è§£ï¼Œå°±ä¼šæ˜ç™½ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨ç¥ç»ç½‘ç»œå»åˆ¤æ–­æ‰‹å†™çš„æ•°å­—ï¼š</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323184129253.png" alt="image-20240323184129253" style="zoom:67%;">
<p>æ¯”å¦‚æ•°å­— 8 ï¼Œç¥ç»ç½‘ç»œå¾ˆå¯èƒ½ä¼šå°† 8 ä¸Šä¸‹ä¸¤éƒ¨åˆ†çš„ç‰¹å¾æå–å‡ºæ¥ä½œä¸ºåˆ¤æ–­çš„ä¾æ®ã€‚å¦‚å›¾ï¼š</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323184311528.png" alt="image-20240323184311528" style="zoom:67%;">
<p>è¿™é‡Œå°†å…¶æ”¾åœ¨ç¬¬äºŒä¸ªéšè—å±‚çš„åŸå› æ˜¯ï¼Œä¸¤ä¸ªåœ†å¯èƒ½è¿˜æœ‰å…¶è‡ªå·±çš„å­ç‰¹å¾ï¼š</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323184422041.png" alt="image-20240323184422041" style="zoom:67%;">
<p>ä»–ä»¬éƒ½ç”±å››éƒ¨åˆ†åœ†å¼§ç»„æˆã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯åœ¨é‡åˆ°åŒæ ·çš„ç‰¹å¾æ—¶å¯ä»¥å¤ç”¨ï¼Œæ¯”å¦‚æ•°å­— 6 ï¼Œä¸‹åŠéƒ¨åˆ†ä¹Ÿæ˜¯ä¸€ä¸ªåœ†åœˆçš„ç»“æ„ï¼Œä¸‹é¢çš„ç‰¹å¾å°±å¯ä»¥å’Œ 8 è¿›è¡Œå¤ç”¨ã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323184635859.png" alt="image-20240323184635859" style="zoom:67%;">
<p>ä¸ŠåŠéƒ¨åˆ†çš„ä¸€ç«–æ‰æ˜¯æ•°å­— 6 ç‹¬æœ‰çš„ç‰¹å¾ã€‚</p>
<p>å¯¹åº”çš„æ•°å­— 5 ï¼Œä¸‹åŠéƒ¨åˆ†æ˜¯åŠä¸ªåœ†å¼§ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥è¿›è¡Œå¤ç”¨ï¼Œä¸åŒçš„ç‰¹å¾åªæœ‰ä¸Šé¢çš„ ä¸€æ¨ª è¿™ä¸€éƒ¨åˆ†ã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323184805162.png" alt="image-20240323184805162" style="zoom:67%;">
<p>å¯¹ç¥ç»ç½‘ç»œçš„å±‚æ•°å¯ä»¥ç†è§£ä¸ºï¼šéšè—å±‚è¶Šæ·±ï¼Œå¯¹æ•°æ®çš„æŠ½è±¡ç¨‹åº¦è¶Šé«˜ã€‚</p>
<blockquote>
<p>è¿™é‡Œåªæ˜¯ç”¨äº†æˆ‘ä»¬äººèƒ½ç†è§£çš„ç‰¹å¾è¿›è¡Œæè¿°ï¼Œç¥ç»ç½‘ç»œè‡ªå·±å­¦ä¹ åˆ°çš„ç‰¹å¾ï¼Œå¯èƒ½äººæ— æ³•ç†è§£ï¼Œä½†æ˜¯é¢„æµ‹ç»“æœåŒæ ·ååˆ†å‡†ç¡®ã€‚</p>
</blockquote>
<p>ä¸Šè¿°çš„å°±æ˜¯å¯¹ä¸€ä¸ªå®Œæ•´çš„ç¥ç»ç½‘ç»œçš„æè¿°ã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323185042001.png" alt="image-20240323185042001" style="zoom:67%;">
<blockquote>
<p>æ¨¡å‹  -&gt; éšè—å±‚</p>
<p>ç­–ç•¥ -&gt; è¾“å‡ºå±‚</p>
<p>å…¶å®åœ¨è¾“å…¥å±‚ä¹Ÿéœ€è¦å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†ã€‚éšç€ç®—åŠ›éœ€æ±‚è¶Šæ¥è¶Šå¤§ï¼Œå¦‚ä½•å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†ä½¿å…¶å¾—åˆ°æœ€ä½³ç»“æœã€‚ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„é—®é¢˜ã€‚</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="ç®—æ³•---æ¢¯åº¦ä¸‹é™ç®—æ³•">ç®—æ³• - æ¢¯åº¦ä¸‹é™ç®—æ³•<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E7%AE%97%E6%B3%95---%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D%E7%AE%97%E6%B3%95" class="hash-link" aria-label="ç®—æ³• - æ¢¯åº¦ä¸‹é™ç®—æ³•çš„ç›´æ¥é“¾æ¥" title="ç®—æ³• - æ¢¯åº¦ä¸‹é™ç®—æ³•çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œè¿™ä¸ªç®—æ³•æ²¡æœ‰åˆ«çš„ï¼Œå°±æ˜¯åå‘ä¼ æ’­ï¼ˆæ¢¯åº¦ä¸‹é™ï¼‰ç®—æ³•ã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323185330009.png" alt="image-20240323185330009" style="zoom:67%;">
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="ç®—æ³•æ¨å¯¼">ç®—æ³•æ¨å¯¼<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E7%AE%97%E6%B3%95%E6%8E%A8%E5%AF%BC" class="hash-link" aria-label="ç®—æ³•æ¨å¯¼çš„ç›´æ¥é“¾æ¥" title="ç®—æ³•æ¨å¯¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¸€ä¸ªç¥ç»ç½‘ç»œæˆ‘ä»¬å®Œå…¨çœ‹ä½œæ˜¯ä¸€ä¸ªè¿™æ ·çš„å‡½æ•°ï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f_w(X) = \hat{Y}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åªä¸è¿‡è¿™ä¸ªå‡½æ•°ç›¸å½“å¤æ‚è€Œå·²ã€‚å¦‚æœç¥ç»ç½‘ç»œå·²ç»è®­ç»ƒæˆåŠŸï¼Œåœ¨è¿›è¡Œåˆ¤æ–­å’Œå†³ç­–çš„æ—¶å€™ï¼Œä»–ä»¬çš„è¾“å…¥å°±æ˜¯ X ç³»æ•° W æ˜¯ä½œä¸ºå‚æ•°ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸ºæ­£å‘ä¼ æ’­ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸€ä¸ªç¥ç»ç½‘ç»œæ­£åœ¨è¢«è®­ç»ƒï¼Œä»–ä»¬ä¹‹é—´çš„å…³ç³»å°±ä¼šå˜å¾—ç›¸å…³ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f_X(W) = \hat{Y}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>x ä½œä¸ºå·²çŸ¥çš„å‚æ•°ï¼Œç³»æ•°ä½œä¸ºå˜é‡ï¼Œæ˜¯éœ€è¦æ±‚è§£çš„ã€‚å› æ­¤ï¼Œå‡½æ•°çš„å›¾åƒä¹Ÿä¼šå‘ç”Ÿç›¸åº”çš„å˜åŒ–ã€‚å¦‚å›¾ä¸ºä¸€ä¸ªæ­£å‘ä¼ æ’­çš„å‡½æ•°å›¾åƒï¼š</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323185807364.png" alt="image-20240323185807364" style="zoom:80%;">
<p>å¦‚æœå°†ç³»æ•° W çœ‹ä½œå˜é‡çš„è¯ï¼Œåæ ‡ä¸å†æ˜¯ x1 å’Œ  x2 è€Œæ˜¯ w1 å’Œ w2ã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323185917793.png" alt="image-20240323185917793" style="zoom:80%;">
<p>ä¸Šå›¾ä¸ºä¸€ä¸ªç®€åŒ–å¤„ç†ï¼Œè¿™é‡Œæˆ‘ä»¬å‡è®¾ä¸çŸ¥é“ç¥ç»ç½‘ç»œçš„å…·ä½“æƒ…å†µï¼Œåªæ˜¯å°† æ‰€æœ‰çš„ç³»æ•°çœ‹æˆæ˜¯ä¸€ä¸ªå‘é‡ã€‚åé¢æˆ‘ä»¬ä¼šä¿®æ­£å›¾åƒã€‚è¿™é‡Œçš„æœ€é«˜ç‚¹å°±æ˜¯æˆ‘ä»¬åœ¨é€‰æ‹©ç­–ç•¥åå¸Œæœ›å‡ºç°çš„ç»“æœã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323190054804.png" alt="image-20240323190054804" style="zoom:50%;">
<p>æˆ‘ä»¬è¿™é‡Œçš„ç»“æœä¸æ˜¯æ±‚å‡º Y çš„å€¼ï¼Œè€Œæ˜¯æ±‚å‡ºä»¤ Y æœ€å¤§æ—¶ W çš„å–å€¼ã€‚</p>
<p>è¿™ä¸ª W çš„å–å€¼å°±æ˜¯æœ€é«˜ç‚¹åœ¨ç³»æ•°å¹³é¢ä¸Šçš„æŠ•å½±ï¼š</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323190459383.png" alt="image-20240323190459383" style="zoom:50%;">
<p>ä¸è¿‡ï¼Œæˆ‘ä»¬åœ¨åˆå§‹åŒ–ä¸€ä¸ªç¥ç»ç½‘ç»œçš„æ—¶å€™ï¼Œç³»æ•° W å¯èƒ½å‡ºç°åœ¨ä»»ä½•ä¸€ä¸ªä½ç½®ï¼Œç†æƒ³æƒ…å†µä¸‹ï¼Œä»–åˆ°æœ€ä¼˜ç‚¹çš„è·ç¦»å°±æ˜¯æˆ‘ä»¬æ±‚è§£çš„ç›®æ ‡ï¼š</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323190600402.png" alt="image-20240323190600402" style="zoom:50%;">
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f_x(W^*) = \hat{Y_*} </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">W - W^* = \Delta W</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä½†æ˜¯åœ¨å®é™…åœºæ™¯ï¼Œä¸Šè¿° W çš„å€¼å¾ˆéš¾ç›´æ¥è®¡ç®—å‡ºæ¥ã€‚å¦‚æœåˆ©ç”¨å¦‚ä¸‹çš„æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ±‚å‡ºï¼š</p>
<p>åœ¨æ›²é¢ä¸Šçš„ä»»æ„ä¸€ç‚¹ï¼šéƒ½å¯ä»¥æ±‚å‡ºä¸€ä¸ªå‘é‡ï¼š</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323190857379.png" alt="image-20240323190857379" style="zoom:50%;">
<p>è¿™ä¸ªå‘é‡æ€»æ˜¯æŒ‡å‘ä¸Šå‡æœ€å¿«çš„æ–¹å‘ï¼š</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323190950437.png" alt="image-20240323190950437" style="zoom:50%;">
<p>é‚£ä¹ˆè¿™ä¸ªå‘é‡åœ¨å‚æ•°å¹³é¢ä¸Šçš„<code>æŠ•å½±</code>å°±å«åš <code>æ¢¯åº¦</code>ã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323191034894.png" alt="image-20240323191034894" style="zoom:50%;">
<p>æ¢¯åº¦æ€»æ˜¯æŒ‡å‘ä¸Šå‡æœ€å¿«çš„æ–¹å‘ï¼Œé‚£ä¹ˆä¸ºä½•ç§°ä¸ºæ¢¯åº¦ä¸‹é™æ³•å‘¢ï¼Ÿåœ¨é€‰æ‹©ç­–ç•¥çš„æ—¶å€™ï¼Œæœ‰çš„ç­–ç•¥æ˜¯æ±‚æœ€å¤§ï¼Œæœ‰çš„æ˜¯æ±‚æœ€å°ã€‚ä¸ºäº†å°†å…¶ç»Ÿä¸€çœ‹å¾…ï¼Œå³ä¾¿æ˜¯æ±‚æœ€å¤§çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å…¶ä¸ŠåŠ ä¸Šè´Ÿå·ä½¿å…¶å˜æˆæ±‚æœ€å°çš„é—®é¢˜ã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323191347399.png" alt="image-20240323191347399" style="zoom:50%;">
<p>ä¸è¿‡è™½ç„¶çš„è¿™é‡Œæ›²é¢åäº†ï¼Œä½†æ˜¯æ¢¯åº¦ä»ç„¶æ˜¯æŒ‡å‘ä¸Šå‡æœ€å¿«çš„æ–¹å‘ã€‚æ‰€ä»¥åœ¨å…·ä½“æ“ä½œçš„æ—¶å€™ï¼Œä¼šå¯¹æ¢¯åº¦å…ˆæ±‚åï¼Œè¿™æ ·æ¢¯åº¦å°±ä¼šæŒ‡å‘ä¸‹é™æœ€å¿«çš„æ–¹å‘ã€‚è¿™å°±æ˜¯è¿™ä¸ªç®—æ³•  <code>æ¢¯åº¦ä¸‹é™æ³•</code>çš„ç”±æ¥ï¼Œä¸è¿‡å…¶æœ¬è´¨ä»ç„¶ç›¸åŒã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323191619191.png" alt="image-20240323191619191" style="zoom:50%;">
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ¢¯åº¦ä¸‹é™æ³•åœ¨æ¨¡å‹ä¸­çš„åº”ç”¨">æ¢¯åº¦ä¸‹é™æ³•åœ¨æ¨¡å‹ä¸­çš„åº”ç”¨<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D%E6%B3%95%E5%9C%A8%E6%A8%A1%E5%9E%8B%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8" class="hash-link" aria-label="æ¢¯åº¦ä¸‹é™æ³•åœ¨æ¨¡å‹ä¸­çš„åº”ç”¨çš„ç›´æ¥é“¾æ¥" title="æ¢¯åº¦ä¸‹é™æ³•åœ¨æ¨¡å‹ä¸­çš„åº”ç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ¢¯åº¦æ€»æ˜¯æŒ‡å‘ä¸Šå‡æœ€å¿«çš„æ–¹å‘ï¼Œå³æ€»æ˜¯å’Œç­‰é«˜çº¿å‚ç›´ã€‚æ¢¯åº¦æœ¬èº«æ˜¯ä¸€ä¸ªå‘é‡ï¼Œæ‰€ä»¥å°±ä»£è¡¨äº†ä»–åœ¨æ‰€æœ‰å‚æ•°ç»´åº¦ä¸Šéƒ½æœ‰åˆ†é‡ã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323191828250.png" alt="image-20240323191828250" style="zoom:50%;">
<p>å¦‚æœæ‰€æœ‰çš„å‚æ•°éƒ½æŒ‰ç…§æ¢¯åº¦çš„åˆ†é‡è¿›è¡Œè°ƒæ•´ï¼Œè¿™æ ·å°±ä»£è¡¨å‚æ•° W åšå‡ºäº†å½“å‰æƒ…å†µä¸‹æœ€å¥½çš„é€‰æ‹©ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1\\w_2 \\ \cdots</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\pm</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\Delta{w_1}\\\Delta{w_2} \\ \cdots</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸€æ¬¡æ¬¡æ…¢æ…¢ç§»åŠ¨ï¼Œæ€»ä¼šæ¥è¿‘å…¶çº§å€¼ç‚¹ã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323191930106.png" alt="image-20240323191930106" style="zoom:50%;">
<p>å³ä¾¿åœ¨è¿™æ ·çš„åœºæ™¯ä¸‹ï¼Œä»ç„¶å­˜åœ¨é—®é¢˜ï¼Œæ¢¯åº¦åªæ˜¯æŒ‡å‘äº†ä¸Šå‡æœ€å¿«çš„æ–¹å‘ï¼Œè€Œæ²¡æœ‰æŒ‡å‡ºå…¶ä¸Šå‡æ—¶æ¯ä¸€æ­¥çš„æ­¥é•¿ã€‚</p>
<p>æ­¥é•¿åœ¨æ¢¯åº¦ä¸‹é™æ³•ä¸­é€šå¸¸ç”¨ Î· æ¥è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯é€šå¸¸æ‰€è¯´çš„å­¦ä¹ ç‡äº†ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1\\w_2 \\ \cdots \\ \cdots</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\pm</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\eta Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\Delta{w_1}\\\Delta{w_2} \\ \cdots \\ \cdots</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å®ƒæ˜¯ä¸€ä¸ªè¶…å‚æ•°ï¼Œä¸èƒ½ç”±ç¥ç»ç½‘ç»œå­¦ä¹ å¾—åˆ°ï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œé…ç½®ã€‚</p>
<blockquote>
<p>Î· è¿‡å¤§å°±ä¼šå¾ˆå¿«æ¥è¿‘æå€¼ç‚¹ï¼Œä½†æ˜¯ä¼šé€ æˆåå¤æ¨ªè·³ï¼Œæ— æ³•æ”¶æ•›çš„ç»“æœã€‚</p>
<p>Î· è¿‡å°ï¼Œæ•´ä½“è·¯å¾„æœ€ä¼˜ï¼Œç§»åŠ¨ç›¸åŒæ¬¡æ•°ï¼Œç§»åŠ¨è·ç¦»ä¼šæ¯”è¾ƒçŸ­ã€‚</p>
<p>ç°åœ¨å·²ç»æœ‰äº†å¾ˆå¤šæ¢¯åº¦ä¸‹é™çš„è¿›é˜¶æ–¹æ¡ˆã€‚</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="ç®—æ³•å®è·µ">ç®—æ³•å®è·µ<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E7%AE%97%E6%B3%95%E5%AE%9E%E8%B7%B5" class="hash-link" aria-label="ç®—æ³•å®è·µçš„ç›´æ¥é“¾æ¥" title="ç®—æ³•å®è·µçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»ç†è§£äº†å…¶æ€è·¯ï¼Œå¦‚ä½•æ±‚å‡ºæ¢¯åº¦ï¼Ÿå°±æ˜¯å¦‚ä½•æ±‚å‡ºåˆ†é‡çš„å…·ä½“å€¼ã€‚å¦‚æœéå¸¸ç¬¼ç»Ÿçš„çœ‹å¾…ï¼šæ±‚æ¢¯åº¦çš„ç­”æ¡ˆä¸ºå¯¹å‡½æ•°æ±‚åå¯¼ã€‚æ¯ä¸€ä¸ªå˜é‡çš„ç»´åº¦éƒ½è¦æ±‚åå¯¼ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">w_1\\w_2 \\ \cdots \\ \cdots</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\pm</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\eta Â·</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\frac{\partial{f}}{\partial{w_1}}\\\frac{\partial{f}}{\partial{w_2}}\\ \cdots \\ \cdots</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸Šè¿°ä¸­çš„æ¢¯åº¦ä¹Ÿå¯ä»¥ç”¨ âˆ‡f è¡¨ç¤ºï¼Œè¯»ä½œ nablafã€‚</p>
<p>æ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯å…·ä½“å¦‚ä½•æ±‚å‡ºåå¯¼ã€‚å¦‚æœæˆ‘ä»¬æŠŠç¥ç»ç½‘ç»œæ•´ä½“çœ‹ä½œæ˜¯ä¸€ä¸ªé»‘ç›’ã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323193708237.png" alt="image-20240323193708237" style="zoom:50%;">
<blockquote>
<p>è¾“å…¥å±‚æ˜¯ X ä¸åŒçš„ç³»æ•° W å¯¹åº”ä¸åŒçš„ Y å€¼ã€‚w å…¨éƒ¨åœ¨é»‘ç›’ä¸­ã€‚</p>
</blockquote>
<p>æ‰€è°“çš„æ¢¯åº¦ä¸‹é™ä¾¿æ˜¯ï¼šå°†è®¡ç®—å‡ºæ¥çš„æ¢¯åº¦åå‘ä¼ æ’­åˆ°ç¥ç»ç½‘ç»œä¸­ï¼Œè®©æ‰€æœ‰çš„ W è¿›è¡Œä¿®æ”¹ã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323193835793.png" alt="image-20240323193835793" style="zoom:50%;">
<p>å¯¹äºç¥ç»ç½‘ç»œéº»çƒ¦çš„ä¸€ç‚¹æ˜¯ï¼šä¸åŒçš„ W ä¹‹é—´æ˜¯å­˜åœ¨ä¾èµ–å…³ç³»çš„ï¼Œä¸æ˜¯å•ç‹¬å­˜åœ¨ã€‚è¿™ä¸ªä¾èµ–å…³ç³»å°±æ˜¯ç¥ç»ç½‘ç»œçš„ç»“æ„å›¾ã€‚å› æ­¤è¦æƒ³è®¡ç®—å‡ºæ¯ä¸ªç³»æ•°å¯¹åº”æ¢¯åº¦çš„åˆ†é‡è¿˜éœ€è¦å°†é»‘ç›’æ‹†å¼€æ‰è¡Œã€‚é‚£ä¹ˆï¼Œè¿™ä¸ªé»‘ç›’é‡Œé¢åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>å…¶æœ¬è´¨å°±æ˜¯å¦‚ä¸‹å›¾ä¸­çš„ä¸‰è¡Œè¡¨è¾¾å¼ï¼š</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323194153127.png" alt="image-20240323194153127" style="zoom:50%;">
<p>è¿™é‡Œçš„è¡¨è¾¾å¼éƒ½æ˜¯åœ¨è¿›è¡Œå‘é‡è®¡ç®—ï¼Œæ‰€ä»¥ä¸ºäº†åé¢çš„è¡¨è¾¾æ–¹ä¾¿ï¼Œå°†å…¶ä½¿ç”¨ä¸‹é¢çš„å½¢å¼è¡¨ç¤ºï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ReLU(XÂ·W^{[1]}) = A^{[1]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f_k^{[1]}(W^{[k]}_1) = a^{[1]}_k</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ReLU(A^{[1]}Â·W^{[2]}) = A^{[2]}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f_j^{[2]}(A^{1},W^{[2]}_j) = a^{[2]}_j</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">softmax(A^{2},W^{[3]})</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">f_i^{[3]}(A^{2},W^{[3]}_i) = a^{[3]}_i</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å…¶ä¸­ i,j,k åˆ†åˆ«å¯¹åº”è¿™ä¸€å±‚ä¸åŒçš„ç¥ç»å…ƒã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥åˆ†ææœ€ä¸‹é¢è¿™ä¸€ä¸ªè¡¨è¾¾å¼ï¼šå®ƒè¡¨ç¤ºçš„æ˜¯æŸä¸€ä¸ªèŠ‚ç‚¹ä¸Šè¦å®Œæˆçš„è®¡ç®—ã€‚</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323194928901.png" alt="image-20240323194928901" style="zoom:50%;">
<p>å®ƒçš„æ¢¯åº¦ç­‰äºï¼šå¯¹æ‰€æœ‰å˜é‡çš„ç»´åº¦æ±‚åå¯¼ã€‚</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\nabla{f_i^{3}} = </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\left[</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\begin{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\frac{\partial{f^{[3]}_i}}{\partial{w^{[3]}_{i,1}}}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\frac{\partial{f^{[3]}_i}}{\partial{w^{[3]}_{i,2}}}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\ \cdots</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\frac{\partial{f^{[3]}_i}}{\partial{a^{[3]}_{1}}}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\frac{\partial{f^{[3]}_i}}{\partial{a^{[3]}_{2}}}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\\</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\cdots</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\end{matrix}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">\right]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™é‡ŒåŒæ—¶ä¹Ÿè¦å¯¹ A æ±‚åå¯¼ï¼Œå› ä¸º A ä¹Ÿæ˜¯ä¸€ä¸ªå½“å‰èŠ‚ç‚¹çš„è¾“å…¥æ•°æ®ï¼Œå…³ç³»å¦‚ä¸‹ï¼š</p>
<img src="https://yuluo-yx.github.io/img/machine_learning/image-20240323195607817.png" alt="image-20240323195607817" style="zoom:50%;">
<p>æˆ‘ä»¬åœ¨è€ƒè™‘ä¹‹å‰ä¸€ä¸ªç¥ç»å…ƒçš„å‚æ•°æ±‚å¯¼æ—¶ï¼Œéœ€è¦ç»“åˆå‰é¢ä¸€å±‚ç¥ç»å…ƒçš„å½±å“ï¼Œå³ J å±‚çš„ a ç³»æ•°çš„åå¯¼è¡¨è¾¾å¼ä¸ºï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">W_j^{[2]} \pm \eta^2Â·\frac{\partial{f_j^{[2]}}}{\partial{W_j^{[2]}}}\sum_{i=1}^4\frac{\partial{f_i^{[3]}}}{\partial{f_j^{[2]}}}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>K å±‚çš„åå¯¼ç³»æ•°çš„è¡¨è¾¾å¼ä¸ºï¼š</p>
<div class="language-latex codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-latex codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">W_k^{[1]} \pm \eta^3\sum_{j=1}^7\sum_{i=1}^4\frac{\partial{f_k^{[1]}}}{\partial{W_k^{[1]}}}\frac{\partial{f_j^{[2]}}}{\partial{f_k^{[1]}}}\frac{\partial{f_i^{[3]}}}{\partial{f_j^{[2]}}}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœåå‘ä¼ æ’­çš„æ¬¡æ•°è¶Šå¤šï¼Œé‚£ä¹ˆå­¦ä¹ ç‡çš„æ¬¡æ•°å°±è¶Šé«˜ã€‚æˆ‘ä»¬çŸ¥é“å­¦ä¹ ç‡å¾€å¾€æ˜¯å°äº 1 çš„ï¼Œé‚£ä¹ˆç»è¿‡æ¬¡æ–¹è¿ç®—ä¹‹åå†å’Œæ¢¯åº¦ç›¸ä¹˜ï¼Œå°±ä¸ä¼šå¯¹å‚æ•°åšå‡ºå¤šå°‘è°ƒæ•´ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ç»å¸¸è¯´çš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ€»ç»“">æ€»ç»“<a href="https://yuluo-yx.github.io/blog/deep-learn-init#%E6%80%BB%E7%BB%93" class="hash-link" aria-label="æ€»ç»“çš„ç›´æ¥é“¾æ¥" title="æ€»ç»“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åˆ°è¿™é‡Œä¸ºæ­¢ï¼Œå°±æè¿°å®Œäº†ç¥ç»ç½‘ç»œé‡Œçš„æ¨¡å‹ï¼Œç®—æ³•å’Œç­–ç•¥ã€‚</p>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="AI" term="AI"/>
        <category label="machine learning" term="machine learning"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[éšç¬” 2024/11/24]]></title>
        <id>https://yuluo-yx.github.io/blog/write-somethings</id>
        <link href="https://yuluo-yx.github.io/blog/write-somethings"/>
        <updated>2024-11-24T18:28:38.000Z</updated>
        <summary type="html"><![CDATA[&emsp;&emsp;ä»Šå¤©æ˜¯ 24 å¹´ 11 æœˆ 24 å·ï¼Œæ˜ŸæœŸæ—¥ï¼Œåˆšä»æ­å·æ¥åˆ°éƒ‘å·ä¸ä¹…ã€‚æƒ³æ¥æƒ³å»åº”è¯¥å†™ç‚¹ä»€ä¹ˆï¼Œç®—æ˜¯ç»å†äº†ä¸€æ®µå¤§èµ·å¤§è½ã€‚]]></summary>
        <content type="html"><![CDATA[<p>â€ƒâ€ƒä»Šå¤©æ˜¯ 24 å¹´ 11 æœˆ 24 å·ï¼Œæ˜ŸæœŸæ—¥ï¼Œåˆšä»æ­å·æ¥åˆ°éƒ‘å·ä¸ä¹…ã€‚æƒ³æ¥æƒ³å»åº”è¯¥å†™ç‚¹ä»€ä¹ˆï¼Œç®—æ˜¯ç»å†äº†ä¸€æ®µå¤§èµ·å¤§è½ã€‚</p>
<p>â€ƒâ€ƒæ¥åˆ°éƒ‘å·ä¹‹åè§è¯†åˆ°äº†è®¸å¤šä¸œè¥¿ï¼Œä¸åŒäºè€å®¶å’Œæ­å·ã€‚éƒ‘å·ç»™äººçš„æ„Ÿè§‰æ›´æœ‰çƒŸç«æ°”ï¼Œæ²¡æœ‰æ­å·çš„å±€ä¿ƒæ„Ÿã€‚ç»™äººçš„æ„Ÿè§‰æ˜¯ä¸€ç§æ…¢èŠ‚å¥çš„ç”Ÿæ´»æ°”æ¯ã€‚æˆ‘ä½çš„åœ°æ–¹åœ¨ä¸€ä¸ªæ—§å°åŒºï¼Œè™½ç„¶ä¸å¦‚å½“åˆåœ¨æ­å·ä½çš„å°åŒºé«˜æ¡£äº›ï¼Œä½†æ˜¯ä¹Ÿåˆ«å…·ä¸€æ ¼ï¼Œåœ¨è·¯ä¸Šè¿˜èƒ½çœ‹åˆ°å°æ—¶å€™åœ¨è€å®¶è§åˆ°çš„æ‰‹æ‰¶æ‹–æ‹‰æœºï¼Œå°åŒºé—¨å£æœ‰å¾ˆå¤šå°å•†è´©ï¼Œä¹°èœçš„ï¼Œä¹°æ°´æœçš„ï¼Œç‰¹åˆ«æ˜¯åˆ°äº†æ™šä¸Šï¼Œæœ‰å¾ˆå¤šè·¯è¾¹æ‘Šã€‚ç»™äººä¸€ç§åœ¨æ­å·äº”å¸¸å¤œå¸‚çš„æ„Ÿè§‰ã€‚å‘³é“å’Œäº”å¸¸å¤œå¸‚å·®ä¸å¤šï¼Œä½†æ˜¯ä»·æ ¼æ¯”äº”å¸¸ä½ä¸€æ¡£ã€‚</p>
<p>â€ƒâ€ƒæ¯å¤©è¿‡ç€æ—¥å‡ºè€Œä½œï¼Œæ—¥è½è€Œæ¯çš„ç”Ÿæ´»ã€‚æˆ¿å­åˆ°å…¬å¸ï¼Œå…¬äº¤è½¦ç›´è¾¾ã€‚ç»å¸¸åœ¨æƒ³ï¼Œæˆ‘ä¹Ÿç®—æ˜¯å¹¸è¿å„¿ï¼Œåœ¨ 24 å¹´å¤§èƒŒæ™¯ä¸å¥½çš„æƒ…å†µä¸‹ï¼Œåœ¨ä¸€ä¸ªè¿˜ä¸é”™çš„åŸå¸‚æ‰¾åˆ°äº†ä¸€ä¸ªæ»¡æ„çš„å·¥ä½œï¼Œåªæ˜¯ç›®å‰è¿˜æ²¡å‘å·¥èµ„ã€‚</p>
<p>â€ƒâ€ƒæ¯å¤©ä¸‹ç­ä¹‹åï¼Œæˆ´ç€è€³æœºï¼Œåç€å…¬äº¤è½¦ï¼Œçœ‹ç€ä¸Šè½¦ä¸‹è½¦çš„ï¼Œè·¯æ—æ¥æ¥å¾€å¾€çš„äººï¼Œä¹Ÿåˆ«æœ‰ä¸€ç•ªæ»‹å‘³åœ¨å¿ƒå¤´ã€‚å›åˆ°æˆ¿å­é‡Œï¼Œçœ‹ç€å¼€æºç¤¾åŒºç¾¤é‡Œçš„èŠå¤©ä¿¡æ¯ï¼Œè‡ªå·±åœ¨å¼€æºç¾¤é‡Œçš„å‘è¨€ï¼Œä¸åŒäººåœ¨ç¾¤é‡Œæ€ç»´çš„ç¢°æ’ã€‚ä¸€å¤©è¿‡çš„ç®€å•å……å®åˆå¹³æ·¡ã€‚</p>
<p>â€ƒâ€ƒç‰¹æœ‰ç¼˜åˆ†çš„ä¸€ä»¶äº‹æ˜¯ ç«Ÿç„¶æœ‰ä¸€ä¸ªå’Œæˆ‘åœ¨åŒä¸€ç«™å…¬äº¤ä¸Šè½¦åˆåŒä¸€ç«™ä¸‹è½¦çš„å¥³ç”Ÿï¼Œä¹Ÿç®—æŒºæœ‰ç¼˜åˆ†ã€‚</p>
<p>â€ƒâ€ƒå‘¨æœ«åŒä¼‘ï¼Œå¯èƒ½æ˜¯åœ¨æ­å·ä¸æ•¢å¥¢æœ›çš„äº‹æƒ…ï¼Œåœ¨æ­å·ä¸Šç­ï¼Œç»™äººçš„æ„Ÿè§‰æ˜¯ åŒä¼‘æ˜¯çŠ¯æ³•çš„ï¼Œä¸Šç­æ—¶é—´ä»¥å•ä¼‘å±…å¤šï¼Œå¶è§å¤§å°å‘¨ã€‚å‘¨æœ«ä¸¤å¤©ï¼Œä¸€å¤©èººå¹³ä¹±é€›ï¼Œä¸€å¤©æŠ•èº«äºå¼€æºå’Œå…´è¶£çˆ±å¥½ã€‚åˆæ¥ä¹åˆ°ï¼Œæ¯ä¸ªåœ°æ–¹éƒ½æœ‰è‡ªå·±éƒ½æœ‰çš„ç‰¹ç‚¹ï¼Œä¸å»é€›é€›ï¼Œç®—æ˜¯ç™½æ¥ä¸€è¶Ÿäº†ï¼</p>
<p>â€ƒâ€ƒæœ‰æ—¶å€™èººåœ¨åºŠä¸Šï¼Œæƒ³ç€è¿™æ ·è¿‡ç€æ¸ºå°åˆé‡å¤çš„æ—¥å­ä¹ŸæŒºå¥½çš„ã€‚ä¸å¦‚æœ‹å‹åœˆè§åˆ°çš„ç²¾è‡´ï¼Œä½†æ˜¯ç®€ç®€å•å•ä¹Ÿä¸ä¹å‘³ã€‚</p>
<p>â€ƒâ€ƒäºæ­¤è€Œæ¥çš„å¦ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘åˆ°åº•åº”è¯¥è¿‡æ€æ ·çš„äººç”Ÿï¼Ÿä¹‹å‰åˆ·è§†é¢‘åˆ·åˆ°è¿‡å¤§å†°è€å¸ˆçš„ç›´æ’­è§†é¢‘ï¼Œä»ä¸­ä¹Ÿé¢†æ‚Ÿåˆ°äº†ä¸€äº›ã€‚è®ºè¯­ä¸­è¯´ï¼ŒäºŒåè€Œå† ï¼Œä¸‰åè€Œç«‹ã€‚å››åè€Œä¸æƒ‘ã€‚æ­¤æ—¶æ­£ç›´å¼±å† ä¹‹å¹´ï¼Œæ‰€æœ‰çš„ä¸€åˆ‡éƒ½åˆšåˆšå¼€å§‹ã€‚</p>
<p>â€ƒâ€ƒæˆ‘è§‰å¾—äººç”Ÿä¸èƒ½è¢«è¿‡æ—©å®šä¹‰ï¼Œä¹Ÿä¸åº”è¯¥è¢«è¿‡æ—©å®šä¹‰ï¼Œé‡‘æ— è¶³èµ¤äººæ— å®Œäººã€‚</p>
<hr>
<p>â€ƒâ€ƒæœ€åï¼Œé™„ä¸€å¼ äºä»Šå¤©ä¸‹åˆæ‹çš„ç…§ç‰‡ï¼Œå¸Œæœ›å¹´è¿‡åŠç™¾ï¼Œä¹Ÿèƒ½æœ‰è¿™æ ·çš„çŠ¶æ€ã€‚</p>
<p><img decoding="async" loading="lazy" alt="éƒ‘å·ä¸œå‘¨è·¯åœ°é“å£å¼¹é’¢ç´çš„è€äºº" src="https://yuluo-yx.github.io/assets/images/other2-dc53be7390bd89c6248314d3eb948c03.jpg" width="1702" height="1276" class="img_c29J"></p>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="éšç¬”" term="éšç¬”"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¾®ä¿¡å°ç¨‹åºæ¶ˆæ¯æ¨é€]]></title>
        <id>https://yuluo-yx.github.io/blog/wechatminiapp-msg-push</id>
        <link href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push"/>
        <updated>2024-10-10T22:41:01.000Z</updated>
        <summary type="html"><![CDATA[éœ€æ±‚èƒŒæ™¯]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="éœ€æ±‚èƒŒæ™¯">éœ€æ±‚èƒŒæ™¯<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E9%9C%80%E6%B1%82%E8%83%8C%E6%99%AF" class="hash-link" aria-label="éœ€æ±‚èƒŒæ™¯çš„ç›´æ¥é“¾æ¥" title="éœ€æ±‚èƒŒæ™¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ç®¡ç†å‘˜åœ¨åå°ç»™å°ç¨‹åºç”¨æˆ·æ¨é€ä¸€äº›æ¶ˆæ¯ï¼Œä¾‹å¦‚ç”¨æˆ·æ”¶è´¹é€šçŸ¥ï¼Œå·¥å•ç»´æŠ¤é€šçŸ¥ç­‰ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åŠŸèƒ½æµç¨‹å›¾">åŠŸèƒ½æµç¨‹å›¾<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E5%8A%9F%E8%83%BD%E6%B5%81%E7%A8%8B%E5%9B%BE" class="hash-link" aria-label="åŠŸèƒ½æµç¨‹å›¾çš„ç›´æ¥é“¾æ¥" title="åŠŸèƒ½æµç¨‹å›¾çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><img decoding="async" loading="lazy" alt="å¾®ä¿¡ç”¨æˆ·æ¶ˆæ¯æ¨é€æµç¨‹å›¾" src="https://yuluo-yx.github.io/assets/images/img6-73d9b6e549c958a2d307347a87eb8784.png" width="1106" height="586" class="img_c29J"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åŠŸèƒ½å®ç°">åŠŸèƒ½å®ç°<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0" class="hash-link" aria-label="åŠŸèƒ½å®ç°çš„ç›´æ¥é“¾æ¥" title="åŠŸèƒ½å®ç°çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å°ç¨‹åºé¡¹ç›®æ·»åŠ å¦‚ä¸‹ä»£ç å¼€å¯ç”¨æˆ·è®¢é˜…">å°ç¨‹åºé¡¹ç›®æ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œå¼€å¯ç”¨æˆ·è®¢é˜…<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0%E5%A6%82%E4%B8%8B%E4%BB%A3%E7%A0%81%E5%BC%80%E5%90%AF%E7%94%A8%E6%88%B7%E8%AE%A2%E9%98%85" class="hash-link" aria-label="å°ç¨‹åºé¡¹ç›®æ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œå¼€å¯ç”¨æˆ·è®¢é˜…çš„ç›´æ¥é“¾æ¥" title="å°ç¨‹åºé¡¹ç›®æ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œå¼€å¯ç”¨æˆ·è®¢é˜…çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>ç”¨æˆ·è®¢é˜…æ¶ˆæ¯æ–‡æ¡£ï¼š<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/subscribe-message.html" target="_blank" rel="noopener noreferrer">https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/subscribe-message.html</a></p>
</blockquote>
<p>åœ¨å°ç¨‹åºä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼Œå¼€å¯ç”¨æˆ·è®¢é˜…ï¼š</p>
<div class="language-tsx codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-tsx codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  uni</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">requestSubscribeMessage</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// æ¨¡æ¿æ¶ˆæ¯ id</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    tmplIds</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">'tmpId'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token function" style="color:hsl(221, 87%, 60%)">success</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token console class-name" style="color:hsl(35, 99%, 36%)">console</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">log</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token function" style="color:hsl(221, 87%, 60%)">fail</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token console class-name" style="color:hsl(35, 99%, 36%)">console</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">log</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<ol>
<li>å¾®ä¿¡å¼€å‘å·¥å…·æ˜¾ç¤ºç”¨æˆ·è®¢é˜…æ¶ˆæ¯å¼¹çª—å’ŒçœŸæœºè°ƒè¯•ä¸­ï¼Œæ˜¾ç¤ºå¾—å†…å®¹ä¸ä¸€æ ·ï¼Œæ³¨æ„ç”„åˆ«ã€‚</li>
<li>ç”¨æˆ·åœ¨è®¢é˜…æ¶ˆæ¯ä¹‹åï¼Œç‚¹å‡»ä¸‹é¢å¾—å¯¹å·å°±æ˜¯æ°¸ä¹…è®¢é˜…ï¼Œå¯ä»¥åœ¨å°ç¨‹åºè®¾ç½®ä¸­å…³é—­ã€‚ï¼ˆå®é™…è¿˜æ˜¯èµ°äº†è®¢é˜…ï¼Œä½†æ˜¯ç”¨æˆ·æ— æ„Ÿï¼‰</li>
<li>ç”¨æˆ·è®¢é˜…æ¶ˆæ¯ä¸€å®šè¦é€šè¿‡<strong>ç”¨æˆ·ç‚¹å‡»äº‹ä»¶æˆ–è€…æ”¯ä»˜å›è°ƒ</strong>è§¦å‘ï¼Œåœ¨ await ä¸­ä¸ç”Ÿæ•ˆã€‚</li>
<li><a href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/setting/wx.getSetting.html" target="_blank" rel="noopener noreferrer">wx.getSetting()</a> æ¥å£å¯è·å–ç”¨æˆ·å¯¹ç›¸å…³æ¨¡æ¿æ¶ˆæ¯çš„è®¢é˜…çŠ¶æ€ã€‚</li>
<li>åœ¨è§¦å‘ç”¨æˆ·è®¢é˜…æ¶ˆæ¯äº‹ä»¶ä¹‹åï¼Œå¾®ä¿¡æœåŠ¡å™¨ä¼šå‘é€éªŒè¯è¯·æ±‚åˆ°å¼€å‘è€…æœåŠ¡å™¨è¿›è¡Œä¿¡æ¯éªŒè¯ã€‚</li>
</ol>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åå°åŠŸèƒ½">åå°åŠŸèƒ½<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E5%90%8E%E5%8F%B0%E5%8A%9F%E8%83%BD" class="hash-link" aria-label="åå°åŠŸèƒ½çš„ç›´æ¥é“¾æ¥" title="åå°åŠŸèƒ½çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åŠŸèƒ½æè¿°">åŠŸèƒ½æè¿°<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E5%8A%9F%E8%83%BD%E6%8F%8F%E8%BF%B0" class="hash-link" aria-label="åŠŸèƒ½æè¿°çš„ç›´æ¥é“¾æ¥" title="åŠŸèƒ½æè¿°çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>åå°åŠŸèƒ½ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ä¸ªï¼š</p>
<ol>
<li>æ¥å—å¾®ä¿¡æœåŠ¡å™¨å¾—ç”¨æˆ·è®¢é˜…æ¶ˆæ¯éªŒè¯ï¼›</li>
<li>éªŒè¯é€šè¿‡åï¼Œæ¥å—å¾®ä¿¡æœåŠ¡å™¨å¾—ç”¨æˆ·è®¢é˜…æ¶ˆæ¯äº‹ä»¶ï¼›</li>
<li>å‘é€æ¶ˆæ¯ç»™æŒ‡å®š openId ç”¨æˆ·</li>
</ol>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="ä»£ç å®ç°">ä»£ç å®ç°<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0" class="hash-link" aria-label="ä»£ç å®ç°çš„ç›´æ¥é“¾æ¥" title="ä»£ç å®ç°çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<ol>
<li>
<p>å¾®ä¿¡æœåŠ¡å™¨æƒé™éªŒè¯</p>
<blockquote>
<p>å¾®ä¿¡æƒé™éªŒè¯ç­–ç•¥ï¼š</p>
<p>å°†è‡ªå®šä¹‰ token å’Œ timestampã€nonce æŒ‰ç…§å­—å…¸åºæ’åˆ—ï¼Œä¹‹å SHA1 åŠ å¯†å’Œ signature è¿›è¡Œå¯¹æ¯”ï¼Œç›¸åŒè¿”å› echostrã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">// controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">/**</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * å¾®ä¿¡æœåŠ¡å™¨é‰´æƒæ¥å£</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> *</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * @param signature ç­¾å</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * @param timestamp æ—¶é—´æˆ³</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * @param nonce     éšæœºæ•°</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * @param echostr   éšæœºå­—ç¬¦ä¸²</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * @return é‰´æƒé€šè¿‡è¿”å› echostr</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@GetMapping</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">value </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"/user"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">userAuth</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> signature</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> nonce</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> echostr</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> messageService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">auth</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">signature</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nonce</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> echostr</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// service</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">auth</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> signature</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> nonce</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> echostr</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    log</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">info</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"æ¥æ”¶åˆ°çš„å‚æ•°ï¼š{} {} {} {}"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> signature</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nonce</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> echostr</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"> arr </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain">wxConfigProperties</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getMsgToken</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> nonce</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Arrays</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">sort</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">arr</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StringBuilder</span><span class="token plain"> sb </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StringBuilder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> str </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> arr</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        sb</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">append</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">str</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> computedSignature </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">SHAUtil</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">sha1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">sb</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">toString</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    log</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">info</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"å¾®ä¿¡æœåŠ¡å™¨æ¥æ”¶åˆ°çš„ ç­¾åï¼š{}"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> signature</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    log</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">info</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"SHA1 è®¡ç®—å‡ºçš„ç­¾åï¼š{}"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> computedSignature</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">computedSignature</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">equals</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">signature</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> echostr</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">""</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>å¾®ä¿¡ç”¨æˆ·è®¢é˜…äº‹ä»¶æ¥å—æ¥å£</p>
<blockquote>
<p>ç”¨æˆ·äº‹ä»¶æ¥å£å¿…é¡»å’Œæƒé™éªŒè¯æ¥å£åŒåï¼Œå¾®ä¿¡æœåŠ¡å™¨ä¼šå‘é€ GET ç”¨äºéªŒè¯ï¼ŒPOST ç”¨äºå‘é€ç”¨æˆ·è®¢é˜…äº‹ä»¶æ¶ˆæ¯ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">// controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">/**</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">* å¾®ä¿¡æœåŠ¡å™¨å¤„ç†ç”¨æˆ·äº‹ä»¶æ¥å£</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@PostMapping</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">value </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"/user"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    messageService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">auth</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// service</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">/**</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * // æ¥å£è¿”å› JSON å’Œ XML è¿”å›ä½“å¯ä»¥åœ¨å¾®ä¿¡å°ç¨‹åºè‡ªå®šä¹‰è¿”å›æ ¼å¼ã€‚</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * "ToUserName":"gh_ea84a199bf81",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * "FromUserName":"oG0NJ5Oi_3Dd1HlZJ14xfnA0sJ6s",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * "CreateTime":1686131943,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * "MsgType":"event",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * "Event":"subscribe_msg_popup_event",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * "List":{</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * "PopupScene":"0",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * "SubscribeStatusString":"accept",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * "TemplateId":"4ondVRxk4L20ihrJ3iI15BDK72XatGPxE0MeCVwHasQ"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * // é€‰æ‹©æ˜æ–‡åŠ å¯†å…¼å®¹æ¨¡å¼æ—¶ï¼Œè¿˜ä¼šè¿”å›åŠ å¯†å†…å®¹ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HttpServletRequest</span><span class="token plain"> request</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">BufferedReader</span><span class="token plain"> reader </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">BufferedReader</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">InputStreamReader</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">request</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getInputStream</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StringBuilder</span><span class="token plain"> requestContent </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StringBuilder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> line</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">line </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> reader</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">readLine</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            requestContent</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">append</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">line</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        reader</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">close</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StringUtils</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">hasText</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">requestContent</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">toString</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ServiceException</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"å¾®ä¿¡æœåŠ¡å™¨å“åº”å¤±è´¥ï¼"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        log</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">info</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"å¾®ä¿¡æœåŠ¡å™¨å“åº”ï¼š{}"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> requestContent</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JsonNode</span><span class="token plain"> jsonNode </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JsonUtils</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">fromJson</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">requestContent</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">toString</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">TypeReference</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// è§£æä¸º JSONNode</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> toUserName </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> jsonNode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">get</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"ToUserName"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">asText</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> fromUserName </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> jsonNode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">get</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"FromUserName"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">asText</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">long</span><span class="token plain"> createTime </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> jsonNode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">get</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"CreateTime"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">asLong</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> msgType </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> jsonNode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">get</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"MsgType"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">asText</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> event </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> jsonNode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">get</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"Event"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">asText</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JsonNode</span><span class="token plain"> listNode </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> jsonNode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">get</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"List"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> subscribeStatus </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> listNode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">get</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"SubscribeStatusString"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">asText</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> templateId </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> listNode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">get</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"TemplateId"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">asText</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// éœ€è¦ä¿å­˜çš„ç”¨æˆ·è®¢é˜…æ¶ˆæ¯å®ä½“ä¿¡æ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatMsg</span><span class="token plain"> dbWeChatMsg </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">this</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">weChatMsgMapper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">selectOneByQuery</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">QueryWrapper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">eq</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatMsg</span><span class="token operator" style="color:hsl(221, 87%, 60%)">::</span><span class="token function" style="color:hsl(221, 87%, 60%)">getFromUserName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> fromUserName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å¦‚æœå·²ç»å­˜åœ¨ï¼Œåˆ™æ›´æ–°è¦†ç›–å­—æ®µå³å¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Objects</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">nonNull</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">dbWeChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            dbWeChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setSubscribeStatus</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">subscribeStatus</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            dbWeChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setTmplId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">templateId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            dbWeChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setToUserName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">toUserName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">this</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">weChatMsgMapper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">update</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">dbWeChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// æ²¡æœ‰åˆ™æ’å…¥æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatMsg</span><span class="token plain"> weChatMsg </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            weChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">SnowFlakeIdGenerator</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">generateId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            weChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setToUserName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">toUserName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            weChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setFromUserName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">fromUserName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            weChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setCreateTime</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">valueOf</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">createTime</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            weChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setMsgType</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">msgType</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            weChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setEvent</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            weChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setTmplId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">templateId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            weChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setSubscribeStatus</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">subscribeStatus</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">this</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">weChatMsgMapper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">insert</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">weChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">IOException</span><span class="token plain"> e</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ServiceException</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"æ¥å—å¾®ä¿¡æœåŠ¡å™¨è®¢é˜…æ¶ˆæ¯å¼‚å¸¸ï¼šerr: "</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> e</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getMessage</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>å®ä½“</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Table</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">value </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"tbl_wechat_sub"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatMsg</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Long</span><span class="token plain"> id</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> toUserName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> fromUserName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> createTime</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> msgType</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> event</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> subscribeStatus</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> tmplId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<p>è‡³æ­¤ï¼Œå¾®ä¿¡å°ç¨‹åºæœåŠ¡å™¨çš„äº¤äº’åŠŸèƒ½å°±å®Œæˆäº†ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¾®ä¿¡å°ç¨‹åºæ¶ˆæ¯å¼€é€šå’Œå‘é€æ¶ˆæ¯">å¾®ä¿¡å°ç¨‹åºæ¶ˆæ¯å¼€é€šå’Œå‘é€æ¶ˆæ¯<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%B6%88%E6%81%AF%E5%BC%80%E9%80%9A%E5%92%8C%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF" class="hash-link" aria-label="å¾®ä¿¡å°ç¨‹åºæ¶ˆæ¯å¼€é€šå’Œå‘é€æ¶ˆæ¯çš„ç›´æ¥é“¾æ¥" title="å¾®ä¿¡å°ç¨‹åºæ¶ˆæ¯å¼€é€šå’Œå‘é€æ¶ˆæ¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ¶ˆæ¯å‘é€åå°åŠŸèƒ½å®ç°">æ¶ˆæ¯å‘é€åå°åŠŸèƒ½å®ç°<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E6%B6%88%E6%81%AF%E5%8F%91%E9%80%81%E5%90%8E%E5%8F%B0%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0" class="hash-link" aria-label="æ¶ˆæ¯å‘é€åå°åŠŸèƒ½å®ç°çš„ç›´æ¥é“¾æ¥" title="æ¶ˆæ¯å‘é€åå°åŠŸèƒ½å®ç°çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<ol>
<li>
<p>æ¶ˆæ¯å‘é€å™¨</p>
<blockquote>
<p>åå°å‘é€æ¶ˆæ¯æ—¶ï¼Œéœ€è¦è·å– accessTokenï¼Œä¸€èˆ¬2ä¸ªå°æ—¶åˆ·æ–°ä¸€æ¬¡ï¼Œéœ€è¦åŠ¨æ€è·å–ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Component</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatSubscribeMessageSender</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">static</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">final</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Logger</span><span class="token plain"> logger </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name namespace" style="color:hsl(35, 99%, 36%)">org</span><span class="token class-name namespace punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name namespace" style="color:hsl(35, 99%, 36%)">slf4j</span><span class="token class-name namespace punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">LoggerFactory</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getLogger</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatSubscribeMessageSender</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">sendSubscribeMessage</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> accessToken</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> openid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> templateId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> page</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> data</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> url </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GarageConstants</span><span class="token class-name punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatConstants</span><span class="token class-name punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MsgBaseUrl</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"?access_token="</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> accessToken</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">URL</span><span class="token plain"> apiUrl </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">URL</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HttpURLConnection</span><span class="token plain"> connection </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HttpURLConnection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> apiUrl</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">openConnection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            connection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setRequestMethod</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"POST"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            connection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setRequestProperty</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"Content-Type"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"application/json;charset=UTF-8"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            connection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setDoOutput</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// æ„å»ºè¯·æ±‚ä½“</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> body </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">buildRequestBody</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">openid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> templateId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> page</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">byte</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"> requestBodyBytes </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> body</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getBytes</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StandardCharsets</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token constant" style="color:hsl(35, 99%, 36%)">UTF_8</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å‘é€è¯·æ±‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            connection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getOutputStream</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">write</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">requestBodyBytes</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// è¯»å–å“åº”</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> responseCode </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> connection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getResponseCode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">BufferedReader</span><span class="token plain"> reader </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">BufferedReader</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">InputStreamReader</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">connection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getInputStream</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StringBuilder</span><span class="token plain"> response </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StringBuilder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> line</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">while</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">line </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> reader</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">readLine</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                response</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">append</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">line</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            reader</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">close</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">responseCode </span><span class="token operator" style="color:hsl(221, 87%, 60%)">==</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HttpURLConnection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token constant" style="color:hsl(35, 99%, 36%)">HTTP_OK</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// è¯·æ±‚æˆåŠŸå¤„ç†é€»è¾‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                logger</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">info</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"å‘é€è®¢é˜…æ¶ˆæ¯æˆåŠŸ. resp: {}"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> response</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// è¯·æ±‚å¤±è´¥å¤„ç†é€»è¾‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                logger</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">info</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"å‘é€è®¢é˜…æ¶ˆæ¯å¤±è´¥, å“åº”ï¼š{}"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> response</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            connection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">disconnect</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">IOException</span><span class="token plain"> e</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ServiceException</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"å¾®ä¿¡æ¶ˆæ¯æ¨é€å¤±è´¥ï¼err: "</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> e</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getMessage</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">/**</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">     * æ„å»ºè¯·æ±‚ä½“çš„JSONå­—ç¬¦ä¸²</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">buildRequestBody</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> openid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> templateId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> page</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> data</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">format</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token string" style="color:hsl(119, 34%, 47%)">"{\"touser\":\"%s\",\"template_id\":\"%s\",\"page\":\"%s\",\"data\":%s}"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                openid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> templateId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> page</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> data</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>å‘é€å¾®ä¿¡æ¶ˆæ¯</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatMsgHelper</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">static</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">final</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Logger</span><span class="token plain"> logger </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">LoggerFactory</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getLogger</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatMsgHelper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// æ¨é€æ¶ˆæ¯çš„æ—¶å€™éœ€è¦ accessTokenï¼Œè¿™é‡Œæ˜¯è·å–</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// token çš„æ–¹æ³•ï¼Œåœ¨å®é™…ç¯å¢ƒä¸­ï¼Œä¸€èˆ¬æ˜¯å®šæ—¶åˆ·æ–°ï¼Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ä¸¤ä¸ªå°æ—¶å†…æœ‰æ•ˆï¼Œè·å–accesstokenæ—¶éœ€è¦appidå’Œsecretä¿¡æ¯ï¼Œä¸€èˆ¬æ˜¯åå°å‚æ•°æˆ–å¸¸é‡è¿›è¡Œé…ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// è·å– accessToken çš„è¯·æ±‚æ¥å£</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">final</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">static</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GetAccessToken</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GarageConstants</span><span class="token class-name punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatConstants</span><span class="token class-name punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">TokenBaseUrl</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"&amp;appid={appid}&amp;secret={secret}"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">static</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">refreshAccessToken</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> appid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> secret</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">RestTemplate</span><span class="token plain"> restTemplate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StringUtils</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">hasText</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">appid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">||</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StringUtils</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">hasText</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">secret</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            logger</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">error</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"åˆ·æ–°å¾®ä¿¡ AccessToken æ—¶ï¼Œç¼ºå°‘ appid æˆ– secret å‚æ•°ï¼"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ServiceException</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"åˆ·æ–°å¾®ä¿¡ AccessToken æ—¶ï¼Œç¼ºå°‘ appid æˆ– secret å‚æ•°ï¼"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Map</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">Object</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> param </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HashMap</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        param</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"appid"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">appid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        param</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"secret"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">secret</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ResponseEntity</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">JSONObject</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> resp </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> restTemplate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getForEntity</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GetAccessToken</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JSONObject</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                param</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JSONObject</span><span class="token plain"> jsonObj </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> resp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getBody</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> accessToken </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">jsonObj </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            accessToken </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> jsonObj</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getStr</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"access_token"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> accessToken</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">static</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Map</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">Object</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">createDataItem</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> value</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Map</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">Object</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> item </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HashMap</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        item</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"value"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> item</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">/**</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">     * å‘é€å¾®ä¿¡å°ç¨‹åºæ¶ˆæ¯</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">     * @param configProperties å¾®ä¿¡é…ç½®å±æ€§</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">     * @param restTemplate restTemplate æ¨¡æ¿</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">     * @param openId ç”¨æˆ· openId</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">     * @param templateId æ¨¡æ¿ Id</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">     * @param page ç‚¹å‡»è·³è½¬çš„é¡µé¢è·¯å¾„</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">     * @param jsonData å‘é€çš„ json æ•°æ®</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">     * @param messageSender æ¶ˆæ¯å‘é€å™¨</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">static</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">send</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WXConfigProperties</span><span class="token plain"> configProperties</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">RestTemplate</span><span class="token plain"> restTemplate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> openId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> templateId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> page</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> jsonData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatSubscribeMessageSender</span><span class="token plain"> messageSender</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// åˆ·æ–° token</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> accessToken </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatMsgHelper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">refreshAccessToken</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                configProperties</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getAppId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                configProperties</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getAppSecret</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                restTemplate</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        messageSender</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">sendSubscribeMessage</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">accessToken</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> openId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> templateId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> page</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> jsonData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>åœ¨ä¸šåŠ¡é€»è¾‘ä¸­è°ƒç”¨</p>
<blockquote>
<p>ä¸€èˆ¬éœ€è¦è·å–é€šçŸ¥ç”¨æˆ·çš„ openIdï¼Œå»æ•°æ®åº“ä¸­æŸ¥è¯¢åˆ° templateIdï¼Œä¹‹åç»„è£…æ¶ˆæ¯ç„¶åå‘é€ç»™ç”¨æˆ·ã€‚</p>
</blockquote>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">// é…ç½®çš„ JSON æ•°æ®ä¿¡æ¯éœ€è¦çœ‹åé¢çš„ å¾®ä¿¡æ¨¡æ¿å‚æ•°ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JSONObject</span><span class="token plain"> messageData </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JSONObject</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">messageData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">set</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"thing8"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">createDataItem</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"æœåŠ¡å†…å®¹"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> projectInfoById</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">messageData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">set</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"thing5"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">createDataItem</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"å¤‡æ³¨"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> userNotify</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getText</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> jsonData </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> messageData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">toJSONString</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ç»„è£…å‘é€æ¶ˆæ¯éœ€è¦çš„å‚æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatMsgHelper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">send</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    configProperties</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    restTemplate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getOpenId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    weChatMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getTmplId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token string" style="color:hsl(119, 34%, 47%)">"pages/index"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    jsonData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    messageSender</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å°ç¨‹åºåå°é…ç½®">å°ç¨‹åºåå°é…ç½®<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%90%8E%E5%8F%B0%E9%85%8D%E7%BD%AE" class="hash-link" aria-label="å°ç¨‹åºåå°é…ç½®çš„ç›´æ¥é“¾æ¥" title="å°ç¨‹åºåå°é…ç½®çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<h5 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ¶ˆæ¯æ¨é€é…ç½®">æ¶ˆæ¯æ¨é€é…ç½®<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E6%B6%88%E6%81%AF%E6%8E%A8%E9%80%81%E9%85%8D%E7%BD%AE" class="hash-link" aria-label="æ¶ˆæ¯æ¨é€é…ç½®çš„ç›´æ¥é“¾æ¥" title="æ¶ˆæ¯æ¨é€é…ç½®çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<p>åœ¨å°ç¨‹åºåå° -&gt; ç®¡ç† -&gt; å¼€å‘ç®¡ç† -&gt; æ¶ˆæ¯æ¨é€ä¸­é…ç½®åå°æœåŠ¡å™¨åœ°å€åœ°å€ä¿¡æ¯ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šåœ¨é…ç½®æ—¶éœ€è¦å‘é€éªŒè¯åˆ°åå°æœåŠ¡å™¨éªŒè¯ï¼Œæ‰€ä»¥éœ€è¦éƒ¨ç½²åˆ°å…¬ç½‘å¯è®¿é—®å¾—ç¯å¢ƒä¸­æµ‹è¯•ã€‚</p>
</blockquote>
<p>å®Œæˆç›¸å…³é…ç½®å¦‚ä¸‹ï¼š</p>
<p><img decoding="async" loading="lazy" alt="å¾®ä¿¡æ¶ˆæ¯æ¨é€é…ç½®" src="https://yuluo-yx.github.io/assets/images/img3-f3ed982b34d412a323323c4153e9cde6.png" width="1361" height="514" class="img_c29J"></p>
<h5 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ¨¡æ¿æ¶ˆæ¯é…ç½®">æ¨¡æ¿æ¶ˆæ¯é…ç½®<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E6%A8%A1%E6%9D%BF%E6%B6%88%E6%81%AF%E9%85%8D%E7%BD%AE" class="hash-link" aria-label="æ¨¡æ¿æ¶ˆæ¯é…ç½®çš„ç›´æ¥é“¾æ¥" title="æ¨¡æ¿æ¶ˆæ¯é…ç½®çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<p>å°ç¨‹åºåå° -&gt; åŸºç¡€åŠŸèƒ½ -&gt; è®¢é˜…æ¶ˆæ¯  -&gt; åœ¨æˆ‘çš„æ¨¡æ¿ä¸­é€‰æ‹©æ¨¡æ¿é…ç½®ã€‚</p>
<p><img decoding="async" loading="lazy" alt="å¾®ä¿¡æ¶ˆæ¯æ¨¡æ¿é…ç½®" src="https://yuluo-yx.github.io/assets/images/img4-94412200e0973b30f71b1d8324a61a43.png" width="1410" height="572" class="img_c29J"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æµ‹è¯•">æµ‹è¯•<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E6%B5%8B%E8%AF%95" class="hash-link" aria-label="æµ‹è¯•çš„ç›´æ¥é“¾æ¥" title="æµ‹è¯•çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ‰‹åŠ¨ç¼–å†™-controller-æ¥å£">æ‰‹åŠ¨ç¼–å†™ controller æ¥å£<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E6%89%8B%E5%8A%A8%E7%BC%96%E5%86%99-controller-%E6%8E%A5%E5%8F%A3" class="hash-link" aria-label="æ‰‹åŠ¨ç¼–å†™ controller æ¥å£çš„ç›´æ¥é“¾æ¥" title="æ‰‹åŠ¨ç¼–å†™ controller æ¥å£çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">/**</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * æµ‹è¯•ä½¿ç”¨</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> * æ¨¡æ‹Ÿæ¶ˆæ¯æ¨é€ï¼Œå†™æ­»æ‰€æœ‰çš„å‚æ•°ä¿¡æ¯ï¼Œå®é™…ä¸­åº”è¯¥ä»æ•°æ®åº“ä¸­æŸ¥è¯¢åˆ°å·²ç»è®¢é˜…æ¶ˆæ¯çš„ç”¨æˆ·å‘é€æ¶ˆæ¯é€šçŸ¥ã€‚</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@GetMapping</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"/push"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">push</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> openid </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"ooaER7ctq6G_5CNrs0LE2vR2wCzk"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> templateId </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"3gMbhH_bFuZlXiaJffCqXlNoqKvJwz_zUSmr-z1jEyo"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> page </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"/pages/index"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JSONObject</span><span class="token plain"> messageData </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JSONObject</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    messageData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">set</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"thing1"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">createDataItem</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"å…¬å¸åç§°"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"æµ‹è¯•å…¬å¸"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    messageData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">set</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"thing4"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">createDataItem</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"åœ°å€"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"å¤©åº­"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    messageData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">set</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"name2"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">createDataItem</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"ç”¨æˆ·å§“å"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"æµ‹è¯•-ç‰§ç”Ÿ"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    messageData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">set</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"phone_number3"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">createDataItem</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"è”ç³»æ–¹å¼"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"18198086793"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    messageData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">set</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"thing19"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">createDataItem</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"æŠ¥ä¿®åŸå› "</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"æµ‹è¯•æ¶ˆæ¯æ¨é€"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> jsonData </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> messageData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">toJSONString</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatMsgHelper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">send</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">configProperties</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> restTemplate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> openid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> templateId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> page</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> jsonData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> messageSender</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å®é™…ä½¿ç”¨">å®é™…ä½¿ç”¨<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E5%AE%9E%E9%99%85%E4%BD%BF%E7%94%A8" class="hash-link" aria-label="å®é™…ä½¿ç”¨çš„ç›´æ¥é“¾æ¥" title="å®é™…ä½¿ç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å®é™…ä½¿ç”¨éœ€è¦åœ¨ä¸šåŠ¡ä»£ç é€»è¾‘ä¸­è°ƒç”¨ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ•ˆæœé¢„è§ˆ">æ•ˆæœé¢„è§ˆ<a href="https://yuluo-yx.github.io/blog/wechatminiapp-msg-push#%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88" class="hash-link" aria-label="æ•ˆæœé¢„è§ˆçš„ç›´æ¥é“¾æ¥" title="æ•ˆæœé¢„è§ˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å¾®ä¿¡å°ç¨‹åºæ¥æ”¶å¦‚ä¸‹ï¼š</p>
<p><img decoding="async" loading="lazy" alt="å¾®ä¿¡å°ç¨‹åºæ¥æ”¶" src="https://yuluo-yx.github.io/assets/images/img5-8e2d06ef425a4ed6ef4ec7687c0b76c2.png" width="1200" height="2652" class="img_c29J"></p>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="Unipp" term="Unipp"/>
        <category label="å¾®ä¿¡å°ç¨‹åº" term="å¾®ä¿¡å°ç¨‹åº"/>
        <category label="Vue3" term="Vue3"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¾®ä¿¡å°ç¨‹åºç™»å½•å’Œè·å–ä¿¡æ¯åŠŸèƒ½è®°å½•]]></title>
        <id>https://yuluo-yx.github.io/blog/wechatminiapp-login-get-use-info</id>
        <link href="https://yuluo-yx.github.io/blog/wechatminiapp-login-get-use-info"/>
        <updated>2024-10-07T21:10:15.000Z</updated>
        <summary type="html"><![CDATA[èƒŒæ™¯éœ€æ±‚]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="èƒŒæ™¯éœ€æ±‚">èƒŒæ™¯éœ€æ±‚<a href="https://yuluo-yx.github.io/blog/wechatminiapp-login-get-use-info#%E8%83%8C%E6%99%AF%E9%9C%80%E6%B1%82" class="hash-link" aria-label="èƒŒæ™¯éœ€æ±‚çš„ç›´æ¥é“¾æ¥" title="èƒŒæ™¯éœ€æ±‚çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å°ç¨‹åºç”¨æˆ·è¿›å…¥å°ç¨‹åºï¼Œåˆ¤æ–­ç”¨æˆ·æœªç™»å½•åˆ™è·³è½¬è‡³ç™»å½•çŠ¶æ€è¿›è¡Œç™»å½•æ“ä½œï¼Œç™»å½•æ—¶åå¦‚æœåå°æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œåˆ™è·³è½¬è‡³è·å–ä¿¡æ¯ä¿¡æ¯é¡µé¢è·å–ä¹‹åå†è¿›è¡Œç™»å½•ã€‚</p>
<p><img decoding="async" loading="lazy" alt="img" src="https://yuluo-yx.github.io/assets/images/a6dba8d0a0b07e688f3eb741121d1704-929b743adcc4b9c7635030405f09d7d1.jpeg" width="710" height="720" class="img_c29J"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å°ç¨‹åºå‰å°">å°ç¨‹åºå‰å°<a href="https://yuluo-yx.github.io/blog/wechatminiapp-login-get-use-info#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%89%8D%E5%8F%B0" class="hash-link" aria-label="å°ç¨‹åºå‰å°çš„ç›´æ¥é“¾æ¥" title="å°ç¨‹åºå‰å°çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>æ£€æµ‹ç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œæˆ‘å°†ç”¨æˆ·ä¿¡æ¯å­˜åˆ°äº† storage ä¸­ï¼Œä»¥æ­¤æ¥åˆ¤æ–­ï¼Œåœ¨ onMounted ä¸­è°ƒç”¨ï¼š</p>
<div class="language-ts codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-ts codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:hsl(221, 87%, 60%)">checkUserLogin</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">uni</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getStorageSync</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"user"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">===</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">""</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    uni</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">redirectTo</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> url</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'login'</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">console</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">log</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">uni</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getStorageSync</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"user"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœç”¨æˆ·æ²¡æœ‰ç™»å½•ï¼Œåˆ™è·³è½¬è‡³ç™»å½•é¡µé¢ã€‚ç™»å½•é¡µï¼š</p>
<div class="language-html codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-html codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">up-button</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">open-type</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">get</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">@click</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">userLogin()</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">primary</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">size</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">normal</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">shape</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">circle</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">text</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">ç™»å½•</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag" style="color:hsl(5, 74%, 59%)">               </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">:hairline</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">true</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">up-button</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// script</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">const userLogin = () =&gt; {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> // ä½¿ç”¨ uniapp çš„å¾®ä¿¡å°ç¨‹åºç™»å½•æ¥å£</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    uni.login({</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        "provider": "weixin",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        // å¾®ä¿¡ç™»å½•ä»…è¯·æ±‚æˆæƒè®¤è¯</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        "onlyAuthorize": true,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        success: function (event) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            const { code } = event</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            console.log("weixin code: ", code);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // æ ¹æ®é¡¹ç›®éœ€æ±‚ï¼Œè‡ªå®šä¹‰çš„ä¸šåŠ¡é€»è¾‘</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            if (uni.getStorageSync("dbFlag") &amp;&amp; uni.getStorageSync("userData")) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                const userData = uni.getStorageSync("userData")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                wxUserLogin({</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    code: code,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    phone: userData.phone,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    nickName: userData.nickName,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    avatar: userData.avatar</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                }).then((res: any) =&gt; {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    if (res.statusCode === 200) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                        if (res.data.code === ResponseCode.Success) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            // è®¾ç½®ç™»å½•æ€</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            currentUser.value = res.data.data</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            let user: UserAuth = {}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            user.token = currentUser.value.token</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            user.type = Number(currentUser.value.type)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            user.userId = currentUser.value.id</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            uni.removeStorageSync("user")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            uni.setStorageSync("user", JSON.stringify(user))</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            uni.removeStorageSync("userData")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            uni.removeStorageSync("dbFlag")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            uni.redirectTo({</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                url: "index"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                        } else {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            uni.showModal({</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                title: 'ç™»å½•å¤±è´¥',</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                content: "ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œé‡è¯•",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                success(res) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                    if (res.confirm) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                    } else if (res.cancel) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    } else {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                        uni.showModal({</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            title: 'ç™»å½•å¤±è´¥',</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            content: res.message,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            success(res) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                if (res.confirm) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                    // å†æ¬¡å°è¯•ç™»å½•</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                    userLogin()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                } else if (res.cancel) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                        })</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                })</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            } else {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                wxUserLogin({</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    code: code</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                }).then((res: any) =&gt; {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    if (res.statusCode === 200) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                        if (res.data.code === ResponseCode.Success) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            if (res.data.data.dbFlag == 1) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                // è¡¨æ˜å½“å‰ç™»å½•çš„ç”¨æˆ·åœ¨åå°æ•°æ®åº“ä¸­æ²¡æœ‰å¯¹åº”çš„ç”¨æˆ·æ˜µç§°</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                // ç­‰ä¿¡æ¯ï¼Œéœ€è¦è·å–ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                uni.setStorageSync("dbFlag", res.data.data.dbFlag)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                setUserInfo()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                console.log("åå°æ•°æ®åº“ä¸­æ²¡æœ‰ç”¨æˆ·ä¿¡æ¯ï¼Œè·³è½¬è‡³è·å–ç”¨æˆ·ä¿¡æ¯é¡µï¼");</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                return</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            // è®¾ç½®ç™»å½•æ€</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            currentUser.value = res.data.data</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            let user: UserAuth = {}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            user.token = currentUser.value.token</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            user.type = Number(currentUser.value.type)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            user.userId = currentUser.value.id</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            uni.removeStorageSync("user")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            uni.setStorageSync("user", JSON.stringify(user))</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            uni.redirectTo({</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                url: "index"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                        } else {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            uni.showModal({</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                title: 'ç™»å½•å¤±è´¥',</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                content: "ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œé‡è¯•",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                success(res) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                    if (res.confirm) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                        // å†æ¬¡å°è¯•ç™»å½•</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                        userLogin()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                    } else if (res.cancel) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            })</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    } else {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                        uni.showModal({</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            title: 'ç™»å½•å¤±è´¥',</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            content: res.message,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            success(res) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                if (res.confirm) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                    // å†æ¬¡å°è¯•ç™»å½•</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                    userLogin()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                } else if (res.cancel) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                                }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                            }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                        })</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                })</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        },</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        fail: function (err) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            console.log("å¾®ä¿¡ç™»å½•å¤±è´¥ï¼š", err);</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    })</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœåå°æ•°æ®åº“ä¸­æ²¡æœ‰ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯ï¼Œåˆ™è¿”å›çš„æ ‡å¿—ä½ä¸º 1 ï¼Œå°ç¨‹åºè·³è½¬åˆ°è·å–ç”¨æˆ·èº«ä»½ä¿¡æ¯çš„é¡µé¢ï¼Œè¿›è¡Œè·å–ï¼š</p>
<div class="language-ts codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-ts codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">// ç”¨æˆ·åœ¨ç™»å½•ä¹‹åï¼Œéœ€è¦è·å–ç”¨æˆ·çš„æ˜µç§°å’Œå¤´åƒä¿¡æ¯ç”¨äºå±•ç¤º</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:hsl(221, 87%, 60%)">setUserInfo</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    uni</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">redirectTo</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> url</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'getUserInfo'</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è·å–ç”¨æˆ·ä¿¡æ¯çš„ vue é¡µé¢ï¼š</p>
<div class="language-vue codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-vue codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">template</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">up-navbar</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">leftIconColor</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">#f5f5f5</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">:placeholder</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">true</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">:safeAreaInsetTop</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">true</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">title</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">è·å–ç”¨æˆ·å¤´åƒæ˜µç§°</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">:autoBack</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">true</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">up-navbar</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">up-toast</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">ref</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">uToastRef</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">up-toast</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">containar</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">index</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">avatarUrl</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">button</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">open-type</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">chooseAvatar</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">@chooseavatar</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">onChooseavatar</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">image</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">:src</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">avatarUrl</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">refreshIcon</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">image</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">button</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">userName</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">text</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">æ˜µç§°ï¼š</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">text</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">input</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">:clearable</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">false</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">nickname</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">weui-input</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">:value</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">userName</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">@blur</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">bindblur</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag" style="color:hsl(5, 74%, 59%)">                    </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">placeholder</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">è¯·é€‰æ‹©æˆ–è¾“å…¥æ˜µç§°</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">@input</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">bindinput</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">userPhone</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">text</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">æ‰‹æœºå·ï¼š</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">text</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">up-button</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">phone</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">success</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">open-type</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">getPhoneNumber</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag" style="color:hsl(5, 74%, 59%)">                    </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">@getphonenumber</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">getPhoneNumber</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">è·å–æ‰‹æœºå·</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">up-button</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">width</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">100</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">%</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">height</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">1</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">px</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">background</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css hexcode color" style="color:hsl(119, 34%, 47%)">#EEE</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">tips_1</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag special-attr attr-name" style="color:hsl(35, 99%, 36%)">style</span><span class="token tag special-attr attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">width</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">700</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">rpx</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">height</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">20</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">px</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">font-size</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">13</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">px</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">margin</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> auto</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css property" style="color:hsl(5, 74%, 59%)">margin-top</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token tag special-attr attr-value value css language-css" style="color:hsl(119, 34%, 47%)"> </span><span class="token tag special-attr attr-value value css language-css number" style="color:hsl(35, 99%, 36%)">40</span><span class="token tag special-attr attr-value value css language-css unit" style="color:hsl(119, 34%, 47%)">rpx</span><span class="token tag special-attr attr-value value css language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token tag special-attr attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            Â· ç”³è¯·è·å–ä»¥ä¸‹æƒé™</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">tips</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            Â· è·å¾—ä½ çš„ä¿¡æ¯ï¼ˆæ˜µç§°ã€å¤´åƒã€æ‰‹æœºå·ç­‰ï¼‰</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">br</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">up-button</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">@click</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">onSubmit</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">primary</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">ä¿å­˜</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">up-button</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">view</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">template</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">ts</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">setup</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:hsl(301, 63%, 40%)">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript imports punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript imports"> </span><span class="token script language-javascript imports maybe-class-name">ResponseCode</span><span class="token script language-javascript imports"> </span><span class="token script language-javascript imports punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:hsl(301, 63%, 40%)">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">"@/types"</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:hsl(301, 63%, 40%)">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript imports punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript imports"> getUserPhone </span><span class="token script language-javascript imports punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:hsl(301, 63%, 40%)">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">"../alova/service"</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:hsl(301, 63%, 40%)">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:hsl(35, 99%, 36%)">BASE_URL</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:hsl(301, 63%, 40%)">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'@/config'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> avatarUrl </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> ref</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token script language-javascript">any</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> userName </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> ref</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token script language-javascript">string</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">''</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> avatarPath </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> ref</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token script language-javascript">string</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">''</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> userPhone </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> ref</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token script language-javascript">string</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">''</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> uToastRef </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:hsl(221, 87%, 60%)">ref</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript keyword null nil" style="color:hsl(301, 63%, 40%)">null</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> list </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:hsl(221, 87%, 60%)">ref</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">type</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'success'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">position</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'top'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">icon</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">duration</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript number" style="color:hsl(35, 99%, 36%)">3000</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">message</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">"å°ç¨‹åºæ£€æµ‹åˆ°æ²¡æœ‰æ‚¨çš„ç”¨æˆ·ä¿¡æ¯ï¼Œè¯·ä¾æ¬¡ç‚¹å‡»ä¸‹æ–¹å¤´åƒå’Œæ˜µç§°ä»¥è·å–ï¼"</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript function" style="color:hsl(221, 87%, 60%)">onReady</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript function" style="color:hsl(221, 87%, 60%)">showToast</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript">list</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token script language-javascript number" style="color:hsl(35, 99%, 36%)">0</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// æ–¹æ³•</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript function-variable function" style="color:hsl(221, 87%, 60%)">showToast</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript parameter literal-property property" style="color:hsl(5, 74%, 59%)">params</span><span class="token script language-javascript parameter operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript parameter"> any</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    uToastRef</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">show</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript spread operator" style="color:hsl(221, 87%, 60%)">...</span><span class="token script language-javascript">params</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript function" style="color:hsl(221, 87%, 60%)">complete</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            params</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">url</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">&amp;&amp;</span><span class="token script language-javascript"> uni</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">navigateTo</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">url</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> params</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">url</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript function-variable function" style="color:hsl(221, 87%, 60%)">getPhoneNumber</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript parameter literal-property property" style="color:hsl(5, 74%, 59%)">e</span><span class="token script language-javascript parameter operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript parameter"> any</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript console class-name" style="color:hsl(35, 99%, 36%)">console</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">log</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">"å¾®ä¿¡è·å–ç”µè¯å·ç çš„ code: "</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"> e</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">detail</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">code</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    uni</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">login</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">provider</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'weixin'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript function-variable function" style="color:hsl(221, 87%, 60%)">success</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript parameter literal-property property" style="color:hsl(5, 74%, 59%)">_</span><span class="token script language-javascript parameter operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript parameter"> any</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// è°ƒç”¨åç«¯æ¥å£è·å–ç”¨æˆ·æ‰‹æœºå·ç </span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            </span><span class="token script language-javascript function" style="color:hsl(221, 87%, 60%)">getUserPhone</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"> </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">code</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> e</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">detail</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">code</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">then</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript parameter literal-property property" style="color:hsl(5, 74%, 59%)">res</span><span class="token script language-javascript parameter operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript parameter"> any</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                </span><span class="token script language-javascript keyword control-flow" style="color:hsl(301, 63%, 40%)">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript">res</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">data</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">code</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">===</span><span class="token script language-javascript"> </span><span class="token script language-javascript maybe-class-name">ResponseCode</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access maybe-class-name">Success</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                    </span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> data </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript known-class-name class-name" style="color:hsl(35, 99%, 36%)">JSON</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">parse</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript">res</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">data</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">data</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// console.log(data);</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                    userPhone</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> data</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">phone_info</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">phoneNumber</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">fail</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript parameter literal-property property" style="color:hsl(5, 74%, 59%)">err</span><span class="token script language-javascript parameter operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript parameter"> any</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            uni</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">showModal</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">title</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'é”™è¯¯'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">content</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'è·å–ç”¨æˆ·æ‰‹æœºå·å¤±è´¥ï¼Œ err: '</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token script language-javascript"> err</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                </span><span class="token script language-javascript function" style="color:hsl(221, 87%, 60%)">success</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript parameter">res</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                    </span><span class="token script language-javascript keyword control-flow" style="color:hsl(301, 63%, 40%)">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript">res</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">confirm</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:hsl(301, 63%, 40%)">else</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:hsl(301, 63%, 40%)">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript">res</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">cancel</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// æ‰‹åŠ¨èµ‹å€¼ï¼Œdev è·³è¿‡è·å–æ‰‹æœºå·</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// userPhone.value='18198086793'</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript function-variable function" style="color:hsl(221, 87%, 60%)">bindblur</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript parameter literal-property property" style="color:hsl(5, 74%, 59%)">e</span><span class="token script language-javascript parameter operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript parameter"> any</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    userName</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> e</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">detail</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript function-variable function" style="color:hsl(221, 87%, 60%)">bindinput</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript parameter literal-property property" style="color:hsl(5, 74%, 59%)">e</span><span class="token script language-javascript parameter operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript parameter"> any</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    userName</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> e</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">detail</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript function-variable function" style="color:hsl(221, 87%, 60%)">onChooseavatar</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript parameter literal-property property" style="color:hsl(5, 74%, 59%)">e</span><span class="token script language-javascript parameter operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript parameter"> any</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    avatarUrl</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> e</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">detail</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">avatarUrl</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript doc-comment comment" style="color:hsl(230, 4%, 64%)">/**</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript doc-comment comment" style="color:hsl(230, 4%, 64%)"> * ä¸Šä¼ å¤´åƒï¼Œè¿”å›å¤´åƒçš„è·¯å¾„ä¿¡æ¯</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript doc-comment comment" style="color:hsl(230, 4%, 64%)"> */</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript function-variable function" style="color:hsl(221, 87%, 60%)">onSubmit</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword control-flow" style="color:hsl(301, 63%, 40%)">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript">userName</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">==</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">''</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">||</span><span class="token script language-javascript"> userPhone</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">==</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">''</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">||</span><span class="token script language-javascript"> avatarUrl</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">==</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">''</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        uni</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">showModal</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">title</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'ä¸ªäººä¿¡æ¯æœªè®¾ç½®'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">content</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'è¯·ç‚¹å‡»ç›¸åº”é€‰é¡¹ä»¥è®¾ç½®'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword control-flow" style="color:hsl(301, 63%, 40%)">return</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// åœ¨å¾®ä¿¡å°ç¨‹åºå¼€å‘å·¥å…·å’ŒçœŸæœºè°ƒè¯•ä¸­ï¼Œä¸ä¼šå‡ºç°é—®é¢˜ã€‚å¦‚æœåœ¨ä½“éªŒç‰ˆä¸­ï¼Œéœ€è¦åœ¨å°ç¨‹åºåå°è®¾ç½®ä¸Šä¼ æ–‡ä»¶åŸŸåï¼Œä¸ç„¶æŠ¥é”™ï¼</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// åœ¨æäº¤ä¸­ï¼Œå°†ç”¨æˆ·çš„æ˜µç§°å’Œå¤´åƒä¿¡æ¯æäº¤åˆ°æ•°æ®åº“å­˜å‚¨</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// å…ˆä¸Šä¼ å›¾ç‰‡è·å¾— å›¾ç‰‡è·¯å¾„</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    uni</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">uploadFile</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">url</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript constant" style="color:hsl(35, 99%, 36%)">BASE_URL</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'upload/avatar'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">filePath</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> avatarUrl</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">name</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'file'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript function-variable function" style="color:hsl(221, 87%, 60%)">success</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript parameter">res</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            </span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token script language-javascript"> resp </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript known-class-name class-name" style="color:hsl(35, 99%, 36%)">JSON</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">parse</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript">res</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">data</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            avatarPath</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> resp</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">data</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// ä¿å­˜ç”¨æˆ·ä¿¡æ¯</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            </span><span class="token script language-javascript function" style="color:hsl(221, 87%, 60%)">save</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript function-variable function" style="color:hsl(221, 87%, 60%)">fail</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript parameter">err</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            uni</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">showModal</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">title</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'ä¸Šä¼ å¤´åƒæ–‡ä»¶å¤±è´¥'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">                </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">content</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> err</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">errMsg</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">            </span><span class="token script language-javascript console class-name" style="color:hsl(35, 99%, 36%)">console</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">log</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript">err</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript function-variable function" style="color:hsl(221, 87%, 60%)">save</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> data </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">nickName</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> userName</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">avatar</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> avatarPath</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">phone</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> userPhone</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// æš‚æ—¶å­˜å‚¨åˆ° storage ä¸­ï¼Œåœ¨ login ä¸­ä½¿ç”¨</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    uni</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">removeStorageSync</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">"userData"</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    uni</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">setStorageSync</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">"userData"</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"> data</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// è·³è½¬è‡³ç™»å½•é¡µ</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    uni</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">redirectTo</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">url</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">"login"</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">style</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">scss</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">scoped</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token style language-css selector class" style="color:hsl(119, 34%, 47%)">.containar</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">width</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">100</span><span class="token style language-css unit">vw</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">height</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">100</span><span class="token style language-css unit">vh</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">background</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css hexcode color">#fff</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">box-sizing</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> border-box</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">padding</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">30</span><span class="token style language-css unit">rpx</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css selector class" style="color:hsl(119, 34%, 47%)">.index</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">display</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> flex</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">align-items</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> center</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">flex-direction</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> column</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css selector class" style="color:hsl(119, 34%, 47%)">.avatarUrl</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">padding</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">80</span><span class="token style language-css unit">rpx</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">40</span><span class="token style language-css unit">rpx</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">background</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css hexcode color">#fff</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css selector" style="color:hsl(119, 34%, 47%)">button</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">background</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css hexcode color">#fff</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">line-height</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">80</span><span class="token style language-css unit">rpx</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">height</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> auto</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">border</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> none </span><span class="token style language-css important" style="color:hsl(230, 8%, 24%);font-weight:bold">!important</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">width</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> auto</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            // </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">padding</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">20</span><span class="token style language-css unit">rpx</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">30</span><span class="token style language-css unit">rpx</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">margin</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">display</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> flex</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">border</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> none</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">justify-content</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> center</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">align-items</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> center</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css selector" style="color:hsl(119, 34%, 47%)">&amp;</span><span class="token style language-css selector pseudo-element" style="color:hsl(119, 34%, 47%)">::after</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">                </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">border</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> none</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css selector class" style="color:hsl(119, 34%, 47%)">.refreshIcon</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">                </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">width</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">160</span><span class="token style language-css unit">rpx</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">                </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">height</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">160</span><span class="token style language-css unit">rpx</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">                </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">border-radius</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">50</span><span class="token style language-css unit">%</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">                </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">background-color</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css hexcode color">#ccc</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css selector class" style="color:hsl(119, 34%, 47%)">.jt</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">                </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">width</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">14</span><span class="token style language-css unit">rpx</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">                </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">height</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">28</span><span class="token style language-css unit">rpx</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css selector class" style="color:hsl(119, 34%, 47%)">.userName</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">background</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css hexcode color">#fff</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">padding</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">20</span><span class="token style language-css unit">rpx</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">30</span><span class="token style language-css unit">rpx</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">80</span><span class="token style language-css unit">rpx</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">display</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> flex</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">align-items</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> center</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">justify-content</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> center</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        // set font color</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">color</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css color">black</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css selector class" style="color:hsl(119, 34%, 47%)">.weui-input</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">width</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">110</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">            </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">padding-left</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">60</span><span class="token style language-css unit">rpx</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css selector class" style="color:hsl(119, 34%, 47%)">.userPhone</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">display</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> flex</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">width</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">233</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">align-items</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> center</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">margin-bottom</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">10</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        // è§£å†³å¦‚æœç”¨æˆ·æ‰‹æœºè®¾ç½®äº†é»‘æš—æ¨¡å¼ï¼Œå­—ä¸æ˜¾ç¤ºçš„é—®é¢˜</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">        </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">color</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css color">black</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token style language-css selector class" style="color:hsl(119, 34%, 47%)">.tips</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">width</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">700</span><span class="token style language-css unit">rpx</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">height</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">20</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">font-size</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">13</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">margin</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">5</span><span class="token style language-css unit">px</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">15</span><span class="token style language-css unit">px</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">19</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">color</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css hexcode color">#cbcbcb</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token style language-css selector class" style="color:hsl(119, 34%, 47%)">.tips_1</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">color</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css color">black</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token style language-css selector pseudo-element" style="color:hsl(119, 34%, 47%)">::v-deep</span><span class="token style language-css selector" style="color:hsl(119, 34%, 47%)"> </span><span class="token style language-css selector class" style="color:hsl(119, 34%, 47%)">.u-button</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">border-radius</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">10</span><span class="token style language-css unit">px</span><span class="token style language-css"> </span><span class="token style language-css important" style="color:hsl(230, 8%, 24%);font-weight:bold">!important</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">    </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">width</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">160</span><span class="token style language-css unit">px</span><span class="token style language-css"> </span><span class="token style language-css important" style="color:hsl(230, 8%, 24%);font-weight:bold">!important</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">style</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç”¨æˆ·ç‚¹å‡»ç¡®è®¤ä¹‹åï¼Œè·³è½¬è‡³ login é¡µé¢ï¼Œå®Œæˆç™»å½•æ“ä½œã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="spring-boot-åå°é€»è¾‘">Spring Boot åå°é€»è¾‘<a href="https://yuluo-yx.github.io/blog/wechatminiapp-login-get-use-info#spring-boot-%E5%90%8E%E5%8F%B0%E9%80%BB%E8%BE%91" class="hash-link" aria-label="Spring Boot åå°é€»è¾‘çš„ç›´æ¥é“¾æ¥" title="Spring Boot åå°é€»è¾‘çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¾®ä¿¡å°ç¨‹åºç”¨æˆ·ç™»å½•æ¥å£">å¾®ä¿¡å°ç¨‹åºç”¨æˆ·ç™»å½•æ¥å£<a href="https://yuluo-yx.github.io/blog/wechatminiapp-login-get-use-info#%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E6%8E%A5%E5%8F%A3" class="hash-link" aria-label="å¾®ä¿¡å°ç¨‹åºç”¨æˆ·ç™»å½•æ¥å£çš„ç›´æ¥é“¾æ¥" title="å¾®ä¿¡å°ç¨‹åºç”¨æˆ·ç™»å½•æ¥å£çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœ¨å‰é¢çš„æµç¨‹å›¾ä¸­ï¼Œå¾®ä¿¡å°ç¨‹åºçš„ç™»å½•æ“ä½œæ˜¯å…ˆè¯·æ±‚å¾®ä¿¡æœåŠ¡å™¨ï¼Œè·å– codeï¼Œåœ¨å°† code ä¼ é€’è‡³åº”ç”¨åå°æœåŠ¡å™¨ï¼Œè¯·æ±‚æ¥å£è·å– sessionId å’Œ openId ç­‰ä¿¡æ¯ã€‚</p>
<p>controller ä»£ç ï¼š</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@PostMapping</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"/user/weixin/login"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Result</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">Map</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">login</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestBody</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">User</span><span class="token plain"> user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    log</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">info</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"å¾®ä¿¡å°ç¨‹åºç”¨æˆ·ç™»å½•...."</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Map</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> userInfo </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> garageUserService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">weChatLogin</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Result</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">success</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">userInfo</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Service ä»£ç ï¼š</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Map</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">weChatLogin</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">User</span><span class="token plain"> user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å¾®ä¿¡å°ç¨‹åºé€šç”¨ç™»å½•é€»è¾‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> url </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GarageConstants</span><span class="token class-name punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatConstants</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">baseUrl </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token string" style="color:hsl(119, 34%, 47%)">"?appid="</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        configProperties</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getAppId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token string" style="color:hsl(119, 34%, 47%)">"&amp;secret="</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        configProperties</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getAppSecret</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token string" style="color:hsl(119, 34%, 47%)">"&amp;js_code="</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getCode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token string" style="color:hsl(119, 34%, 47%)">"&amp;grant_type=authorization_code"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> resp </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> restTemplate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getForObject</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WxCode2SessionResp</span><span class="token plain"> wxCode2SessionResp </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JsonUtils</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">fromJson</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">resp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WxCode2SessionResp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Map</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> res </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HashMap</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Objects</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">isNull</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">wxCode2SessionResp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">||</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Objects</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">isNull</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">wxCode2SessionResp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getSession_key</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        log</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">error</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"å¾®ä¿¡å°ç¨‹åºç™»å½•å¤±è´¥ï¼ŒæŸ¥çœ‹æ—¥å¿—ï¼ï¼ï¼"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ServiceException</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"å¾®ä¿¡ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•ï¼"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ä¸šåŠ¡é€»è¾‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// æ ¹æ® openId æŸ¥è¯¢</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> dbFlag</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å¦‚æœ openId ä¸ºç©ºï¼Œåˆ™è¯æ˜ç”¨æˆ·ä»æœªç™»é™†è¿‡ï¼Œåˆ™éœ€è¦è®¾ç½®ç”¨æˆ·ç›¸å…³ä¿¡æ¯ï¼Œæ‰‹æœºå·ï¼Œå¤´åƒï¼Œæ˜µç§°ç­‰ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">User</span><span class="token plain"> openIdUser </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">this</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">userMapper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">selectOneByQuery</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">QueryWrapper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">eq</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">User</span><span class="token operator" style="color:hsl(221, 87%, 60%)">::</span><span class="token function" style="color:hsl(221, 87%, 60%)">getOpenId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> wxCode2SessionResp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getOpenid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">openIdUser </span><span class="token operator" style="color:hsl(221, 87%, 60%)">==</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// è¯æ˜ç”¨æˆ·æœªç™»é™†è¿‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getPhone</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">==</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ç”¨æˆ·æœªç™»å½•è¿‡ï¼ŒåŒæ—¶ä¹Ÿæ²¡æœ‰æºå¸¦ç”¨æˆ·ä¿¡æ¯ï¼Œåˆ™ç›´æ¥è¿”å›ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            dbFlag </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"dbFlag"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> dbFlag </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">""</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">User</span><span class="token plain"> phoneUser </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">this</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">userMapper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">selectOneByQuery</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">QueryWrapper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">eq</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">User</span><span class="token operator" style="color:hsl(221, 87%, 60%)">::</span><span class="token function" style="color:hsl(221, 87%, 60%)">getPhone</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getPhone</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">phoneUser </span><span class="token operator" style="color:hsl(221, 87%, 60%)">==</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ä¸ºç”¨æˆ·ï¼Œæ’å…¥æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">var</span><span class="token plain"> wxUser </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">User</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                wxUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">SnowFlakeIdGenerator</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">generateId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                wxUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setType</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                wxUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setAvatar</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getAvatar</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                wxUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setNickName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getNickName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                wxUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setOpenId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">wxCode2SessionResp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getOpenid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">this</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">userMapper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">insert</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">wxUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ç™»å½•</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StpUtil</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">login</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">wxUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"token"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StpUtil</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getTokenValue</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"id"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> wxUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">""</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"type"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> wxUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getType</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">""</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ç»´æŠ¤äººå‘˜ï¼Œæ›´æ–°æ•°æ®</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                phoneUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setAvatar</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getAvatar</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                phoneUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setNickName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getNickName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                phoneUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setOpenId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">wxCode2SessionResp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getOpenid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">this</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">userMapper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">update</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">phoneUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ç™»å½•</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StpUtil</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">login</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">phoneUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getOpenId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"token"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StpUtil</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getTokenValue</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"id"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> phoneUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">""</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"type"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> phoneUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getType</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">""</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ç”¨æˆ·ä¿¡æ¯å·²ç»å­˜åœ¨ï¼Œç›´æ¥ç™»å½•</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StpUtil</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">login</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">openIdUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"token"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StpUtil</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getTokenValue</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"id"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> openIdUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">""</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"type"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> openIdUser</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getType</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">""</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>entity ï¼šç”¨æ¥æ¥å—å¾®ä¿¡ API è¿”å›çš„æ•°æ®ä¿¡æ¯ã€‚</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WxCode2SessionResp</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// openId ç”¨æˆ·å”¯ä¸€æ ‡è¯†</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> openid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ä¼šè¯å¯†é’¥</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> session_key</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ç”¨æˆ·åœ¨å¼€æ”¾å¹³å°çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œè‹¥å½“å‰å°ç¨‹åºå·²ç»‘å®šåˆ°å¾®ä¿¡å¼€æ”¾å¹³å°å¸å·ä¸‹ä¼šè¿”å›ï¼Œè¯¦è§ UnionID æœºåˆ¶è¯´æ˜ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> unionid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain">         </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// number é”™è¯¯ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> errcode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain">         </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// é”™è¯¯ä¿¡æ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> errmsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="è·å–ç”¨æˆ·æ‰‹æœºå·æ¥å£">è·å–ç”¨æˆ·æ‰‹æœºå·æ¥å£<a href="https://yuluo-yx.github.io/blog/wechatminiapp-login-get-use-info#%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E6%89%8B%E6%9C%BA%E5%8F%B7%E6%8E%A5%E5%8F%A3" class="hash-link" aria-label="è·å–ç”¨æˆ·æ‰‹æœºå·æ¥å£çš„ç›´æ¥é“¾æ¥" title="è·å–ç”¨æˆ·æ‰‹æœºå·æ¥å£çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å¾®ä¿¡å°ç¨‹åºåœ¨è·å–ç”¨æˆ·æ‰‹æœºå·æ—¶ï¼Œéœ€è¦åœ¨åå°è°ƒç”¨ API æ¥å£å®Œæˆ</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">// controller</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@PostMapping</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GarageConstants</span><span class="token class-name punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatConstants</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">apiPrefix </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"/getPhoneNumber"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Result</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">getPhoneNumber</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestBody</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">User</span><span class="token plain"> user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Result</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">success</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">garageUserService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getPhoneNumber</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// service</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">getPhoneNumber</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">User</span><span class="token plain"> user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> accessToken </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatMsgHelper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">refreshAccessToken</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            configProperties</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getAppId</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            configProperties</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getAppSecret</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            restTemplate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// String PhoneBaseUrl = "https://api.weixin.qq.com/wxa/business/getuserphonenumber?access_token=";</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> url </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GarageConstants</span><span class="token class-name punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatConstants</span><span class="token class-name punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">PhoneBaseUrl</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> accessToken</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Map</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> paramMap </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HashMap</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    paramMap</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"code"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> user</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getCode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> body </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JsonUtils</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">toJson</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">paramMap</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HttpHeaders</span><span class="token plain"> headers </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HttpHeaders</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    headers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setContentType</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MediaType</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token constant" style="color:hsl(35, 99%, 36%)">APPLICATION_JSON</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// spring boot 3.x ä»¥ä¸Šå¿…é¡»è®¾ç½®ï¼Œä¸ç„¶ä¼šå‡ºç° 412 é”™è¯¯çŠ¶æ€ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    headers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setContentLength</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">body</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getBytes</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StandardCharsets</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token constant" style="color:hsl(35, 99%, 36%)">UTF_8</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">length</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HttpEntity</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> httpEntity </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HttpEntity</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">body</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> headers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ResponseEntity</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> response </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> restTemplate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">postForEntity</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> httpEntity</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> response</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getBody</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// helper</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatMsgHelper</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">static</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">final</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Logger</span><span class="token plain"> logger </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">LoggerFactory</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getLogger</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatMsgHelper</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// æ¨é€æ¶ˆæ¯çš„æ—¶å€™éœ€è¦ accessTokenï¼Œè¿™é‡Œæ˜¯è·å–</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// tokençš„æ–¹æ³•ï¼Œåœ¨å®é™…ç¯å¢ƒä¸­ï¼Œä¸€èˆ¬æ˜¯å®šæ—¶åˆ·æ–°ï¼Œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ä¸¤ä¸ªå°æ—¶å†…æœ‰æ•ˆï¼Œè·å–accesstokenæ—¶éœ€è¦appidå’Œsecretä¿¡æ¯ï¼Œä¸€èˆ¬æ˜¯åå°å‚æ•°æˆ–å¸¸é‡è¿›è¡Œé…ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// è·å– accessToken çš„è¯·æ±‚æ¥å£</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// String TokenBaseUrl = "https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential";</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">final</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">static</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GetAccessToken</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GarageConstants</span><span class="token class-name punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">WeChatConstants</span><span class="token class-name punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">TokenBaseUrl</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"&amp;appid={appid}&amp;secret={secret}"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">static</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">refreshAccessToken</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> appid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> secret</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">RestTemplate</span><span class="token plain"> restTemplate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StringUtils</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">hasText</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">appid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">||</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StringUtils</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">hasText</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">secret</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            logger</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">error</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"åˆ·æ–°å¾®ä¿¡ AccessToken æ—¶ï¼Œç¼ºå°‘ appid æˆ– secret å‚æ•°ï¼"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ServiceException</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"åˆ·æ–°å¾®ä¿¡ AccessToken æ—¶ï¼Œç¼ºå°‘ appid æˆ– secret å‚æ•°ï¼"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Map</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">Object</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> param </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HashMap</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        param</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"appid"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">appid</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        param</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"secret"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">secret</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ResponseEntity</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">JSONObject</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> resp </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> restTemplate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getForEntity</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">GetAccessToken</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JSONObject</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                param</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JSONObject</span><span class="token plain"> jsonObj </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> resp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getBody</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> accessToken </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">jsonObj </span><span class="token operator" style="color:hsl(221, 87%, 60%)">!=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">null</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            accessToken </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> jsonObj</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getStr</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"access_token"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> accessToken</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="Unipp" term="Unipp"/>
        <category label="å¾®ä¿¡å°ç¨‹åº" term="å¾®ä¿¡å°ç¨‹åº"/>
        <category label="Vue3" term="Vue3"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Element-plus Upload Debug è®°å½•]]></title>
        <id>https://yuluo-yx.github.io/blog/element-plus-upload-debug</id>
        <link href="https://yuluo-yx.github.io/blog/element-plus-upload-debug"/>
        <updated>2024-09-20T22:34:07.000Z</updated>
        <summary type="html"><![CDATA[èƒŒæ™¯]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="èƒŒæ™¯">èƒŒæ™¯<a href="https://yuluo-yx.github.io/blog/element-plus-upload-debug#%E8%83%8C%E6%99%AF" class="hash-link" aria-label="èƒŒæ™¯çš„ç›´æ¥é“¾æ¥" title="èƒŒæ™¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åœ¨ Vue3 ä¸­ä½¿ç”¨ Element-plus çš„æ–‡ä»¶ä¸Šä¼ ç»„ä»¶ el-upload ç»„ä»¶ä¸Šä¼ è‡³ Spring Boot åå°æœåŠ¡ç«¯å¤±è´¥ï¼Œä½† Postman æˆåŠŸï¼</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="é—®é¢˜åŸå› ">é—®é¢˜åŸå› <a href="https://yuluo-yx.github.io/blog/element-plus-upload-debug#%E9%97%AE%E9%A2%98%E5%8E%9F%E5%9B%A0" class="hash-link" aria-label="é—®é¢˜åŸå› çš„ç›´æ¥é“¾æ¥" title="é—®é¢˜åŸå› çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>Element-plus ä¸­å¯¹ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹åˆåšäº†ä¸€æ¬¡å°è£…ï¼Œå¯¼è‡´å’Œåå°å¯¹åº”çš„æ–‡ä»¶æ¥å—å¤±è´¥ï¼Œå‡ºç°å„ç§å„æ ·çš„é”™è¯¯ï¼š</p>
<p>Element-plus æ–‡ä»¶ä¸Šä¼ å¯¹è±¡å®šä¹‰ï¼š</p>
<div class="language-ts codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-ts codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">export</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">interface</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">UploadFile</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    percentage</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">number</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    status</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> UploadStatus</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    size</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">number</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    response</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">unknown</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    uid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">number</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    url</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    raw</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> UploadRawFile</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">export</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">interface</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">UploadRawFile</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">extends</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">File</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    uid</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">number</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>spring boot åå°æ¥å£</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@PostMapping</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"/avatar"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Result</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">uploadAvatar</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestParam</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MultipartFile</span><span class="token plain"> file</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Result</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">success</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">uploadService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">uploadAvatar</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="è¸©å‘">è¸©å‘<a href="https://yuluo-yx.github.io/blog/element-plus-upload-debug#%E8%B8%A9%E5%9D%91" class="hash-link" aria-label="è¸©å‘çš„ç›´æ¥é“¾æ¥" title="è¸©å‘çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="no-multipart-boundary-was-found">no multipart boundary was found<a href="https://yuluo-yx.github.io/blog/element-plus-upload-debug#no-multipart-boundary-was-found" class="hash-link" aria-label="no multipart boundary was foundçš„ç›´æ¥é“¾æ¥" title="no multipart boundary was foundçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ²¡æœ‰æ­£ç¡®è®¾ç½® header ä¸­ Content-typï¼Œåœ¨ postman ä¸­ï¼Œä½¿ç”¨ form-data å½¢å¼ä¸Šä¼ æ–‡ä»¶ï¼Œä¼šè‡ªå·±è®¾ç½® content-typeã€‚åœ¨ axios ä¸­ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½®</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="the-request-was-rejected-because-no-multipart-boundary-was-found">the request was rejected because no multipart boundary was found<a href="https://yuluo-yx.github.io/blog/element-plus-upload-debug#the-request-was-rejected-because-no-multipart-boundary-was-found" class="hash-link" aria-label="the request was rejected because no multipart boundary was foundçš„ç›´æ¥é“¾æ¥" title="the request was rejected because no multipart boundary was foundçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¸Šä¼  formdata ç±»å‹çš„å˜é‡ï¼š</p>
<div class="language-ts codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-ts codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> form </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">FormData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">form</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">append</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">'file'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> file</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="required-part-file-is-not-present">Required part 'file' is not present.<a href="https://yuluo-yx.github.io/blog/element-plus-upload-debug#required-part-file-is-not-present" class="hash-link" aria-label="Required part 'file' is not present.çš„ç›´æ¥é“¾æ¥" title="Required part 'file' is not present.çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ³¨æ„ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨ Element-plus UploadFile å±æ€§ä¸­çš„ raw å±æ€§å€¼ä¸Šä¼ ï¼Œä¸ç„¶å°±ä¼šå‡ºç°æ­¤é”™è¯¯ï¼</p>
<div class="language-ts codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-ts codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">// é”™è¯¯ä»£ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:hsl(221, 87%, 60%)">uploadFile</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">async</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">file</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> File</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">await</span><span class="token plain"> FileAPI</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">uploadAvatar</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">then</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token function" style="color:hsl(221, 87%, 60%)">log</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// æ­£ç¡®ä»£ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:hsl(221, 87%, 60%)">uploadFile</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">async</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">file</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> UploadFile</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">await</span><span class="token plain"> FileAPI</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">uploadAvatar</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">raw</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">then</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token function" style="color:hsl(221, 87%, 60%)">log</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å®Œæ•´ä»£ç ç¤ºä¾‹">å®Œæ•´ä»£ç ç¤ºä¾‹<a href="https://yuluo-yx.github.io/blog/element-plus-upload-debug#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B" class="hash-link" aria-label="å®Œæ•´ä»£ç ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥" title="å®Œæ•´ä»£ç ç¤ºä¾‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>axios æ¥å£å°è£…</p>
<div class="language-ts codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-ts codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">upload</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">async</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    url</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    file</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> File</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    config</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> AxiosRequestConfig</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">Promise</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">Result</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;&gt;</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> form </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">FormData</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    form</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">append</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">'file'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> file</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> axiosInstance</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">post</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        url</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        form</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            headers</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token string-property property" style="color:hsl(5, 74%, 59%)">'Content-Type'</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'multipart/form-data'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                </span><span class="token operator" style="color:hsl(221, 87%, 60%)">...</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">config</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?.</span><span class="token plain">headers </span><span class="token operator" style="color:hsl(221, 87%, 60%)">||</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token operator" style="color:hsl(221, 87%, 60%)">...</span><span class="token plain">config</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>vue æ–‡ä»¶ä¸­ä»£ç </p>
<div class="language-vue codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-vue codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// template</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">el-upload</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">avatar-uploader</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag" style="color:hsl(5, 74%, 59%)">           </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">action</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">/</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">:show-file-list</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">false</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">:auto-upload</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">false</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag" style="color:hsl(5, 74%, 59%)">           </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">:on-change</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">uploadFile</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">accept</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">.jpg, .jpeg, .png</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">el-avatar</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">:size</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">75</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">:src</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">userAvatar</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">el-upload</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// script</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">const uploadFile = async (file: UploadFile) =&gt; {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    await FileAPI.uploadAvatar(file.raw).then((res) =&gt; {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        log(res)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    })</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>spring bootï¼š</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@PostMapping</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"/avatar"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Result</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">uploadAvatar</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestParam</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MultipartFile</span><span class="token plain"> file</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å°†æ‰€æœ‰çš„ HttpServletRequest å‚æ•°æ‰“å°å‡ºæ¥ï¼Œä»¥ debug å‚æ•°åŒºåˆ«</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// System.out.println(file);</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// request.getParameterMap().forEach((k, v) -&gt; System.out.println(k + " " + Arrays.toString(v)));</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// return Result.success("success");</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Result</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">success</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">uploadService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">uploadAvatar</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="Element-plus" term="Element-plus"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Vue3 + Vite æ•´åˆ LuckySheet å®Œæˆ Excel æ–‡ä»¶çš„é¢„è§ˆå’Œç¼–è¾‘]]></title>
        <id>https://yuluo-yx.github.io/blog/vue3-vite-merge-lucky-sheet-preview-excel-edit</id>
        <link href="https://yuluo-yx.github.io/blog/vue3-vite-merge-lucky-sheet-preview-excel-edit"/>
        <updated>2024-09-14T22:49:58.000Z</updated>
        <summary type="html"><![CDATA[éœ€æ±‚èƒŒæ™¯]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="éœ€æ±‚èƒŒæ™¯">éœ€æ±‚èƒŒæ™¯<a href="https://yuluo-yx.github.io/blog/vue3-vite-merge-lucky-sheet-preview-excel-edit#%E9%9C%80%E6%B1%82%E8%83%8C%E6%99%AF" class="hash-link" aria-label="éœ€æ±‚èƒŒæ™¯çš„ç›´æ¥é“¾æ¥" title="éœ€æ±‚èƒŒæ™¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ç”²æ–¹ç”¨æˆ·è®¾å¤‡ä¿ä¿®ï¼Œä¹™æ–¹å‘˜å·¥æ ¹æ®è®¾å¤‡ç»´æŠ¤éœ€è¦ï¼Œåœ¨ç»´æŠ¤å®Œæˆä¹‹åï¼Œåœ¨ Excel ç»´ä¿®ä»»åŠ¡æ–‡ä»¶ä¸Šå¯¹æ£€æŸ¥ç»´ä¿®çš„é¡¹ç›®è¿›è¡Œæ‰“å‹¾ï¼Œæœ€ååœ¨ä¸‹é¢è¾“å…¥ä¸€äº›å¤‡æ³¨ä¿¡æ¯ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="è°ƒç ”">è°ƒç ”<a href="https://yuluo-yx.github.io/blog/vue3-vite-merge-lucky-sheet-preview-excel-edit#%E8%B0%83%E7%A0%94" class="hash-link" aria-label="è°ƒç ”çš„ç›´æ¥é“¾æ¥" title="è°ƒç ”çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<ol>
<li>ç ”ç©¶äº† XLSX ç­‰å…¶ä»–åº“ï¼Œå‡ä¸èƒ½å®Œå…¨å®ç°éœ€æ±‚ï¼Œæˆ–æ˜¯ API å¤ªéš¾ç”¨ï¼Œæˆ–æ˜¯æ ·å¼æ˜¾ç¤ºæœ‰é—®é¢˜ï¼ŒExcel æ–‡ä»¶ä¸­æœ‰å›¾ç‰‡ï¼Œæ˜¾ç¤ºä¸å…¨ç­‰ç­‰ã€‚æœ€ååœ¨ Univer å’Œ LuckySheet ä¸Šç ”ç©¶ã€‚</li>
<li>Univer æ–‡æ¡£å¹¶ä¸æ˜¯å¾ˆå…¨é¢**ï¼ˆæ˜¯æˆ‘å¤ªèœäº†ï¼Œçœ‹ä¸æ‡‚ğŸ˜­ï¼‰**ï¼Œæ€ä¹ˆå°†æ•°æ®å¯¼å…¥åˆ° Univer ä¸­ï¼Œåœ¨ UI ä¸Šæ˜¾ç¤ºã€‚éƒ½ä¸æ˜¯å¾ˆå¥½å®ç°ï¼Œçœ‹æ–‡æ¡£ï¼Œéœ€è¦å€ŸåŠ©ä»–ä»¬çš„åç«¯æœåŠ¡ç­‰ç­‰ï¼Œæœ€åæ²¡èƒ½å®ç°ã€‚ç›¸å…³ discussionï¼š<a href="https://github.com/dream-num/univer/discussions/3425" target="_blank" rel="noopener noreferrer">https://github.com/dream-num/univer/discussions/3425</a> ã€‚ç»“è®ºé—®é¢˜å¹¶æ²¡æœ‰è§£å†³ï¼Œå› ä¸ºæˆ‘æ¢äº† LuckySheetã€‚ğŸ¤£</li>
<li>LuckySheet æ˜¯Univer çš„å‰èº«ï¼Œä¸åŒçš„æ˜¯ Univer æ”¯æŒ Word Excel PPT ä¸‰ç§ï¼Œå‰è€…åªæ”¯æŒä¸€ç§ã€‚å®Œå…¨å®ç°äº†æˆ‘çš„éœ€æ±‚ã€‚</li>
</ol>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å®æ“">å®æ“<a href="https://yuluo-yx.github.io/blog/vue3-vite-merge-lucky-sheet-preview-excel-edit#%E5%AE%9E%E6%93%8D" class="hash-link" aria-label="å®æ“çš„ç›´æ¥é“¾æ¥" title="å®æ“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>æˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šåœ¨åç«¯å°† Excel æ¨¡æ¿æ–‡ä»¶ä¼ ç»™å‰ç«¯ï¼Œå‰ç«¯ä½œå±•ç¤ºå’Œç¼–è¾‘ã€ã€‚ä¹‹åä¹™æ–¹ç»´æŠ¤äººå‘˜å®Œæˆ Excel æ–‡ä»¶ç¼–è¾‘ã€‚å†ä¼ ç»™åç«¯å’Œå·¥å•è¿›è¡Œç»‘å®šã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åˆå§‹åŒ–é¡¹ç›®">åˆå§‹åŒ–é¡¹ç›®<a href="https://yuluo-yx.github.io/blog/vue3-vite-merge-lucky-sheet-preview-excel-edit#%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE" class="hash-link" aria-label="åˆå§‹åŒ–é¡¹ç›®çš„ç›´æ¥é“¾æ¥" title="åˆå§‹åŒ–é¡¹ç›®çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æˆ‘ä½¿ç”¨çš„æ˜¯ Vue3 + Vite + LuckySheetã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å‡†å¤‡-luckysheet">å‡†å¤‡ LuckySheet<a href="https://yuluo-yx.github.io/blog/vue3-vite-merge-lucky-sheet-preview-excel-edit#%E5%87%86%E5%A4%87-luckysheet" class="hash-link" aria-label="å‡†å¤‡ LuckySheetçš„ç›´æ¥é“¾æ¥" title="å‡†å¤‡ LuckySheetçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å‚è€ƒï¼š<a href="https://blog.csdn.net/m0_59415345/article/details/136749058" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/m0_59415345/article/details/136749058</a></p>
<p>åœ¨é¡¹ç›®ä¸­ å¼•å…¥ LuckySheet æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="é€šè¿‡-cdn-å¼•å…¥">é€šè¿‡ CDN å¼•å…¥<a href="https://yuluo-yx.github.io/blog/vue3-vite-merge-lucky-sheet-preview-excel-edit#%E9%80%9A%E8%BF%87-cdn-%E5%BC%95%E5%85%A5" class="hash-link" aria-label="é€šè¿‡ CDN å¼•å…¥çš„ç›´æ¥é“¾æ¥" title="é€šè¿‡ CDN å¼•å…¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>ç›´æ¥åœ¨é¡¹ç›®çš„ <code>index.html</code> æ–‡ä»¶ä¸­å¼•å…¥ CDN é…ç½®å³å¯</p>
<div class="language-html codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-html codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">link</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">stylesheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">href</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://cdn.jsdelivr.net/npm/luckysheet/dist/plugins/css/pluginsCss.css</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">link</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">stylesheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">href</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://cdn.jsdelivr.net/npm/luckysheet/dist/plugins/plugins.css</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">link</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">stylesheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">href</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://cdn.jsdelivr.net/npm/luckysheet/dist/css/luckysheet.css</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">link</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">stylesheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">href</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://cdn.jsdelivr.net/npm/luckysheet/dist/assets/iconfont/iconfont.css</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://cdn.jsdelivr.net/npm/luckysheet/dist/plugins/js/plugin.js</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://cdn.jsdelivr.net/npm/luckysheet/dist/luckysheet.umd.js</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æœ¬åœ°æ‰“åŒ…ä¹‹åå¼•å…¥">æœ¬åœ°æ‰“åŒ…ä¹‹åå¼•å…¥<a href="https://yuluo-yx.github.io/blog/vue3-vite-merge-lucky-sheet-preview-excel-edit#%E6%9C%AC%E5%9C%B0%E6%89%93%E5%8C%85%E4%B9%8B%E5%90%8E%E5%BC%95%E5%85%A5" class="hash-link" aria-label="æœ¬åœ°æ‰“åŒ…ä¹‹åå¼•å…¥çš„ç›´æ¥é“¾æ¥" title="æœ¬åœ°æ‰“åŒ…ä¹‹åå¼•å…¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<blockquote>
<p>æœ¬åœ°å¼•å…¥æ˜¯å°† CDN éœ€è¦çš„æ–‡ä»¶åœ¨æœ¬åœ°æ‰“åŒ…ä¹‹ååœ¨å¼•å…¥ï¼Œé¿å…ç½‘ç»œè¯·æ±‚ã€‚</p>
</blockquote>
<ol>
<li>
<p>æ‹‰å–ä»£ç </p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">git</span><span class="token plain"> clone https://github.com/dream-num/Luckysheet.git</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>æ„å»º</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># æŒ‰ç…§ä¾èµ–</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">npm</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">install</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">npm</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">install</span><span class="token plain"> gulp </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-g</span><span class="token plain">  </span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>å¯åŠ¨é¢„è§ˆ</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">npm</span><span class="token plain"> run dev</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¯ä»¥åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°å¦‚ä¸‹é¡µé¢ï¼š</p>
<p><img decoding="async" loading="lazy" alt="Luckysheet é¢„è§ˆ" src="https://yuluo-yx.github.io/assets/images/img2-28d4dbe8a508c5a9763401b7e1df3aec.png" width="1640" height="977" class="img_c29J"></p>
</li>
<li>
<p>æ‰“åŒ…</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">npm</span><span class="token plain"> run build</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¹‹åå°† dist ä¸­çš„æ–‡ä»¶å…¨éƒ¨å¤åˆ¶åˆ°é¡¹ç›®çš„ public æ–‡ä»¶ä¸­ï¼Œ**å¯ä»¥æ ¹æ®éœ€è¦å¤åˆ¶åˆ°ä¸åŒä½ç½®ï¼Œåœ¨å¼•å…¥æ—¶ï¼Œæ³¨æ„è·¯å¾„å³å¯ã€‚**ä¸éœ€è¦å¼•å…¥ <code>index.html</code>ã€‚</p>
</li>
</ol>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="é¡¹ç›®ä½¿ç”¨">é¡¹ç›®ä½¿ç”¨<a href="https://yuluo-yx.github.io/blog/vue3-vite-merge-lucky-sheet-preview-excel-edit#%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8" class="hash-link" aria-label="é¡¹ç›®ä½¿ç”¨çš„ç›´æ¥é“¾æ¥" title="é¡¹ç›®ä½¿ç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>è¿™éƒ¨åˆ† CDN å¼•å…¥å’Œæœ¬åœ°å¼•å…¥åŒºåˆ«ä¸å¤§ã€‚åªéœ€è¦æ³¨æ„è·¯å¾„å³å¯ï¼š</p>
<div class="language-html codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-html codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">&lt;!-- CDN å¼•å…¥ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">link</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">stylesheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">href</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://cdn.jsdelivr.net/npm/luckysheet/dist/plugins/css/pluginsCss.css</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">link</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">stylesheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">href</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://cdn.jsdelivr.net/npm/luckysheet/dist/plugins/plugins.css</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">link</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">stylesheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">href</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://cdn.jsdelivr.net/npm/luckysheet/dist/css/luckysheet.css</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">link</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">stylesheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">href</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://cdn.jsdelivr.net/npm/luckysheet/dist/assets/iconfont/iconfont.css</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://cdn.jsdelivr.net/npm/luckysheet/dist/plugins/js/plugin.js</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">https://cdn.jsdelivr.net/npm/luckysheet/dist/luckysheet.umd.js</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">&lt;!-- æœ¬åœ°æ„å»ºä¹‹åå¼•å…¥ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">link</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">stylesheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">href</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">./public/plugins/css/pluginsCss.css</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">link</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">stylesheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">href</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">./public/plugins/plugins.css</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">link</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">stylesheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">href</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">./public/css/luckysheet.css</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">link</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">stylesheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">href</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">./public/assets/iconfont/iconfont.css</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">'</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">./public/plugins/js/plugin.js</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">src</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">./public/luckysheet.umd.js</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">  </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">&lt;!-- æ³¨æ„è·¯å¾„ä¸åŒ --&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="é¡¹ç›®é¡µé¢">é¡¹ç›®é¡µé¢<a href="https://yuluo-yx.github.io/blog/vue3-vite-merge-lucky-sheet-preview-excel-edit#%E9%A1%B9%E7%9B%AE%E9%A1%B5%E9%9D%A2" class="hash-link" aria-label="é¡¹ç›®é¡µé¢çš„ç›´æ¥é“¾æ¥" title="é¡¹ç›®é¡µé¢çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœ¨åˆå§‹åŒ–å¥½çš„ Vite é¡¹ç›®ä¸­ App.vue ä¸­å†™å…¥å¦‚ä¸‹ä»£ç ï¼š</p>
<p>æ³¨æ„éœ€è¦å®‰è£… <code>luckysheet</code>ã€‚ä¸ç„¶ä¼šæŠ¥é”™ï¼ï¼ï¼</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">npm</span><span class="token plain"> i luckysheet</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-vue codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-vue codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">template</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">div</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">upload</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">input</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">uploadBtn</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">file</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">@change</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">loadExcel</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">div</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">div</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">luckysheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">luckysheet</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">div</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">template</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:hsl(119, 34%, 47%)">=</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag attr-value" style="color:hsl(119, 34%, 47%)">ts</span><span class="token tag attr-value punctuation" style="color:hsl(119, 34%, 47%)">"</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">setup</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:hsl(301, 63%, 40%)">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript imports punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript imports"> onMounted </span><span class="token script language-javascript imports punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:hsl(301, 63%, 40%)">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">"vue"</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:hsl(301, 63%, 40%)">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript imports maybe-class-name">LuckyExcel</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:hsl(301, 63%, 40%)">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'luckyexcel'</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:hsl(301, 63%, 40%)">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript imports">axios</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:hsl(301, 63%, 40%)">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'axios'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript function" style="color:hsl(221, 87%, 60%)">onMounted</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//å¦‚æœè¿™é‡Œluckysheet.createæŠ¥é”™</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//è¯·ä½¿ç”¨ window.luckysheet.create</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">  luckysheet</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">create</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">container</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'luckysheet'</span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//è¿™é‡Œéœ€è¦å’Œå®¹å™¨çš„idåç§°ä¸€è‡´</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// ä»åç«¯æ¥å£è·å– excel æ–‡ä»¶ä½¿ç”¨</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">  </span><span class="token script language-javascript function" style="color:hsl(221, 87%, 60%)">loadExcel</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// æŒ‰é’®ä¸Šä¼ ä½¿ç”¨ï¼Œæ³¨æ„åŒºåˆ†</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// const loadExcel = (evt) =&gt; {</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//   const files = evt.target.files</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//   if (files == null || files.length == 0) {</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//     alert('è¯·ä¸Šä¼ æ–‡ä»¶')</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//     return</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//   }</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//   let name = files[0].name</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//   let suffixArr = name.split('.'),</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//     suffix = suffixArr[suffixArr.length - 1]</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//   if (suffix != 'xlsx' &amp;&amp; suffix != "xls") {</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//     alert('åªèƒ½å¯¼å…¥xlsxæ–‡ä»¶æ ¼å¼çš„Excel')</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//     return</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//   }</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//   LuckyExcel.transformExcelToLucky(files[0], function (exportJson, luckysheetfile) {</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//     if (exportJson.sheets == null || exportJson.sheets.length == 0) {</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//       alert('å¯¼å…¥å¤±è´¥!')</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//       return</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//     }</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//     window.luckysheet.destroy()</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//     window.luckysheet.create({</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//       container: 'luckysheet', //å®¹å™¨çš„Id</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//       showinfobar: false,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//       data: exportJson.sheets,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//       title: exportJson.info.name,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//       userInfo: exportJson.info.name.creator</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//     })</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">//   })</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// }</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript function-variable function" style="color:hsl(221, 87%, 60%)">loadExcel</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">async</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">  </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// å‘é€ POST è¯·æ±‚åˆ°åç«¯ä»¥è·å– Excel æ–‡ä»¶</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword control-flow" style="color:hsl(301, 63%, 40%)">try</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// æ¥å£åœ°å€</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> response </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:hsl(301, 63%, 40%)">await</span><span class="token script language-javascript"> axios</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">post</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'http://localhost:8080/api/v1/download/task'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">      </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// taskId: '922364778947073' </span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">      </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">taskId</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'822364778947073'</span><span class="token script language-javascript"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">      </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// taskId: '722364778947073' </span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">      </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// taskId: '622364778947073'</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">      </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">headers</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript string-property property" style="color:hsl(5, 74%, 59%)">'Content-Type'</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">"application/json"</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">      </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">responseType</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'blob'</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// å°†å“åº”è½¬æ¢ä¸º Blob</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// const blob = await response.blob();</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// å°† ArrayBuffer è½¬æ¢ä¸º Blob</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> blob </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name" style="color:hsl(35, 99%, 36%)">Blob</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token script language-javascript">response</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">data</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token script language-javascript"> file </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name" style="color:hsl(35, 99%, 36%)">File</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token script language-javascript">blob</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'downloaded_file.xlsx'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">      </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">type</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript console class-name" style="color:hsl(35, 99%, 36%)">console</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">log</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript">file</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// // åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ URL</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// const url = URL.createObjectURL(file);</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// // åˆ›å»ºä¸€ä¸ªé“¾æ¥å…ƒç´ </span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// const a = document.createElement('a');</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// a.href = url;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// a.download = file.name; // è®¾ç½®ä¸‹è½½æ–‡ä»¶å</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// // è§¦å‘ä¸‹è½½</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// document.body.appendChild(a);</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// a.click();</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// // æ¸…ç†</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// document.body.removeChild(a);</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// URL.revokeObjectURL(url); // é‡Šæ”¾å†…å­˜</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript maybe-class-name">LuckyExcel</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">transformExcelToLucky</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript">file</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:hsl(301, 63%, 40%)">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript parameter">exportJson</span><span class="token script language-javascript parameter punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript parameter"> luckysheetfile</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">      </span><span class="token script language-javascript keyword control-flow" style="color:hsl(301, 63%, 40%)">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript">exportJson</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">sheets</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">==</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword null nil" style="color:hsl(301, 63%, 40%)">null</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">||</span><span class="token script language-javascript"> exportJson</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">sheets</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">length</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">==</span><span class="token script language-javascript"> </span><span class="token script language-javascript number" style="color:hsl(35, 99%, 36%)">0</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript function" style="color:hsl(221, 87%, 60%)">alert</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'1221332, å¯¼å…¥å¤±è´¥!'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword control-flow" style="color:hsl(301, 63%, 40%)">return</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">      </span><span class="token script language-javascript dom variable" style="color:hsl(221, 87%, 60%)">window</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">luckysheet</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">destroy</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">      </span><span class="token script language-javascript dom variable" style="color:hsl(221, 87%, 60%)">window</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">luckysheet</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript method function property-access" style="color:hsl(221, 87%, 60%)">create</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">container</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:hsl(119, 34%, 47%)">'luckysheet'</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript comment" style="color:hsl(230, 4%, 64%)">// å®¹å™¨çš„Id</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">showinfobar</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">data</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> exportJson</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">sheets</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">title</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> exportJson</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">info</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">name</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:hsl(5, 74%, 59%)">userInfo</span><span class="token script language-javascript operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token script language-javascript"> exportJson</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">info</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">name</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript property-access">creator</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:hsl(301, 63%, 40%)">catch</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript">error</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">    </span><span class="token script language-javascript function" style="color:hsl(221, 87%, 60%)">alert</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token script language-javascript template-string template-punctuation string" style="color:hsl(119, 34%, 47%)">`</span><span class="token script language-javascript template-string string" style="color:hsl(119, 34%, 47%)">å¯¼å…¥å¤±è´¥: </span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">${</span><span class="token script language-javascript template-string interpolation">error</span><span class="token script language-javascript template-string interpolation punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token script language-javascript template-string interpolation property-access">message</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript template-string template-punctuation string" style="color:hsl(119, 34%, 47%)">`</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">script</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">style</span><span class="token tag" style="color:hsl(5, 74%, 59%)"> </span><span class="token tag attr-name" style="color:hsl(35, 99%, 36%)">scoped</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token style language-css selector class" style="color:hsl(119, 34%, 47%)">.luckysheet</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">margin</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">padding</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">position</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> absolute</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">width</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">100</span><span class="token style language-css unit">%</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">height</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">100</span><span class="token style language-css unit">%</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">top</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">30</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css comment" style="color:hsl(230, 4%, 64%)">/* è°ƒæ•´æ­¤å€¼ä»¥å‘ä¸‹ç§»åŠ¨ */</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token style language-css selector class" style="color:hsl(119, 34%, 47%)">.upload</span><span class="token style language-css"> </span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">position</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> absolute</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">left</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">top</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">0</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">z-index</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">10</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css comment" style="color:hsl(230, 4%, 64%)">/* ç¡®ä¿æŒ‰é’®åœ¨æœ€ä¸Šå±‚ */</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">background-color</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css color">white</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css comment" style="color:hsl(230, 4%, 64%)">/* å¯é€‰ */</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">border</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">1</span><span class="token style language-css unit">px</span><span class="token style language-css"> solid </span><span class="token style language-css hexcode color">#ccc</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css comment" style="color:hsl(230, 4%, 64%)">/* å¯é€‰ */</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css property" style="color:hsl(5, 74%, 59%)">padding</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token style language-css"> </span><span class="token style language-css number" style="color:hsl(35, 99%, 36%)">5</span><span class="token style language-css unit">px</span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css">  </span><span class="token style language-css comment" style="color:hsl(230, 4%, 64%)">/* å¯é€‰ */</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token style language-css punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token style language-css"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token style language-css"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">style</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>æ³¨æ„ä¸Šè¿°ä»£ç çš„åŒºåˆ«ï¼Œä¸€ä¸ª LoadExcel æ–¹æ³•æ˜¯ä¸Šä¼ ä½¿ç”¨ï¼Œæœ‰å‚æ•°ã€‚å¦å¤–ä¸€ä¸ªæ˜¯ onMounted ä½¿ç”¨ï¼Œæ²¡æœ‰å‚æ•°ã€‚å¦‚æœä»åç«¯ä¼ é€’ï¼Œæ³¨æ„ä¿®æ”¹æ¥å£åœ°å€ã€‚</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="è¿è¡Œ">è¿è¡Œ<a href="https://yuluo-yx.github.io/blog/vue3-vite-merge-lucky-sheet-preview-excel-edit#%E8%BF%90%E8%A1%8C" class="hash-link" aria-label="è¿è¡Œçš„ç›´æ¥é“¾æ¥" title="è¿è¡Œçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img decoding="async" loading="lazy" alt="æœ¬åœ°è¿è¡Œæ•ˆæœå›¾" src="https://yuluo-yx.github.io/assets/images/img1-211722a1e29ef40ba3d0244763898ba5.png" width="1009" height="854" class="img_c29J"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="ä»“åº“">ä»“åº“<a href="https://yuluo-yx.github.io/blog/vue3-vite-merge-lucky-sheet-preview-excel-edit#%E4%BB%93%E5%BA%93" class="hash-link" aria-label="ä»“åº“çš„ç›´æ¥é“¾æ¥" title="ä»“åº“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ç›¸å…³ä»£ç å’Œä¾èµ–å·²ç»æ”¾åˆ°ï¼š<a href="https://github.com/yuluo-yx/deigmata-paideias/tree/main/vue3-vite-lucksheet" target="_blank" rel="noopener noreferrer">https://github.com/yuluo-yx/deigmata-paideias/tree/main/vue3-vite-lucksheet</a> ä¸­ã€‚</p>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="Unipp" term="Unipp"/>
        <category label="å¾®ä¿¡å°ç¨‹åº" term="å¾®ä¿¡å°ç¨‹åº"/>
        <category label="Vue3" term="Vue3"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä½¿ç”¨ Vitesse unipp & Alovajs æ„å»ºå¾®ä¿¡å°ç¨‹åº]]></title>
        <id>https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp</id>
        <link href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp"/>
        <updated>2024-09-10T22:57:50.000Z</updated>
        <summary type="html"><![CDATA[ç»„ä»¶ä»‹ç»]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="ç»„ä»¶ä»‹ç»">ç»„ä»¶ä»‹ç»<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D" class="hash-link" aria-label="ç»„ä»¶ä»‹ç»çš„ç›´æ¥é“¾æ¥" title="ç»„ä»¶ä»‹ç»çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<blockquote>
<p>Vitesse Uni Appï¼š<a href="https://vitesse-docs.netlify.app/" target="_blank" rel="noopener noreferrer">https://vitesse-docs.netlify.app/</a></p>
<p>UIï¼š<a href="https://uview-plus.jiangruyi.com/components/intro.html" target="_blank" rel="noopener noreferrer">https://uview-plus.jiangruyi.com/components/intro.html</a></p>
<p>ç¼–è¾‘å™¨ï¼šVScode å®‰è£… Volarï¼ˆVue Officesï¼‰æ’ä»¶</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åˆ›å»ºé¡¹ç›®">åˆ›å»ºé¡¹ç›®<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE" class="hash-link" aria-label="åˆ›å»ºé¡¹ç›®çš„ç›´æ¥é“¾æ¥" title="åˆ›å»ºé¡¹ç›®çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">pnpm</span><span class="token plain"> create uni </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">project-name</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-t</span><span class="token plain"> vitesse</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åˆ›å»ºé¡µé¢">åˆ›å»ºé¡µé¢<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E5%88%9B%E5%BB%BA%E9%A1%B5%E9%9D%A2" class="hash-link" aria-label="åˆ›å»ºé¡µé¢çš„ç›´æ¥é“¾æ¥" title="åˆ›å»ºé¡µé¢çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å‚è€ƒï¼š<a href="https://vitesse-docs.netlify.app/getting-started/views" target="_blank" rel="noopener noreferrer">https://vitesse-docs.netlify.app/getting-started/views</a></p>
<p>åˆ›å»ºæ–¹å¼éå¸¸ç®€å•ï¼Œå³çœ‹å³ä¼š</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¼•å…¥-ui-åº“">å¼•å…¥ UI åº“<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E5%BC%95%E5%85%A5-ui-%E5%BA%93" class="hash-link" aria-label="å¼•å…¥ UI åº“çš„ç›´æ¥é“¾æ¥" title="å¼•å…¥ UI åº“çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<blockquote>
<p>è¿™æ­¥ç¨å¾®æœ‰äº›éº»çƒ¦ã€‚</p>
<p>å®‰è£…æ–‡æ¡£åœ°å€ï¼š<a href="https://uview-plus.jiangruyi.com/components/install.html" target="_blank" rel="noopener noreferrer">https://uview-plus.jiangruyi.com/components/install.html</a></p>
<p>é…ç½®æ–‡æ¡£åœ°å€ï¼š<a href="https://uview-plus.jiangruyi.com/components/npmSetting.html" target="_blank" rel="noopener noreferrer">https://uview-plus.jiangruyi.com/components/npmSetting.html</a></p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å®‰è£…-sass">å®‰è£… Sass<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E5%AE%89%E8%A3%85-sass" class="hash-link" aria-label="å®‰è£… Sassçš„ç›´æ¥é“¾æ¥" title="å®‰è£… Sassçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// å®‰è£…sass</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">npm</span><span class="token plain"> i sass </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-D</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// å®‰è£…sass-loaderï¼Œæ³¨æ„éœ€è¦ç‰ˆæœ¬10ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´vueä¸sassçš„å…¼å®¹é—®é¢˜è€ŒæŠ¥é”™</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">npm</span><span class="token plain"> i sass-loader@10 </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-D</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å®‰è£…ä¾èµ–">å®‰è£…ä¾èµ–<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96" class="hash-link" aria-label="å®‰è£…ä¾èµ–çš„ç›´æ¥é“¾æ¥" title="å®‰è£…ä¾èµ–çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">npm</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">install</span><span class="token plain"> uview-plus</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">npm</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">install</span><span class="token plain"> dayjs</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">npm</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">install</span><span class="token plain"> clipboard</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¼•å…¥-js-åº“">å¼•å…¥ JS åº“<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E5%BC%95%E5%85%A5-js-%E5%BA%93" class="hash-link" aria-label="å¼•å…¥ JS åº“çš„ç›´æ¥é“¾æ¥" title="å¼•å…¥ JS åº“çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-js codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-js codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">// main.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword module" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token imports">uviewPlus</span><span class="token plain"> </span><span class="token keyword module" style="color:hsl(301, 63%, 40%)">from</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'uview-plus'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// #ifdef VUE3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword module" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token imports"> createSSRApp </span><span class="token imports punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword module" style="color:hsl(301, 63%, 40%)">from</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'vue'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword module" style="color:hsl(301, 63%, 40%)">export</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">function</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">createApp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> app </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">createSSRApp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token maybe-class-name">App</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  app</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token method function property-access" style="color:hsl(221, 87%, 60%)">use</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">uviewPlus</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword control-flow" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    app</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// #endif</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¼•å…¥å…¨å±€-css">å¼•å…¥å…¨å±€ CSS<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E5%BC%95%E5%85%A5%E5%85%A8%E5%B1%80-css" class="hash-link" aria-label="å¼•å…¥å…¨å±€ CSSçš„ç›´æ¥é“¾æ¥" title="å¼•å…¥å…¨å±€ CSSçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-css codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-css codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">/* uni.scss */</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token atrule rule" style="color:hsl(35, 99%, 36%)">@import</span><span class="token atrule" style="color:hsl(35, 99%, 36%)"> </span><span class="token atrule string" style="color:hsl(119, 34%, 47%)">'uview-plus/theme.scss'</span><span class="token atrule punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¼•å…¥åŸºç¡€æ ·å¼">å¼•å…¥åŸºç¡€æ ·å¼<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E5%BC%95%E5%85%A5%E5%9F%BA%E7%A1%80%E6%A0%B7%E5%BC%8F" class="hash-link" aria-label="å¼•å…¥åŸºç¡€æ ·å¼çš„ç›´æ¥é“¾æ¥" title="å¼•å…¥åŸºç¡€æ ·å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-css codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-css codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">&lt;style lang=</span><span class="token string" style="color:hsl(119, 34%, 47%)">"scss"</span><span class="token plain">&gt;</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)">/* æ³¨æ„è¦å†™åœ¨ç¬¬ä¸€è¡Œï¼ŒåŒæ—¶ç»™styleæ ‡ç­¾åŠ å…¥lang="scss"å±æ€§ */</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token atrule rule" style="color:hsl(35, 99%, 36%)">@import</span><span class="token atrule" style="color:hsl(35, 99%, 36%)"> </span><span class="token atrule string" style="color:hsl(119, 34%, 47%)">"uview-plus/index.scss"</span><span class="token atrule punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">&lt;/style&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="é…ç½®-easycom-æ¨¡å¼">é…ç½® easycom æ¨¡å¼<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E9%85%8D%E7%BD%AE-easycom-%E6%A8%A1%E5%BC%8F" class="hash-link" aria-label="é…ç½® easycom æ¨¡å¼çš„ç›´æ¥é“¾æ¥" title="é…ç½® easycom æ¨¡å¼çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>å‚è€ƒï¼š<a href="https://uview-plus.jiangruyi.com/components/npmSetting.html#%E9%85%8D%E7%BD%AEeasycom%E7%BB%84%E4%BB%B6%E6%A8%A1%E5%BC%8F" target="_blank" rel="noopener noreferrer">https://uview-plus.jiangruyi.com/components/npmSetting.html#%E9%85%8D%E7%BD%AEeasycom%E7%BB%84%E4%BB%B6%E6%A8%A1%E5%BC%8F</a></p>
<div class="language-json codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-json codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">// pages.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">"easycom"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">"autoscan"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// æ³¨æ„ä¸€å®šè¦æ”¾åœ¨customé‡Œï¼Œå¦åˆ™æ— æ•ˆï¼Œhttps://ask.dcloud.net.cn/question/131175</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">"custom"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token property" style="color:hsl(5, 74%, 59%)">"^u--(.*)"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"uview-plus/components/u-$1/u-$1.vue"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token property" style="color:hsl(5, 74%, 59%)">"^up-(.*)"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"uview-plus/components/u-$1/u-$1.vue"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">         </span><span class="token property" style="color:hsl(5, 74%, 59%)">"^u-([^-].*)"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"uview-plus/components/u-$1/u-$1.vue"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// æ­¤ä¸ºæœ¬èº«å·²æœ‰çš„å†…å®¹</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">"pages"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ......</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="é…ç½®-typescript-æ”¯æŒ">é…ç½® typescript æ”¯æŒ<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E9%85%8D%E7%BD%AE-typescript-%E6%94%AF%E6%8C%81" class="hash-link" aria-label="é…ç½® typescript æ”¯æŒçš„ç›´æ¥é“¾æ¥" title="é…ç½® typescript æ”¯æŒçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-json codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-json codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token property" style="color:hsl(5, 74%, 59%)">"compilerOptions"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property" style="color:hsl(5, 74%, 59%)">"sourceMap"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property" style="color:hsl(5, 74%, 59%)">"baseUrl"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"."</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property" style="color:hsl(5, 74%, 59%)">"paths"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token property" style="color:hsl(5, 74%, 59%)">"@/*"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">"./src/*"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property" style="color:hsl(5, 74%, 59%)">"lib"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">"esnext"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"dom"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token property" style="color:hsl(5, 74%, 59%)">"types"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token string" style="color:hsl(119, 34%, 47%)">"@dcloudio/types"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token string" style="color:hsl(119, 34%, 47%)">"uview-plus/types"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token property" style="color:hsl(5, 74%, 59%)">"include"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">"src/**/*.ts"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"src/**/*.d.ts"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"src/**/*.tsx"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"src/**/*.vue"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¯åŠ¨é¡¹ç›®æŸ¥çœ‹">å¯åŠ¨é¡¹ç›®æŸ¥çœ‹<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E5%90%AF%E5%8A%A8%E9%A1%B9%E7%9B%AE%E6%9F%A5%E7%9C%8B" class="hash-link" aria-label="å¯åŠ¨é¡¹ç›®æŸ¥çœ‹çš„ç›´æ¥é“¾æ¥" title="å¯åŠ¨é¡¹ç›®æŸ¥çœ‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">npm</span><span class="token plain"> run dev:h5</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="é¢„è§ˆå›¾ç‰‡" src="https://yuluo-yx.github.io/assets/images/image-05714b5a60fd80344f150490a67d54f1.png" width="557" height="311" class="img_c29J"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="è¸©å‘è®°å½•">è¸©å‘è®°å½•<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95" class="hash-link" aria-label="è¸©å‘è®°å½•çš„ç›´æ¥é“¾æ¥" title="è¸©å‘è®°å½•çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœ¨ pages.json ä¸­é…ç½® easycom é…ç½®æ—¶ï¼Œå†æ¬¡é‡æ–°å¯åŠ¨é¡¹ç›®ï¼Œä¼šå¯¼è‡´ pages.json ä¸­çš„æ–‡ä»¶åˆ·æ–°ï¼Œç„¶å ui æ ·å¼å¼•å…¥å¤±æ•ˆï¼Œéœ€è¦åœ¨ pages.config.json ä¸­é…ç½®</p>
<div class="language-ts codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-ts codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> defineUniPages </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">from</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'@uni-helper/vite-plugin-uni-pages'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">export</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">default</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">defineUniPages</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  pages</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  globalStyle</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    backgroundColor</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'@bgColor'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    backgroundColorBottom</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'@bgColorBottom'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    backgroundColorTop</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'@bgColorTop'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    backgroundTextStyle</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'@bgTxtStyle'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    navigationBarBackgroundColor</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'#000000'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    navigationBarTextStyle</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'@navTxtStyle'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    navigationBarTitleText</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'Vitesse-Uni'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    navigationStyle</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'custom'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// tabBar: {</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">//   backgroundColor: "@tabBgColor",</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">//   borderStyle: "@tabBorderStyle",</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">//   color: "@tabFontColor",</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">//   selectedColor: "@tabSelectedColor",</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// },</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token string-property property" style="color:hsl(5, 74%, 59%)">"easycom"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token string-property property" style="color:hsl(5, 74%, 59%)">"autoscan"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">true</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token string-property property" style="color:hsl(5, 74%, 59%)">"custom"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token string-property property" style="color:hsl(5, 74%, 59%)">"^u--(.*)"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"uview-plus/components/u-$1/u-$1.vue"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token string-property property" style="color:hsl(5, 74%, 59%)">"^up-(.*)"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"uview-plus/components/u-$1/u-$1.vue"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">         </span><span class="token string-property property" style="color:hsl(5, 74%, 59%)">"^u-([^-].*)"</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"uview-plus/components/u-$1/u-$1.vue"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="ä½¿ç”¨-alovajs-ä½œä¸ºå°ç¨‹åºçš„è¯·æ±‚å·¥å…·">ä½¿ç”¨ alova.js ä½œä¸ºå°ç¨‹åºçš„è¯·æ±‚å·¥å…·<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E4%BD%BF%E7%94%A8-alovajs-%E4%BD%9C%E4%B8%BA%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%AF%B7%E6%B1%82%E5%B7%A5%E5%85%B7" class="hash-link" aria-label="ä½¿ç”¨ alova.js ä½œä¸ºå°ç¨‹åºçš„è¯·æ±‚å·¥å…·çš„ç›´æ¥é“¾æ¥" title="ä½¿ç”¨ alova.js ä½œä¸ºå°ç¨‹åºçš„è¯·æ±‚å·¥å…·çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å®˜ç½‘ï¼š<a href="https://alova.js.org/zh-CN/" target="_blank" rel="noopener noreferrer">https://alova.js.org/zh-CN/</a></p>
<p>unipp æ’ä»¶ï¼š<a href="https://alova.js.org/zh-CN/resource/request-adapter/uniapp" target="_blank" rel="noopener noreferrer">https://alova.js.org/zh-CN/resource/request-adapter/uniapp</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å®‰è£…">å®‰è£…<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E5%AE%89%E8%A3%85" class="hash-link" aria-label="å®‰è£…çš„ç›´æ¥é“¾æ¥" title="å®‰è£…çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">npm</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">install</span><span class="token plain"> @alova/adapter-uniapp </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--save</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å°è£…">å°è£…<a href="https://yuluo-yx.github.io/blog/use-vitesse-unipp-and-alovajs-build-wechatminiapp#%E5%B0%81%E8%A3%85" class="hash-link" aria-label="å°è£…çš„ç›´æ¥é“¾æ¥" title="å°è£…çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>index.ts</p>
<div class="language-ts codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-ts codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">//index.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> createAlova </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">from</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'alova'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> AdapterUniapp </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">from</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'@alova/adapter-uniapp'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">export</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> AlovaInstance </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">createAlova</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  baseURL</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'http://localhost:8080/api/v1/'</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// https://alova.js.org/zh-CN/resource/request-adapter/uniapp#%E5%88%9B%E5%BB%BA-alova</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token operator" style="color:hsl(221, 87%, 60%)">...</span><span class="token function" style="color:hsl(221, 87%, 60%)">AdapterUniapp</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// è¯·æ±‚æ‹¦æˆªå™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token function" style="color:hsl(221, 87%, 60%)">beforeRequest</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å“åº”æ‹¦æˆªå™¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  responded</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>api.ts</p>
<div class="language-ts codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-ts codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> AlovaInstance </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">from</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'./index'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> headers </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"> </span><span class="token string-property property" style="color:hsl(5, 74%, 59%)">'Content-Type'</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'application/json;charset=UTF-8'</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> timeout </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">5000</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">export</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> Alova </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token function" style="color:hsl(221, 87%, 60%)">createGet</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">url</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> params</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Record</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">any</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> AlovaInstance</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Get</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      headers</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      params</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      timeout</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token function" style="color:hsl(221, 87%, 60%)">createPost</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">url</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> data</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Record</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">any</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> params</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Record</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">any</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> AlovaInstance</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Post</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      params</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token function" style="color:hsl(221, 87%, 60%)">createTodoPut</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">url</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> data</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Record</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">any</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> params</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Record</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">any</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> AlovaInstance</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">data</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      params</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token function" style="color:hsl(221, 87%, 60%)">createDelete</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">url</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> data</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Record</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">any</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> params</span><span class="token operator" style="color:hsl(221, 87%, 60%)">?</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> Record</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">any</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> AlovaInstance</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Put</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain">data</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      params</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>service.ts</p>
<div class="language-ts codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-ts codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain">Alova</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">from</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"./api"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// Law notice</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">export</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:hsl(221, 87%, 60%)">getLawNotice</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> Alova</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">createGet</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"law"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è°ƒç”¨ï¼š</p>
<div class="language-ts codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-ts codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain">script lang</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">"ts"</span><span class="token plain"> setup</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain">getLawNotice</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">from</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"../alova/service"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain">concatenate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> ulg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">from</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"../utils/strings/index"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// data</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> content </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:hsl(221, 87%, 60%)">ref</span><span class="token generic-function generic class-name operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token generic-function generic class-name builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token generic-function generic class-name operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">""</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// const law </span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// request api</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:hsl(221, 87%, 60%)">getLawList</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">async</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">await</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">getLawNotice</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">then</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">result</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">any</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// check status code</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">statusCode </span><span class="token operator" style="color:hsl(221, 87%, 60%)">===</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// get data</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> lawList </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">data</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">data</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> i </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> i </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain"> lawList</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">length</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> i</span><span class="token operator" style="color:hsl(221, 87%, 60%)">++</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">let</span><span class="token plain"> text </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> lawList</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">text</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ulg(text)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        content</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">value </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">concatenate</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">content</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">value</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">" "</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> text</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">catch</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">err</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">any</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token function" style="color:hsl(221, 87%, 60%)">alert</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="Unipp" term="Unipp"/>
        <category label="å¾®ä¿¡å°ç¨‹åº" term="å¾®ä¿¡å°ç¨‹åº"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[æˆä¸º Apache Committer, å¯¹æˆ‘å‚ä¸å¼€æºçš„è‚¯å®š]]></title>
        <id>https://yuluo-yx.github.io/blog/become-apache-committer</id>
        <link href="https://yuluo-yx.github.io/blog/become-apache-committer"/>
        <updated>2024-08-17T16:21:54.000Z</updated>
        <summary type="html"><![CDATA[æˆ‘çš„å¼€æºå†ç¨‹]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æˆ‘çš„å¼€æºå†ç¨‹">æˆ‘çš„å¼€æºå†ç¨‹<a href="https://yuluo-yx.github.io/blog/become-apache-committer#%E6%88%91%E7%9A%84%E5%BC%80%E6%BA%90%E5%8E%86%E7%A8%8B" class="hash-link" aria-label="æˆ‘çš„å¼€æºå†ç¨‹çš„ç›´æ¥é“¾æ¥" title="æˆ‘çš„å¼€æºå†ç¨‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>è¯´èµ·å¼€æºï¼Œæˆ‘åœ¨å¤§ä¸‰åˆšå¼€å§‹çš„æ—¶å€™å°±æ¥è§¦åˆ°äº†ã€‚å½“æ—¶çš„åœºæ™¯ä»ç„¶å†å†åœ¨ç›®ã€‚</p>
<p>å›æƒ³èµ·æ¥ï¼Œæˆ‘ç¬¬ä¸€ä¸ªæ­£å¼çš„ Github Pull Request æ˜¯ç»™ Spring Cloud Alibaba é¡¹ç›®åˆ é™¤äº†ä¸€ä¸ªå¤šä½™çš„ Pom ä¾èµ–é¡¹ã€‚å½“æ—¶æ‰‹å¿™è„šä¹±ï¼Œåœ¨æ‰æ‘¸äº†ä¸¤ä¸ªå¤šå°æ—¶åï¼Œæ‰ç®—æ˜¯æˆåŠŸæäº¤äº†ç¬¬ä¸€ä¸ª Pull Requestã€‚éå¸¸æ„Ÿè°¢<a href="https://github.com/steverao" target="_blank" rel="noopener noreferrer">é“–æœ´</a>ï¼Œæ˜¯ä»–å¸¦ç€æˆ‘è®¤è¯†äº†å¼€æºï¼Œè¸å‡ºäº†å‚ä¸å¼€æºè‡³å…³é‡è¦çš„ç¬¬ä¸€æ­¥ã€‚</p>
<p>ä»åˆšå¼€å§‹ä½¿ç”¨ Git çš„æ‰‹å¿™è„šä¹±ï¼Œåˆ°ç°åœ¨ <code>git c -m XXX</code>ï¼Œä»¥åŠ Github ä¸Šå‚ä¸çš„å„ä¸ª PR/Issueã€‚å›æƒ³èµ·æ¥ï¼ŒçœŸæ˜¯æ€ç»ªä¸‡åƒã€‚æˆ‘è§‰å¾—äººç”Ÿè«è¿‡äºå¦‚æ­¤ã€‚å­¦ä¹ æ‘¸ç´¢ -&gt; ç†Ÿç»ƒä½¿ç”¨ -&gt; åšå‡ºæˆç»©ã€‚</p>
<p>ä»å¤§ä¸‰è‡³ä»Šï¼Œæˆ‘ä»ç„¶ä¿æŒç€å¯¹å¼€æºçš„çƒ­æƒ…ï¼Œå‚ä¸å¼€æºï¼Œç›´è‡³ä»Šæ—¥ï¼Œæˆ‘å·²ç»æ˜¯ä¸‰ä¸ªé¡¹ç›®çš„ Committer äº†ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å‚ä¸-apache-community">å‚ä¸ Apache Community<a href="https://yuluo-yx.github.io/blog/become-apache-committer#%E5%8F%82%E4%B8%8E-apache-community" class="hash-link" aria-label="å‚ä¸ Apache Communityçš„ç›´æ¥é“¾æ¥" title="å‚ä¸ Apache Communityçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p><a href="https://community.apache.org/" target="_blank" rel="noopener noreferrer">Apache è½¯ä»¶åŸºé‡‘ä¼šï¼ˆApache Software Foundationï¼Œç®€ç§°ä¸ºASFï¼‰</a>ï¼Œæ˜¯ä¸€å®¶ç¾å›½çš„éè¥åˆ©ç»„ç»‡ï¼Œæ—¨åœ¨æ”¯æŒå„ç±»å¼€æºè½¯ä»¶é¡¹ç›®ã€‚ASFæœ€åˆç”± Apache HTTP Server çš„ä¸€ç¾¤å¼€å‘è€…ç»„æˆï¼Œå¹¶åœ¨1999å¹´3æœˆ25æ—¥æ­£å¼æˆç«‹ã€‚ æˆªè‡³2021å¹´ï¼Œå…¶æ€»æˆå‘˜æ•°å¤§çº¦åœ¨1000åã€‚å‘½åæ˜¯æ ¹æ®åŒ—ç¾å½“åœ°çš„ä¸€æ”¯å°ç¬¬å®‰éƒ¨è½è€Œæ¥ï¼Œè¿™æ”¯éƒ¨è½ä»¥é«˜è¶…çš„å†›äº‹ç´ å…»å’Œè¶…äººçš„å¿è€åŠ›è‘—ç§°ï¼Œ19ä¸–çºªååŠæœŸå¯¹ä¾µå ä»–ä»¬é¢†åœŸçš„å…¥ä¾µè€…è¿›è¡Œäº†åæŠ—ã€‚ä¸ºäº†å¯¹è¿™æ”¯å°ç¬¬å®‰éƒ¨è½è¡¨ç¤ºæ•¬ä»°ä¹‹æ„ï¼Œå–è¯¥éƒ¨è½åç§°ï¼ˆApacheï¼‰ä½œä¸ºæœåŠ¡å™¨åã€‚ä½†ä¸€æåˆ°è¿™ä¸ªå‘½åï¼Œè¿™é‡Œè¿˜æœ‰æµä¼ ç€ä¸€æ®µæœ‰æ„æ€çš„æ•…äº‹ã€‚å› ä¸ºè¿™ä¸ªæœåŠ¡å™¨æ˜¯åœ¨ NCSA HTTPd æœåŠ¡å™¨çš„åŸºç¡€ä¹‹ä¸Šï¼Œé€šè¿‡ä¼—äººåŠªåŠ›ï¼Œä¸æ–­åœ°ä¿®æ­£ã€æ‰“è¡¥ä¸ï¼ˆPatchyï¼‰çš„äº§ç‰©ï¼Œè¢«æˆç§°ä¸ºâ€œA Patchy Serverâ€ï¼ˆä¸€ä¸ªè¡¥ä¸æœåŠ¡å™¨ï¼‰ã€‚åœ¨è¿™é‡Œï¼Œå› ä¸ºâ€œA Patchyâ€ä¸â€œApacheâ€æ˜¯è°éŸ³ï¼Œæ•…æœ€åæ­£å¼å‘½åä¸ºâ€œApache Serverâ€ã€‚</p>
<p>ä»¥ä¸Šæ˜¯æ¥è‡ªäºç»´åŸºç™¾ç§‘ä¸­å¯¹ Apache è½¯ä»¶åŸºé‡‘ä¼šçš„ä»‹ç»ã€‚</p>
<p>Apache è½¯ä»¶åŸºé‡‘ä¼šèµ·åˆæ˜¯ç”±å¼€å‘ <a href="https://httpd.apache.org/" target="_blank" rel="noopener noreferrer">Apache HTTPd</a> çš„å¼€å‘äººå‘˜ç»„æˆï¼Œä»–ä»¬ä»¥ Apache HTTPd è¿™ä¸€ç½‘ç»œæœåŠ¡å™¨é¡¹ç›®ä¸ºèµ·ç‚¹ï¼Œåˆ›å»ºäº†è®¸å¤šä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼Œå¸å¼•å…¨çƒå…±åŒçš„å¼€æºçˆ±å¥½è€…å‚ä¸é¡¹ç›®çš„ç»´æŠ¤ä¸è¿­ä»£ã€‚ä¸æ–­æœ‰é¡¹ç›®é€€ä¼‘ï¼Œä¸æ–­æœ‰æ–°é¡¹ç›®è¢«å­µåŒ–ï¼Œååå¤å¤ã€‚æ‰æœ‰äº†ä»Šå¤©çš„ Apache è½¯ä»¶åŸºé‡‘ä¼šã€‚</p>
<p><img decoding="async" loading="lazy" alt="Apache HTTPd Server Logo" src="https://yuluo-yx.github.io/assets/images/4-7f27a1963a2a0f34e4798265ccd4eefc.jpg" width="500" height="250" class="img_c29J"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="ç¬¬ä¸€æ¬¡è´¡çŒ®">ç¬¬ä¸€æ¬¡è´¡çŒ®<a href="https://yuluo-yx.github.io/blog/become-apache-committer#%E7%AC%AC%E4%B8%80%E6%AC%A1%E8%B4%A1%E7%8C%AE" class="hash-link" aria-label="ç¬¬ä¸€æ¬¡è´¡çŒ®çš„ç›´æ¥é“¾æ¥" title="ç¬¬ä¸€æ¬¡è´¡çŒ®çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœ¨ Apache ç¤¾åŒºä¸­çš„ç¬¬ä¸€æ¬¡è´¡çŒ®åº”è¯¥æ˜¯ç»™ Dubbo é¡¹ç›®åˆ é™¤äº†ä¸€ä¸ª <code>{@link}</code> ä»£ç é“¾æ¥ã€‚è¯´æ¥æƒ­æ„§ï¼Œ<a href="https://github.com/apache/dubbo" target="_blank" rel="noopener noreferrer">Dubbo</a> æ˜¯æˆ‘å‚ä¸ Apache çš„ç¬¬ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œåˆ°ç°åœ¨ä¸ºæ­¢ä»…æœ‰ 6 ä¸ªæäº¤ã€‚5 æœˆä»½çš„æ—¶å€™é€šè¿‡ <a href="https://github.com/LinuxSuRen" target="_blank" rel="noopener noreferrer">Rick</a> æ¥è§¦åˆ°äº† <a href="https://github.com/apache/hertzbeat" target="_blank" rel="noopener noreferrer">Apache Hertzbeat</a> é¡¹ç›®ï¼Œä»å•å…ƒæµ‹è¯•å¼€å§‹äº†æˆ‘çš„ Apache è´¡çŒ®ä¹‹è·¯ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="è·å¾—æåæˆä¸º-committer">è·å¾—æåï¼Œæˆä¸º Committer<a href="https://yuluo-yx.github.io/blog/become-apache-committer#%E8%8E%B7%E5%BE%97%E6%8F%90%E5%90%8D%E6%88%90%E4%B8%BA-committer" class="hash-link" aria-label="è·å¾—æåï¼Œæˆä¸º Committerçš„ç›´æ¥é“¾æ¥" title="è·å¾—æåï¼Œæˆä¸º Committerçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æ­¤æ¬¡æåæ˜¯ Apache HertzbeatP(Incubating) çš„ PMC Member <a href="https://github.com/zqr10159" target="_blank" rel="noopener noreferrer">Logic</a> ä¸¾èçš„ï¼Œæ„Ÿè°¢ Apache Hertzbeat Teamã€‚é¡ºåˆ©æåæˆä¸ºäº† Hertzbeat Committerï¼Œæœ‰äº†è‡ªå·±çš„ Apache é‚®ç®±ã€‚</p>
<p><img decoding="async" loading="lazy" alt="Apache ID Email" src="https://yuluo-yx.github.io/assets/images/3-af6b1c6b58b3851a44a826a7f0a59009.jpg" width="1481" height="510" class="img_c29J"></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="apache-committer-çš„æ„ä¹‰">Apache Committer çš„æ„ä¹‰<a href="https://yuluo-yx.github.io/blog/become-apache-committer#apache-committer-%E7%9A%84%E6%84%8F%E4%B9%89" class="hash-link" aria-label="Apache Committer çš„æ„ä¹‰çš„ç›´æ¥é“¾æ¥" title="Apache Committer çš„æ„ä¹‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¿—è¯è¯´ï¼Œèƒ½åŠ›è¶Šå¤§ï¼Œä»»åŠ¡è¶Šå¤§ã€‚æˆä¸ºäº†é¡¹ç›®çš„ Committer ä¸ä»…ä»…æ˜¯ä¸€ä¸ªèº«ä»½çš„è½¬æ¢ï¼Œæ›´æ˜¯ä¸€ä¸ªå¯¹è‡ªå·±è‡ªèº«èƒ½åŠ›çš„è®¤åŒå’Œè‚¯å®šã€‚åœ¨ Review PR æ—¶ï¼Œæˆ‘çš„ <code>LGTM</code> ä¸å†æ˜¯ä¸€ä¸ªç°è‰²æ ·å¼ï¼Œè€Œæ˜¯å˜æˆäº†è“è‰²ï¼ˆå› ä¸ªäºº Github ä¸»é¢˜ä¸åŒï¼Œå±•ç°çš„é¢œè‰²ä¹Ÿä¸åŒï¼‰ã€‚ä¸ç”¨åœ¨ç­‰å¾…å…¶ä»–çš„ Committer Approve CIã€‚æ„å‘³ç€å¯¹é¡¹ç›®æœ‰äº†ç®¡ç†æƒåˆ©ã€‚</p>
<p><img decoding="async" loading="lazy" alt="PR Approve" src="https://yuluo-yx.github.io/assets/images/5-c361870647f85aa061df419ba755da8c.jpg" width="565" height="275" class="img_c29J"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å‚ä¸å¼€æºçš„æ–¹æ³•">å‚ä¸å¼€æºçš„æ–¹æ³•<a href="https://yuluo-yx.github.io/blog/become-apache-committer#%E5%8F%82%E4%B8%8E%E5%BC%80%E6%BA%90%E7%9A%84%E6%96%B9%E6%B3%95" class="hash-link" aria-label="å‚ä¸å¼€æºçš„æ–¹æ³•çš„ç›´æ¥é“¾æ¥" title="å‚ä¸å¼€æºçš„æ–¹æ³•çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä»»ä½•äººå»åšä¸€ä»¶äº‹æƒ…ï¼Œéƒ½éœ€è¦ä¸€ä¸ªå¥‘æœºå’Œå¼•è·¯äººã€‚åœ¨è®¸è®¸å¤šå¤šçš„ Apache é¡¹ç›®ä¸­ï¼Œä¸ä¹å…³æ³¨é¡¹ç›® Issue List çš„äººã€‚è®°å¿†çŠ¹æ–°çš„ä¸€æ¬¡æ˜¯ï¼šæŸä¸ªæ™šä¸Šåœ¨å†™å®Œå·¥å…·ç±»çš„å•å…ƒæµ‹è¯•ï¼Œå‘ç°äº†ä¸€ä¸ªå° Bugã€‚å½“æ—¶å¿ƒé‡Œæƒ³çš„æ˜¯ï¼Œè¿™ä¸ªä¸Šä¸‹æ–‡ä¿¡æ¯å¤ªå¤šäº†ï¼Œå†™åœ¨ PR é‡Œé¢ä¸å¤ªå¥½ï¼Œäºæ˜¯å¼€äº†ä¸€ä¸ª Issue è®°å½•ä¸Šä¸‹æ–‡ã€‚è¿™ä¸ª Bug å°åˆ°ä»€ä¹ˆç¨‹åº¦å‘¢ï¼Ÿå°åˆ°æˆ‘åˆšåˆ›å»ºå®Œ Issueï¼Œåœ¨å°†å•å…ƒæµ‹è¯•å’Œä¿®å¤ Bug çš„ä»£ç ä¸€èµ·æäº¤ä¹‹åï¼Œå†æ¬¡åˆ·æ–° PR Listï¼Œçœ‹åˆ°äº†ä¸€ä¸ªä¿®å¤ Bug çš„ PR Titleã€‚</p>
<p>å…¶å®ä¸ç¼ºä¹å…³æ³¨é¡¹ç›®çš„äººï¼Œæ›´å¤šçš„æ˜¯éœ€è¦ä¸€ä¸ªå¥‘æœºï¼å‚ä¸é¡¹ç›®çš„å¥‘æœºã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="the-apache-way">The Apache Way<a href="https://yuluo-yx.github.io/blog/become-apache-committer#the-apache-way" class="hash-link" aria-label="The Apache Wayçš„ç›´æ¥é“¾æ¥" title="The Apache Wayçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>Apache Community å¥‰è¡Œçš„ <a href="https://www.apache.org/theapacheway/" target="_blank" rel="noopener noreferrer">The Apache Way</a>ã€‚ç¤¾åŒºå¤§äºä»£ç ï¼Œå¥½çš„ç¤¾åŒºå¾€å¾€æ¯”ä¼˜ç§€çš„ä»£ç æ›´é‡è¦ï¼Œç¤¾åŒºçš„ç»„æˆæˆåˆ†åŒ…æ‹¬å¼€å‘è€…ï¼Œç”¨æˆ·ç­‰ç­‰ã€‚ç”¨æˆ·æ‰æ˜¯é¡¹ç›®ä»£ç çš„ç¬¬ä¸€ä½¿ç”¨è€…ï¼Œå¥åº·çš„ç¤¾åŒºçŠ¶æ€æ˜¯ç”¨æˆ·åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼šå‘ç°é—®é¢˜ï¼Œè€ŒåæŠ¥å‘Šé—®é¢˜ï¼Œæœ€åè§£å†³é—®é¢˜ã€‚æ›´å¯èƒ½å‘ç”Ÿçš„ä¸€ç§æƒ…å†µæ˜¯ï¼Œç”¨æˆ·æŠ¥å‘Šé—®é¢˜ï¼Œä»ç”¨æˆ·èº«ä»½è½¬ä¸ºå¼€å‘è€…ï¼Œè§£å†³é—®é¢˜ã€‚å¹¶åœ¨ä¹‹åæŒç»­å‚ä¸ç¤¾åŒºé¡¹ç›®çš„ç»´æŠ¤ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å‚ä¸å¼€æºçš„è·¯å¾„">å‚ä¸å¼€æºçš„è·¯å¾„<a href="https://yuluo-yx.github.io/blog/become-apache-committer#%E5%8F%82%E4%B8%8E%E5%BC%80%E6%BA%90%E7%9A%84%E8%B7%AF%E5%BE%84" class="hash-link" aria-label="å‚ä¸å¼€æºçš„è·¯å¾„çš„ç›´æ¥é“¾æ¥" title="å‚ä¸å¼€æºçš„è·¯å¾„çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>å¼€æºå¾€å¾€å¾ˆçº¯ç²¹ï¼ŒApache åŸºé‡‘ä¼šå­˜åœ¨çš„æ„ä¹‰ä¹Ÿæ˜¯ä¸ºäº†ä¿æŠ¤é¡¹ç›®å’Œå¼€å‘è€…ã€‚</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="apache-ç¤¾åŒºèº«ä»½å®šä¹‰">Apache ç¤¾åŒºèº«ä»½å®šä¹‰<a href="https://yuluo-yx.github.io/blog/become-apache-committer#apache-%E7%A4%BE%E5%8C%BA%E8%BA%AB%E4%BB%BD%E5%AE%9A%E4%B9%89" class="hash-link" aria-label="Apache ç¤¾åŒºèº«ä»½å®šä¹‰çš„ç›´æ¥é“¾æ¥" title="Apache ç¤¾åŒºèº«ä»½å®šä¹‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>å‚ä¸ç¤¾åŒºè´¡çŒ®ä¹‹å‰ï¼Œå…ˆè¦äº†è§£ç¤¾åŒºçš„èº«ä»½å®šä¹‰æ˜¯æ€æ ·çš„ï¼Œé¡¹ç›®çš„ Committer åˆ°åº•ä½äºå“ªä¸€å±‚çº§ï¼Œæ€ä¹ˆæ‰èƒ½æˆä¸º Committerã€‚Apache ç¤¾åŒºå¯¹<a href="https://community.apache.org/contributor-ladder.html" target="_blank" rel="noopener noreferrer">è´¡çŒ®è€…èº«ä»½</a>æœ‰å¾ˆæ˜ç¡®çš„å®šä¹‰ï¼š</p>
<p><img decoding="async" loading="lazy" alt="Apache contributor label" src="https://yuluo-yx.github.io/assets/images/6-0729cf03ad23c3dfa35048013fc5a156.jpg" width="1464" height="708" class="img_c29J"></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="é¡¹ç›®-committer-æåæ¡ä»¶">é¡¹ç›® Committer æåæ¡ä»¶<a href="https://yuluo-yx.github.io/blog/become-apache-committer#%E9%A1%B9%E7%9B%AE-committer-%E6%8F%90%E5%90%8D%E6%9D%A1%E4%BB%B6" class="hash-link" aria-label="é¡¹ç›® Committer æåæ¡ä»¶çš„ç›´æ¥é“¾æ¥" title="é¡¹ç›® Committer æåæ¡ä»¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>é¡¹ç›® PMC Team æå Committer çš„æ¡ä»¶æ˜¯ä¸ä¸€æ ·çš„ã€‚ä»¥ Apache Hertzbeat ä¸ºä¾‹ï¼š</p>
<p><img decoding="async" loading="lazy" alt="Apache Hertzbeat becoming committer" src="https://yuluo-yx.github.io/assets/images/7-305a8108fc8ad9644b9bd053a254ef80.jpg" width="1012" height="551" class="img_c29J"></p>
<p>æ¯ä¸ªé¡¹ç›®éƒ½æœ‰è‡ªå·±çš„æ ‡å‡†ï¼Œè¿™äº›æ ‡å‡†ä¹Ÿä¸æ˜¯ä¸€æˆä¸å˜ï¼Œåœ¨é¡¹ç›®çš„æ¯ä¸ªé˜¶æ®µä¼šè¿›è¡Œè°ƒæ•´ã€‚</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¦‚ä½•å‚ä¸å¼€æº">å¦‚ä½•å‚ä¸å¼€æº<a href="https://yuluo-yx.github.io/blog/become-apache-committer#%E5%A6%82%E4%BD%95%E5%8F%82%E4%B8%8E%E5%BC%80%E6%BA%90" class="hash-link" aria-label="å¦‚ä½•å‚ä¸å¼€æºçš„ç›´æ¥é“¾æ¥" title="å¦‚ä½•å‚ä¸å¼€æºçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>æ¥ä¸‹æ¥æ˜¯æ­¤ç« èŠ‚çš„é‡å¤´æˆï¼Œå¦‚ä½•å‚ä¸å¼€æºå¹¶è·å¾— Committer æåï¼Ÿ</p>
<h5 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¼€æºæ´»åŠ¨">å¼€æºæ´»åŠ¨<a href="https://yuluo-yx.github.io/blog/become-apache-committer#%E5%BC%80%E6%BA%90%E6%B4%BB%E5%8A%A8" class="hash-link" aria-label="å¼€æºæ´»åŠ¨çš„ç›´æ¥é“¾æ¥" title="å¼€æºæ´»åŠ¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h5>
<p>å­¦ç”Ÿå› ä¸ºèº«ä»½ç‰¹æ®Šï¼Œæ²¡æœ‰å¤§å‹é¡¹ç›®çš„å¼€å‘ç»éªŒï¼Œä¹Ÿæ²¡æœ‰æœºä¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­åˆ‡èº«ä½¿ç”¨ã€‚å› æ­¤å‚ä¸å¼€æºå¾€å¾€å¾ˆå›°éš¾ï¼Œç¼ºå°‘å¥‘æœºã€‚</p>
<p>æˆ‘è§‰å¾—å‚ä¸å¼€æºå¹¶è·å¾—æåçš„æœ€å¥½æ–¹å¼æ˜¯<strong>å¼€æºä¹‹å¤ï¼ˆOSPPï¼‰æˆ–è€…è°·æ­Œå¼€æºä¹‹å¤ï¼ˆGSOCï¼‰æ´»åŠ¨</strong>ã€‚åœ¨å®Œæˆç›¸å…³è¯¾é¢˜ä¹‹åï¼Œé€æ­¥ç†Ÿæ‚‰é¡¹ç›®åŠŸèƒ½ã€ä»£ç ã€æŒç»­å‚ä¸å°±ä¼šè·å¾—æåã€‚ä¹Ÿä¸ä¹ä¸€äº›å­¦ç”Ÿåœ¨å®Œæˆé¢˜ç›®ä¹‹åè¢«ç›´æ¥æåæˆä¸ºé¡¹ç›® Committerã€‚</p>
<p>å…¶æ¬¡æ˜¯<strong>æé«˜è‡ªå·±çš„ Coding èƒ½åŠ›</strong>ï¼Œå‘ç°é¡¹ç›®ä¸­ç¼ºå°‘çš„å•å…ƒæµ‹è¯•å’Œä»£ç  Bugï¼Œç„¶åæäº¤ PR ä¿®å¤ã€‚è¿™å¯¹åˆšå¼€å§‹çš„åŒå­¦å¾€å¾€æ˜¯æ¯”è¾ƒéš¾å¾—ã€‚Coding èƒ½åŠ›å¾€å¾€æ˜¯åœ¨ä¼˜åŒ–é¡¹ç›®ä»£ç ï¼Œäº†è§£æ¯ä¸€æ¬¡ Change ä¹‹åæ…¢æ…¢ç§¯ç´¯çš„ã€‚</p>
<p>ä¸€ä¸ªå¥½çš„é¡¹ç›®ï¼Œ<strong>å‘¨è¾¹ç”Ÿæ€å¾€å¾€æ˜¯è‡³å…³é‡è¦çš„</strong>ã€‚ä¸€ä»½å¥½çš„æ–‡æ¡£ï¼Œå¯ä»¥è®©ç”¨æˆ·/å¼€å‘è€…å¿«é€Ÿä¸Šæ‰‹ä½¿ç”¨ï¼Œå‚ä¸è´¡çŒ®ã€‚å¤šè¯­è¨€æ‰©å±•ï¼Œå¯ä»¥è®©é¡¹ç›®ä½¿ç”¨åœ¨å…¶ä»–è¯­è¨€æ„å»ºçš„é¡¹ç›®ä¸­ï¼Œæ‰©å¤§é¡¹ç›®å—ä¼—ã€‚ä¸€ä¸ªå¥½çš„ Example ä»“åº“ï¼Œå¯ä»¥è®©ç”¨æˆ·å‘ç°æ›´å¤šé¡¹ç›®çš„ä½¿ç”¨å§¿åŠ¿ã€‚å› æ­¤å‚ä¸ Example ä»“åº“çš„å»ºè®¾å’Œæ–‡æ¡£ç¼–å†™ã€ç¿»è¯‘ç­‰å·¥ä½œï¼Œä¹Ÿæ˜¯ç†Ÿæ‚‰é¡¹ç›®è·å¾—æåçš„æ–¹å¼ä¹‹ä¸€ã€‚</p>
<p>æœ€åï¼Œæˆ‘è¦è¯´çš„æ˜¯ï¼šè·å¾—æåæ˜¯<code>æ°´åˆ°æ¸ æˆ</code>çš„äº‹æƒ…ï¼Œä¸èƒ½ä¸ºäº†è·å¾—æåè€Œå»å‚ä¸å¼€æºï¼Œä»»ä½•æ—¶å€™éƒ½ä¸è¦å¿˜è®°è‡ªå·±çš„åˆå¿ƒã€‚</p>
<p>é¡¹ç›®ç¤¾åŒºå¾€å¾€æ¬¢è¿å„ç§æ–¹å¼çš„è´¡çŒ®ï¼šä¸è®ºæ˜¯ä»£ç ã€æ–‡æ¡£è¿˜æ˜¯å¸ƒé“ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="éšæƒ³">éšæƒ³<a href="https://yuluo-yx.github.io/blog/become-apache-committer#%E9%9A%8F%E6%83%B3" class="hash-link" aria-label="éšæƒ³çš„ç›´æ¥é“¾æ¥" title="éšæƒ³çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å†™ä¸‹æ­¤æ–‡ï¼Œæ˜¯ä¸ºäº†çºªå¿µæˆä¸º Apache Hertzbeat Committer è¿™ä¸ªç‰¹æ®Šçš„äº‹æƒ…, åŒæ—¶ä¹Ÿæ˜¯å¯¹æˆ‘ä¹‹åå‚ä¸å¼€æºçš„æ¿€åŠ±ã€‚
ä¿æŒçƒ­æƒ…ï¼Œä¿æŒ Codingã€‚æ„Ÿè°¢åœ¨å‚ä¸å¼€æºçš„æ—¶å€™ç»™ä¸æˆ‘å¸®åŠ©çš„å„ä½ã€‚</p>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="Open Source" term="Open Source"/>
        <category label="Apache" term="Apache"/>
        <category label="Committer" term="Committer"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç”±å•å…ƒæµ‹è¯•å‘ç°çš„ä»£ç  Bug]]></title>
        <id>https://yuluo-yx.github.io/blog/case-by-unit-test</id>
        <link href="https://yuluo-yx.github.io/blog/case-by-unit-test"/>
        <updated>2024-08-05T15:51:51.000Z</updated>
        <summary type="html"><![CDATA[èƒŒæ™¯æ¦‚è¿°]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="èƒŒæ™¯æ¦‚è¿°">èƒŒæ™¯æ¦‚è¿°<a href="https://yuluo-yx.github.io/blog/case-by-unit-test#%E8%83%8C%E6%99%AF%E6%A6%82%E8%BF%B0" class="hash-link" aria-label="èƒŒæ™¯æ¦‚è¿°çš„ç›´æ¥é“¾æ¥" title="èƒŒæ™¯æ¦‚è¿°çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>èƒŒæ™¯æ¥è‡ªäºç»™ Apache Hertzbeat ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œå‘ç°çš„ä¸€ä¸ªé—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜ä¹Ÿæ˜¯å†å²é—ç•™é—®é¢˜ï¼Œä¹‹å‰çš„æµ‹è¯•ç±»æ˜¯æ³¨é‡Šçš„çŠ¶æ€ã€‚</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token number" style="color:hsl(35, 99%, 36%)">15</span><span class="token plain">:18:38.013 </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">main</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"> WARN org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver -- Resolved </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">org.springframework.http.converter.HttpMessageNotWritableException: Could not </span><span class="token function" style="color:hsl(221, 87%, 60%)">write</span><span class="token plain"> JSON: </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">was java.lang.UnsupportedOperationException</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">java.lang.AssertionError: Status expected:</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token number" style="color:hsl(35, 99%, 36%)">20</span><span class="token operator file-descriptor important" style="color:hsl(230, 8%, 24%);font-weight:bold">0</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> but was:</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token number" style="color:hsl(35, 99%, 36%)">50</span><span class="token operator file-descriptor important" style="color:hsl(230, 8%, 24%);font-weight:bold">0</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Expected :200</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Actual   :500</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ²¡æœ‰ä»»ä½•å…¶ä»–ä¿¡æ¯ï¼ŒæŠ¥é”™å¦‚ä¸Šã€‚</p>
<p>å•å…ƒæµ‹è¯•å’Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@GetMapping</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Operation</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">summary </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"Example Query the alarm definition list"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">           description </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"You can obtain the list of alarm definitions by querying filter items"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ResponseEntity</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">Message</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">Page</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">AlertDefine</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">getAlertDefines</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Parameter</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">description </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"Alarm Definition ID"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> example </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"6565463543"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestParam</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">required </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">List</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">Long</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> ids</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Parameter</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">description </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"Search-Target Expr Template"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> example </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"x"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestParam</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">required </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> search</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Parameter</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">description </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"Alarm Definition Severity"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> example </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"6565463543"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestParam</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">required </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token boolean" style="color:hsl(35, 99%, 36%)">false</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Byte</span><span class="token plain"> priority</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Parameter</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">description </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"Sort field, default id"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> example </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"id"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestParam</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">defaultValue </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"id"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> sort</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Parameter</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">description </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"Sort mode: asc: ascending, desc: descending"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> example </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"desc"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestParam</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">defaultValue </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"desc"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> order</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Parameter</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">description </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"List current page"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> example </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"0"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestParam</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">defaultValue </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"0"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> pageIndex</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Parameter</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">description </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"Number of list pages"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> example </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"8"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestParam</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">defaultValue </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"8"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> pageSize</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Page</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">AlertDefine</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> alertDefinePage </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> alertDefineService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getAlertDefines</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">ids</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> search</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> priority</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> sort</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> order</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> pageIndex</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> pageSize</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ResponseEntity</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">ok</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Message</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">success</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">alertDefinePage</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æµ‹è¯•ç±»ï¼š</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Test</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">getAlertDefines</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Exception</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token function" style="color:hsl(221, 87%, 60%)">when</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">alertDefineService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getAlertDefines</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">List</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">of</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">1L</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"Test"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">byte</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"id"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"desc"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">thenReturn</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">PageImpl</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Collections</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">singletonList</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">alertDefine</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    mockMvc</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">perform</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MockMvcRequestBuilders</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">get</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token string" style="color:hsl(119, 34%, 47%)">"/api/alert/defines"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">param</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"ids"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"1"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">param</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"search"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"Test"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">param</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"priority"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"1"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">param</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"sort"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"id"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">param</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"order"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"desc"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">param</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"pageIndex"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"1"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">param</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"pageSize"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"10"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">                    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">accept</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">MediaType</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token constant" style="color:hsl(35, 99%, 36%)">APPLICATION_JSON</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">andExpect</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token function" style="color:hsl(221, 87%, 60%)">status</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">isOk</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">andExpect</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token function" style="color:hsl(221, 87%, 60%)">jsonPath</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"$.code"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">value</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">CommonConstants</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token constant" style="color:hsl(35, 99%, 36%)">SUCCESS_CODE</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">andExpect</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token function" style="color:hsl(221, 87%, 60%)">jsonPath</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"$.data.content[0].app"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">value</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"linux"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">andExpect</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token function" style="color:hsl(221, 87%, 60%)">jsonPath</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"$.data.content[0].id"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">value</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"9"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">andExpect</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token function" style="color:hsl(221, 87%, 60%)">jsonPath</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"$.data.content[0].metric"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">value</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"disk"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">andReturn</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åˆ†æ">åˆ†æ<a href="https://yuluo-yx.github.io/blog/case-by-unit-test#%E5%88%86%E6%9E%90" class="hash-link" aria-label="åˆ†æçš„ç›´æ¥é“¾æ¥" title="åˆ†æçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ç»è¿‡ google ç¡®å®šäº†å¯èƒ½å‘ç”Ÿé—®é¢˜çš„åŸå› ï¼š</p>
<ol>
<li>ä½¿ç”¨äº† Arrays.asList(T t) æ–¹æ³•</li>
<li>å®ä½“ç±»ç§å±æ€§ä¸º null å€¼ï¼Œè€Œæ²¡æœ‰ä½¿ç”¨ <code>@JsonIgnore</code> ç­‰æ³¨è§£</li>
<li>æ²¡æœ‰ä½¿ç”¨åŒ…è£…ç±»å‹è€Œä½¿ç”¨äº† intï¼Œlong ç­‰åŸºå…ƒç±»å‹</li>
<li>åœ¨ spring åå‘è§£æå¯¹è±¡æ—¶ï¼Œä¼šè°ƒç”¨ is å¼€å¤´è¿”å› boolean ç±»å‹çš„æ–¹æ³•</li>
</ol>
<p>æ€»å…± google åˆ°äº†ä»¥ä¸Šå››ç§åŸå› ï¼Œç»è¿‡å’Œé¡¹ç›®ä¸­çš„å…¶ä»–å®ä½“ç±»å¯¹æ¯”å’Œåˆ†æï¼Œè¿›è¡Œé€ä¸€æ’é™¤ã€‚æœ€åå‘ç°éƒ½æ²¡æœ‰ç¬¦åˆä¸Šè¿°é—®é¢˜çš„é€‰é¡¹ã€‚</p>
<p>ç»§è€Œçœ‹åˆ°äº†è¿”å›å€¼çš„å¯¹è±¡ç±»å‹ï¼Œå‘ç°ä¸æ˜¯å•ç‹¬çš„å®ä½“ç±»å‹ï¼Œè€Œæ˜¯ä¸€ä¸ª <code>Page&lt;T&gt;</code> ç±»å‹çš„å¯¹è±¡ï¼Œæƒ³åˆ°ï¼Œä¼šä¸ä¼šæ˜¯ Page ä¸­æŸä¸ªå±æ€§ä¸ºç©ºé€ æˆçš„ Json åºåˆ—åŒ–å¼‚å¸¸ã€‚</p>
<p>åœ¨ Controller ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç ç‰‡æ®µï¼š</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token class-name" style="color:hsl(35, 99%, 36%)">Page</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">AlertDefine</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> alertDefinePage </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> alertDefineService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getAlertDefines</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">ids</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> search</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> priority</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> sort</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> order</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> pageIndex</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> pageSize</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// æ¨¡æ‹Ÿåºåˆ—åŒ–è¿‡ç¨‹è¿›è¡Œè°ƒè¯•</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> json </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">JsonUtil</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">toJson</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">alertDefinePage</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">System</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">json</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ResponseEntity</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">ok</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Message</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">success</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">alertDefinePage</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿è¡Œæµ‹è¯•ï¼Œå‘ç°ç¡®å®æŠ¥é”™ï¼š</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token number" style="color:hsl(35, 99%, 36%)">15</span><span class="token plain">:32:00.342 </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">main</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"> ERROR org.apache.hertzbeat.common.util.JsonUtil -- </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">was java.lang.UnsupportedOperationException</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">through reference chain: org.springframework.data.domain.PageImpl</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">"pageable"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain">-</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain">org.springframework.data.domain.Unpaged</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">"offset"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">com.fasterxml.jackson.databind.JsonMappingException: </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">was java.lang.UnsupportedOperationException</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">through reference chain: org.springframework.data.domain.PageImpl</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">"pageable"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain">-</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain">org.springframework.data.domain.Unpaged</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token string" style="color:hsl(119, 34%, 47%)">"offset"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±ä»æ§åˆ¶å°çœ‹åˆ°äº†æ›´å¤šçš„é”™è¯¯ä¿¡æ¯ï¼Œ<code>Unpaged ä¸­çš„ offset</code> è²Œä¼¼æœ‰ç‚¹é—®é¢˜ã€‚è¾“å‡ºå®ƒçœ‹çœ‹</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token class-name" style="color:hsl(35, 99%, 36%)">System</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">alertDefinePage</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getPageable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getOffset</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name namespace" style="color:hsl(35, 99%, 36%)">jakarta</span><span class="token class-name namespace punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name namespace" style="color:hsl(35, 99%, 36%)">servlet</span><span class="token class-name namespace punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ServletException</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Request</span><span class="token plain"> processing failed</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token class-name namespace" style="color:hsl(35, 99%, 36%)">java</span><span class="token class-name namespace punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name namespace" style="color:hsl(35, 99%, 36%)">lang</span><span class="token class-name namespace punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">UnsupportedOperationException</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æœä¸å…¶ç„¶ï¼Œç¡®å®æœ‰é—®é¢˜ã€‚å†æ¬¡ google ä¹‹åï¼Œæ‰¾åˆ°äº†ç¤¾åŒº issueï¼š<a href="https://github.com/spring-projects/spring-data-commons/issues/2987%EF%BC%8C%E5%85%B6%E4%B8%AD%E4%B8%80%E4%BD%8D%E5%BA%94%E8%AF%A5%E6%98%AF%E7%A4%BE%E5%8C%BA%E7%BB%B4%E6%8A%A4%E8%80%85%EF%BC%8C%E6%9B%B4%E6%98%AF%E8%AF%B4%E5%87%BA" target="_blank" rel="noopener noreferrer">https://github.com/spring-projects/spring-data-commons/issues/2987ï¼Œå…¶ä¸­ä¸€ä½åº”è¯¥æ˜¯ç¤¾åŒºç»´æŠ¤è€…ï¼Œæ›´æ˜¯è¯´å‡º</a> Pageable ä»æœªæ‰“ç®—è¢«åºåˆ—åŒ–ã€‚ğŸ¥²</p>
<p><img decoding="async" loading="lazy" alt="Spring Data ç¤¾åŒºå›å¤" src="https://yuluo-yx.github.io/assets/images/1-1e8154dc659932c9d39973427430cfe3.png" width="1232" height="298" class="img_c29J"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="ä¿®å¤">ä¿®å¤<a href="https://yuluo-yx.github.io/blog/case-by-unit-test#%E4%BF%AE%E5%A4%8D" class="hash-link" aria-label="ä¿®å¤çš„ç›´æ¥é“¾æ¥" title="ä¿®å¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ç¡®å®šäº†é—®é¢˜ä¹‹åï¼Œå¯»æ‰¾ä¿®å¤çš„åŠæ³•ã€‚</p>
<p>æ ¹æ®ç¤¾åŒº issue è¿›å±•ï¼Œæ€»å…±æœ‰ä¸¤ç§ä¿®å¤åŠæ³•ï¼š</p>
<ol>
<li>
<p>é€šè¿‡ PageImpl é‡æ–°åŒ…è£… Page å¯¹è±¡ï¼š</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token class-name" style="color:hsl(35, 99%, 36%)">Pageable</span><span class="token plain"> pageable </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">PageRequest</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">of</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">PageImpl</span><span class="token plain"> page </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">PageImpl</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">myArraylist</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> pageable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> myArraylist</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">size</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>å°† <strong>SpringDataJacksonConfiguration.PageModule</strong> æ·»åŠ åˆ° <strong>Jackson2ObjectMapperBuilder</strong></p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Bean</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Jackson2ObjectMapperBuilder</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">objectMapperBuilder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">SpringDataJacksonConfiguration</span><span class="token class-name punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">PageModule</span><span class="token plain"> pageModule</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Jackson2ObjectMapperBuilder</span><span class="token plain"> builder </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Jackson2ObjectMapperBuilder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       builder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">modules</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">pageModule</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> builder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="Spring Data JPA" term="Spring Data JPA"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Spring Boot Web åº”ç”¨è¯·æ±‚æ•…éšœæ’æŸ¥]]></title>
        <id>https://yuluo-yx.github.io/blog/spring-boot-web-app-request-debug</id>
        <link href="https://yuluo-yx.github.io/blog/spring-boot-web-app-request-debug"/>
        <updated>2024-08-01T16:09:46.000Z</updated>
        <summary type="html"><![CDATA[çº¿ä¸Šæ¥å£å“åº”å¤ªæ…¢ï¼ŒSpring Boot + å†…åµŒçš„ Tomcat æœåŠ¡å™¨ï¼ŒTomcat å¤„ç†è¯·æ±‚çš„æœ€å¤§çº¿ç¨‹æ•°æ™®é€šæƒ…å†µæ˜¯ 150 å·¦å³ï¼Œæœ€å¤§æ˜¯ 200ï¼Œæ‰€ä»¥å½“åŒæ—¶å¤„ç†çš„è¯·æ±‚è¿‡å¤šï¼Œå¹¶ä¸”æ¯ä¸ªè¯·æ±‚ä¸€ç›´æ²¡æœ‰å¤„ç†å®Œæˆã€‚æ‰€æœ‰çš„çº¿ç¨‹éƒ½åœ¨ç¹å¿™ï¼Œæ²¡æœ‰åŠæ³•å¤„ç†æ–°çš„è¯·æ±‚ï¼Œå°±ä¼šå¯¼è‡´æ–°çš„è¯·æ±‚æ’é˜Ÿç­‰å¾…å¤„ç†ï¼Œä»è€Œé€ æˆäº†è¿Ÿè¿Ÿæ— æ³•å“åº”çš„çº¿ä¸Šäº‹æ•…ï¼Œç”¨æˆ·ä½“éªŒå¤ªå·®ã€‚]]></summary>
        <content type="html"><![CDATA[<p>çº¿ä¸Šæ¥å£å“åº”å¤ªæ…¢ï¼ŒSpring Boot + å†…åµŒçš„ Tomcat æœåŠ¡å™¨ï¼ŒTomcat å¤„ç†è¯·æ±‚çš„æœ€å¤§çº¿ç¨‹æ•°æ™®é€šæƒ…å†µæ˜¯ 150 å·¦å³ï¼Œæœ€å¤§æ˜¯ 200ï¼Œæ‰€ä»¥å½“åŒæ—¶å¤„ç†çš„è¯·æ±‚è¿‡å¤šï¼Œå¹¶ä¸”æ¯ä¸ªè¯·æ±‚ä¸€ç›´æ²¡æœ‰å¤„ç†å®Œæˆã€‚æ‰€æœ‰çš„çº¿ç¨‹éƒ½åœ¨ç¹å¿™ï¼Œæ²¡æœ‰åŠæ³•å¤„ç†æ–°çš„è¯·æ±‚ï¼Œå°±ä¼šå¯¼è‡´æ–°çš„è¯·æ±‚æ’é˜Ÿç­‰å¾…å¤„ç†ï¼Œä»è€Œé€ æˆäº†è¿Ÿè¿Ÿæ— æ³•å“åº”çš„çº¿ä¸Šäº‹æ•…ï¼Œç”¨æˆ·ä½“éªŒå¤ªå·®ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åœºæ™¯å¤ç°">åœºæ™¯å¤ç°<a href="https://yuluo-yx.github.io/blog/spring-boot-web-app-request-debug#%E5%9C%BA%E6%99%AF%E5%A4%8D%E7%8E%B0" class="hash-link" aria-label="åœºæ™¯å¤ç°çš„ç›´æ¥é“¾æ¥" title="åœºæ™¯å¤ç°çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä¸€ä¸ªç®€å•çš„ controller æ¥å£</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RestController</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">SpringBootController</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@GetMapping</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"/"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">index</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">throws</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">InterruptedException</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// æ¯ä¸ªçº¿ç¨‹éƒ½ç¡çœ ï¼Œæ¨¡æ‹Ÿä¸šåŠ¡æ¥å£å“åº”æ…¢çš„é—®é¢˜</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Thread</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">sleep</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">60</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">30</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1000</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">System</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"current thread: "</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Thread</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">currentThread</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"Hello Spring Boot!"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>éšåè®¾ç½® tomcat æœåŠ¡å™¨çš„æœ€å¤§çº¿ç¨‹ä¸º 5 ï¼š</p>
<div class="language-yml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-yml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token key atrule" style="color:hsl(35, 99%, 36%)">server</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">port</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">tomcat</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">threads</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">max</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">spring</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">application</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> simple</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">application</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æµ‹è¯•">æµ‹è¯•<a href="https://yuluo-yx.github.io/blog/spring-boot-web-app-request-debug#%E6%B5%8B%E8%AF%95" class="hash-link" aria-label="æµ‹è¯•çš„ç›´æ¥é“¾æ¥" title="æµ‹è¯•çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä¹‹åæˆ‘ä»¬åœ¨å•å…ƒæµ‹è¯•ä¸­æ¨¡æ‹Ÿ 10 ä¸ªçº¿ç¨‹å¯¹æ¥å£å‘èµ·è¯·æ±‚</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">RequestTest</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">static</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">main</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"> args</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> i </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> i </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> i</span><span class="token operator" style="color:hsl(221, 87%, 60%)">++</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Thread</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">RequestTask</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">start</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">static</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">RequestTask</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">implements</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Runnable</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">void</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">run</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">URL</span><span class="token plain"> url </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">URL</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"http://localhost:8080/"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HttpURLConnection</span><span class="token plain"> connection </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">HttpURLConnection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> url</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">openConnection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    connection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">setRequestMethod</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"GET"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> responseCode </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> connection</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getResponseCode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">System</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">out</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"Response Code: "</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> responseCode</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">IOException</span><span class="token plain"> e</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    e</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">printStackTrace</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ³¨é‡Šæ‰ controller ä¸­çš„ç¡çœ ä»£ç ï¼Œè¿è¡Œæµ‹è¯•å¾—åˆ°ä»¥ä¸‹çš„è¾“å‡ºï¼š</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">spring boot web åº”ç”¨å“åº”è¾“å‡ºï¼š</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token number" style="color:hsl(35, 99%, 36%)">2024</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">08</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">01</span><span class="token constant" style="color:hsl(35, 99%, 36%)">T15</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">56</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">25.369</span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token number" style="color:hsl(35, 99%, 36%)">08</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">00</span><span class="token plain">  </span><span class="token constant" style="color:hsl(35, 99%, 36%)">INFO</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">7304</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">--</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">simple</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">application</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">nio</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">8080</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">exec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"> </span><span class="token class-name namespace" style="color:hsl(35, 99%, 36%)">o</span><span class="token class-name namespace punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name namespace" style="color:hsl(35, 99%, 36%)">s</span><span class="token class-name namespace punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name namespace" style="color:hsl(35, 99%, 36%)">web</span><span class="token class-name namespace punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name namespace" style="color:hsl(35, 99%, 36%)">servlet</span><span class="token class-name namespace punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">DispatcherServlet</span><span class="token plain">        </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Completed</span><span class="token plain"> initialization in </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> ms</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">current thread</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> http</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">nio</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">8080</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">exec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">current thread</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> http</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">nio</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">8080</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">exec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">current thread</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> http</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">nio</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">8080</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">exec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">current thread</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> http</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">nio</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">8080</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">exec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">current thread</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> http</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">nio</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">8080</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">exec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">current thread</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> http</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">nio</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">8080</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">exec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">current thread</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> http</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">nio</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">8080</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">exec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">current thread</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> http</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">nio</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">8080</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">exec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">current thread</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> http</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">nio</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">8080</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">exec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">current thread</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> http</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">nio</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">8080</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token plain">exec</span><span class="token operator" style="color:hsl(221, 87%, 60%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">æµ‹è¯•è¾“å‡ºï¼š</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Response</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Code</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Response</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Code</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Response</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Code</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Response</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Code</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Response</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Code</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Response</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Code</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Response</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Code</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Response</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Code</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Response</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Code</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Response</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Code</span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">200</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æˆ‘ä»¬çœ‹åˆ°çº¿ç¨‹åœ¨å“åº”è¾“å‡ºã€‚æ¥ä¸‹æ¥ï¼Œæ‰“å¼€æ³¨é‡Šä»£ç ï¼Œæ¨¡æ‹Ÿäº‹æ•…ç°åœºã€‚å°†ä¼šåœ¨æ§åˆ¶å°çœ‹ä¸åˆ°ä»»ä½•è¾“å‡ºï¼Œæµ‹è¯•æ–¹æ³•ä¹Ÿä¼šå¡ä½ä¸åŠ¨ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ’æŸ¥">æ’æŸ¥<a href="https://yuluo-yx.github.io/blog/spring-boot-web-app-request-debug#%E6%8E%92%E6%9F%A5" class="hash-link" aria-label="æ’æŸ¥çš„ç›´æ¥é“¾æ¥" title="æ’æŸ¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>æˆ‘ä»¬ä½¿ç”¨ JVM çš„ä¸€äº›å‘½ä»¤æ¥è¿›è¡Œæ’æŸ¥ï¼š</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># é¦–å…ˆæŸ¥çœ‹ java çš„è¿›ç¨‹ id</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">C:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain">Administrator</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain">jps </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-l</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token number" style="color:hsl(35, 99%, 36%)">18400</span><span class="token plain"> indi.yuluo.tomcat.SpringBootApplication</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token number" style="color:hsl(35, 99%, 36%)">10324</span><span class="token plain"> jdk.jcmd/sun.tools.jps.Jps</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token number" style="color:hsl(35, 99%, 36%)">16872</span><span class="token plain"> org.jetbrains.jps.cmdline.Launcher</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token number" style="color:hsl(35, 99%, 36%)">18072</span><span class="token plain"> org.jetbrains.idea.maven.server.RemoteMavenServer36</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token number" style="color:hsl(35, 99%, 36%)">9624</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token number" style="color:hsl(35, 99%, 36%)">7372</span><span class="token plain"> inid.yuluo.tomcat.RequestTest</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æˆ‘ä»¬çœ‹åˆ° SpringBootApplication å’Œ RequestTest åœ¨è¿è¡Œï¼Œä¹‹åä½¿ç”¨ jstack å‘½ä»¤ç”Ÿæˆçº¿ç¨‹å¿«ç…§ï¼Œå¹¶ä¿å­˜ä¸ºæ–‡ä»¶ã€‚</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">C:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain">Administrator</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain">jstack </span><span class="token number" style="color:hsl(35, 99%, 36%)">18400</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> C:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain">Administrator</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain">Desktop</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain">spring-boot-thread_dump.txt</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ‰“å¼€çº¿ç¨‹å¿«ç…§æ–‡ä»¶ï¼Œæœç´¢ <code>http-nio</code> å°±èƒ½çœ‹åˆ° Tomcat çš„è¯·æ±‚å¤„ç†çº¿ç¨‹ï¼Œæ‰€æœ‰çš„è¯·æ±‚å¤„ç†çº¿ç¨‹çŠ¶æ€éƒ½æ˜¯ <code>TIMED_WAITING</code> ï¼Œè¡¨ç¤ºçº¿ç¨‹æ­£åœ¨ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç‰¹å®šçš„åŠ¨ä½œï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæŒ‡å®šçš„ç­‰å¾…æ—¶é—´ã€‚è€Œä¸”èƒ½ç›´æ¥çœ‹åˆ°è¯·æ±‚æ˜¯é˜»å¡åœ¨äº†å“ªä¸ªä»£ç ä½ç½®ã€‚</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">"http-nio-8080-exec-2"</span><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)">#28 daemon prio=5 os_prio=0 cpu=0.00ms elapsed=187.14s tid=0x0000015ffe6089f0 nid=0x1ee4 waiting on condition  [0x00000026eb5fc000]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># `TIMED_WAITING`</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   java.lang.Thread.State: TIMED_WAITING </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">sleeping</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> at java.lang.Thread.sleep</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">java.base@17.0.1/Native Method</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># é˜»å¡ä½ç½®ï¼š</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> at indi.yuluo.tomcat.controller.SpringBootController.index</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">SpringBootController.java:18</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ<a href="https://yuluo-yx.github.io/blog/spring-boot-web-app-request-debug#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88" class="hash-link" aria-label="è§£å†³æ–¹æ¡ˆçš„ç›´æ¥é“¾æ¥" title="è§£å†³æ–¹æ¡ˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>é€‚å½“ä¿®æ”¹ Tomcat çš„æœ€å¤§çº¿ç¨‹æ•°ï¼Œå¯ä»¥å¢åŠ å¹¶å‘è¯·æ±‚çš„å¤„ç†èƒ½åŠ›ã€‚</p>
<p>é€‚å½“è°ƒå¤§ Tomcat çš„æœ€å°ç©ºé—²çº¿ç¨‹æ•°ï¼Œå¯ä»¥ç¡®ä¿åœ¨å¹¶å‘é«˜å³°æ—¶åˆ»ï¼ŒTomcat èƒ½è¿…é€Ÿå“åº”æ–°çš„è¯·æ±‚ï¼Œè€Œä¸éœ€è¦é‡æ–°åˆ›å»ºçº¿ç¨‹ã€‚</p>
<p>ä¿®æ”¹å€¼éœ€è¦å¯¹ç”¨æˆ·ä½“é‡åšå‡ºé¢„ä¼°ä¹‹åï¼Œè¿›è¡Œæµ‹è¯•ä¹‹åç¡®å®šã€‚</p>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="Spring Boot" term="Spring Boot"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[CocA 2024]]></title>
        <id>https://yuluo-yx.github.io/blog/coca-2024</id>
        <link href="https://yuluo-yx.github.io/blog/coca-2024"/>
        <updated>2024-07-28T22:13:42.000Z</updated>
        <summary type="html"><![CDATA[ä¸œæ–¹æ¬²æ™“ï¼Œæ—©æ—©èµ·åºŠã€‚å‡†å¤‡å°†è¿™ä¸‰å¤©çš„ CommunityOverCode Asia 2024 çš„å‚ä¼šç»å†è®°å½•ä¸€ä¸‹ã€‚ä¹Ÿç®—æ˜¯ä¸€æ¬¡éš¾å¾—çš„ç»å†ï¼Œä¸‹æ¬¡ä¸çŸ¥é“åˆ°ä»€ä¹ˆæ—¶å€™äº†ã€‚ï¼ˆPSï¼šå°é¢å›¾æ¥è‡ª @pil0txia çš„é…’åº—å¤–æ™¯ã€‚]]></summary>
        <content type="html"><![CDATA[<p>ä¸œæ–¹æ¬²æ™“ï¼Œæ—©æ—©èµ·åºŠã€‚å‡†å¤‡å°†è¿™ä¸‰å¤©çš„ CommunityOverCode Asia 2024 çš„å‚ä¼šç»å†è®°å½•ä¸€ä¸‹ã€‚ä¹Ÿç®—æ˜¯ä¸€æ¬¡éš¾å¾—çš„ç»å†ï¼Œä¸‹æ¬¡ä¸çŸ¥é“åˆ°ä»€ä¹ˆæ—¶å€™äº†ã€‚ï¼ˆPSï¼šå°é¢å›¾æ¥è‡ª <a href="https://www.pil0txia.com/" target="_blank" rel="noopener noreferrer">@pil0txia</a> çš„é…’åº—å¤–æ™¯ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="one-day">One Day<a href="https://yuluo-yx.github.io/blog/coca-2024#one-day" class="hash-link" aria-label="One Dayçš„ç›´æ¥é“¾æ¥" title="One Dayçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>è¿™ä¸€å®šæ˜¯ä¸‰å¤©å†…æœ€<code>å°´å°¬</code>çš„ä¸€å¤©ï¼Œå‰å¤©æ™šä¸Šå¤±çœ æ²¡ç¡ç€ã€‚ç¬¬äºŒå¤©æ—©ä¸Šèµ·æ¥è¿Ÿäº†ã€‚æ´—å—½äº†ä¸‹é€Ÿé€Ÿå‡ºé—¨ï¼Œåˆšåˆ°æ¥¼ä¸‹å‡†å¤‡å»åšåœ°é“ã€‚å±‹æ¼åé€¢è¿å¤œé›¨ï¼Œç«Ÿç„¶ä¸‹é›¨äº†ã€‚äºæ˜¯ä¹ï¼Œä¸Šå»æ‹¿äº†ä¸ªæŠŠä¼ã€‚ä¸€çœ‹æ—¶é—´ç«Ÿç„¶ä¹ç‚¹äº†ï¼Œæƒ³åˆ°å…«ç‚¹åŠå°±å¼€å§‹ç­¾åˆ°äº†ã€‚é‚åŸåœ°æ‰“è½¦...</p>
<p>åˆ°äº†ä¹‹åï¼Œæäº†ä¸€ä¸ªå‚ä¼šç‰Œå­ã€‚ç‰Œå­æ‹¿åˆ°æ‰‹é‡Œæ„Ÿè§‰çœŸä¸é”™ã€‚ğŸ˜†</p>
<p><img decoding="async" loading="lazy" alt="CocA 2024 å‚ä¼šç‰Œ" src="https://yuluo-yx.github.io/assets/images/11-6633ba55feb07f59348264c07aab8820.png" width="2084" height="2778" class="img_c29J"></p>
<p>å°è±¡ä¸­ï¼Œè¿›å»ä¹‹åï¼Œå·²ç»åˆ°äº† Craig åœ¨è®² Apache@25ã€‚å…¨ç¨‹è‹±è¯­ï¼Œå¬ç€è¿˜ä¸é”™ï¼Œæ¯”èµ·ä¹‹å‰ Api7 å®ä¹ çš„å°¼æ³Šå°”å’Œå°åº¦è€å“¥çš„æ–¹è¨€è‹±è¯­ï¼Œä¸çŸ¥é“å¥½äº†å¤šå°‘å€ã€‚ğŸ¥²</p>
<p>å‚ä¼šé€”ä¸­ï¼Œä¸ GSOC ç¾¤é‡Œçš„ <a href="https://www.pil0txia.com/" target="_blank" rel="noopener noreferrer">@pil0txia</a> èŠäº†èµ·æ¥ï¼Œç„¶åå°±è¿‡å»ä¸€èµ·åäº†ã€‚ä¹Ÿæ˜¯èŠäº†å¾ˆå¤šï¼ŒBut é‚£å¤©æ—©ä¸Šæ„Ÿå†’ï¼Œæˆ´äº†å£ç½©ï¼Œå¤šå¤šå°‘å°‘æœ‰ç‚¹å½±å“äº¤æµäº†ã€‚ä»¥è‡³äºä¹‹åçš„ä¸€å¤©ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æœ€åä¸€å¤©å¥½äº†ä¸å°‘ã€‚ç»ˆäºæ˜¯å–ä¸‹äº†å£ç½©ã€‚</p>
<p>ç¬¬ä¸€å¤©ä¸­åˆç»“æŸçš„æ—¶å€™ï¼Œå’Œ GSOC ç¾¤é‡Œçš„å°ä¼™ä¼´ä¸€èµ·æ‹äº†åˆç…§ï¼ˆå¿˜è®°æ²¡æœ‰æ‘˜å£ç½©...</p>
<p><img decoding="async" loading="lazy" alt="GSOC" src="https://yuluo-yx.github.io/assets/images/3-d2d7ae642f432eaffea9e78de0d8c34b.png" width="2604" height="1688" class="img_c29J"></p>
<p>ä¸‹åˆçš„åˆ†ä¼šåœºè®®é¢˜æ˜¯åœ¨ä¸€æ¥¼çš„å¾®æœåŠ¡å…é‡Œé¢ï¼Œä¹Ÿæ˜¯çœ‹åˆ°äº†ç†Ÿæ‚‰ä½†æ˜¯æ²¡æœ‰è§è¿‡é¢çš„å†›å“¥ï¼ˆåˆ˜å†›ï¼‰ã€‚å› ä¸ºæ²¡æœ‰è®¤å‡ºæ¥ï¼Œä»¥è‡³äºç¬¬äºŒå¤©æ‰å»æ‰“äº†æ‹›å‘¼ã€‚ç„¶ååŒ†åŒ†åˆ†å¼€ã€‚ï¼ˆæœ¬æ¥ä¹Ÿæ²¡å•¥äº‹æƒ…ï¼Œæ‰“æ‹›å‘¼ä¸å°å¿ƒçœ‹åˆ°äº†ç”µè„‘å±å¹•ï¼Œåœ¨å†™ä¸‹åˆ Spring Cloud Alibaba AI ã€ä¸‹æ–‡ç®€ç§° SCA AIã€‘ çš„ PPTã€‚çœ‹æ¥ä¹Ÿæ˜¯ä¸´æ—¶æŠ±ä½›è„šäº†ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="two-day">Two Day<a href="https://yuluo-yx.github.io/blog/coca-2024#two-day" class="hash-link" aria-label="Two Dayçš„ç›´æ¥é“¾æ¥" title="Two Dayçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ç¬¬äºŒå¤©ä¹Ÿç®—æ˜¯<code>ç‰¹æ®Š</code>çš„ç»å†ï¼Œæœ¬æ¥æƒ³å¤šç¡ä¼šã€‚æå‡ºæ‰‹æœºçœ‹ä¼šè®®æ—¥ç¨‹ï¼Œæ€ä¹ˆé˜¿é‡Œäº‘ä¸“åœºçš„ SCA AI æ¼”è®²åœ¨æ—©ä¸Šï¼Ÿemmm...</p>
<p>ç„¶ååŒ†åŒ†å»èµ¶åœ°é“ã€‚åˆ°äº†ä¹‹åï¼Œé—®äº†ä½•äº®ï¼Œæ—¶é—´æ”¹åˆ°ä¸‹åˆï¼Œè¿˜æ˜¯åœ¨ä¹‹å‰çš„å¾®æœåŠ¡å…ä¸¾è¡Œã€‚å¿ƒé‡Œéƒé—·ï¼Œå»åƒäº†é¥­ï¼Œæ‰¾äº†ä¸ªç©ºä¼šè®®å…æ‰“æ¸¸æˆåˆ°ä¸‹åˆä¸€ç‚¹ã€‚åˆçº¦ä¸Šäº† <a href="https://www.pil0txia.com/" target="_blank" rel="noopener noreferrer">@pil0txia</a> å»äºŒæ¥¼ç«™å°è–…äº†ä¸€è¢‹å­çºªå¿µå“ã€‚</p>
<p><img decoding="async" loading="lazy" alt="ç¬¬äºŒå¤©ç«™å°çºªå¿µå“" src="https://yuluo-yx.github.io/assets/images/12-b10d4c52a0208f8d13e9e024b9ba2700.jpg" width="1280" height="1707" class="img_c29J"></p>
<p>ä¸­é€”å’Œ <a href="https://www.pil0txia.com/" target="_blank" rel="noopener noreferrer">@pil0txia</a> ä¸€èµ·ï¼Œä»¥è‡³äºä¹Ÿè¢«å½“æˆäº†<code>å°çº¢ä¹¦çš„è€å¸ˆ</code>ã€‚ğŸ¤£</p>
<p>å®Œäº†ä¹‹åï¼Œèµ¶å»é˜¿é‡Œäº‘çš„ä¼šåœºï¼Œçœ‹å†›å“¥çš„ SCA AIã€‚æ²¡æƒ³åˆ°åˆæ¢äº†ä½ç½®...</p>
<p>æ‰¾åˆ°ä¼šè®®å…ä½ç½®ï¼Œè¿›å»åç€ï¼Œå†›å“¥å¯¹æˆ‘è¯´ï¼šä»Šå¤©è¿™ä¸ªæœ¬æ¥åº”è¯¥ä½ å»è®²ï¼ˆğŸ˜†ï¼‰æˆ‘å›ç­”è¯´èµ„å†ä¸å¤Ÿï¼Œèº«ä»½ä¸åˆé€‚ï¼Œè¿˜æ˜¯åº”è¯¥å†›å“¥è®²ã€‚ç„¶åä»”ç»†å¬å®Œäº† SCA AI çš„æ¼”è®²ï¼Œè™½ç„¶ SCA AI çš„ä»£ç æ˜¯æˆ‘å†™çš„ï¼Œä½†æ˜¯å¬å†›å“¥è®²ï¼Œä¹Ÿæ”¶è·å¾ˆå¤šã€‚ç‰¹åˆ«æ˜¯å¯¹ Spring AI æ¥å£çš„æŠ½è±¡è§£é‡Šã€‚å› ä¸ºåçš„é åï¼Œæ‹çš„ç…§ç‰‡ä¸æ¸…æ™°ï¼Œå°±ä¸æ”¾äº†æ¥å£ç…§ç‰‡äº†ã€‚</p>
<p><img decoding="async" loading="lazy" alt="å†›å“¥åœ¨è®² SCA AI" src="https://yuluo-yx.github.io/assets/images/4-5853c5cc664c22a390c758e95d1d741d.png" width="2772" height="2080" class="img_c29J"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="three-day">Three Day<a href="https://yuluo-yx.github.io/blog/coca-2024#three-day" class="hash-link" aria-label="Three Dayçš„ç›´æ¥é“¾æ¥" title="Three Dayçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ç¬¬ä¸‰å¤©å»çš„è¿Ÿäº†äº›ï¼Œåˆ°ä¼šåœºéƒ½ä¸¤ç‚¹äº†ã€‚ä¹Ÿæ˜¯é“äº†å¿ƒè¦åƒåˆ°ä¼šåœºçš„èŒ¶æ­‡ç‚¹å¿ƒã€‚åœ¨äºŒæ¥¼è½¬æ‚ äº†åŠä¸ªå°æ—¶ï¼Œæ—¶é—´åˆ°å°±å» room4 å‰é¢çš„åƒåˆ°äº†ã€‚ï¼ˆæŒºç²¾è‡´...</p>
<p><img decoding="async" loading="lazy" alt="èŒ¶æ­‡ç‚¹å¿ƒ" src="https://yuluo-yx.github.io/assets/images/5-977514beb922596ed4fef907440e40e7.png" width="1015" height="1106" class="img_c29J"></p>
<p>å› ä¸º <a href="https://www.pil0txia.com/" target="_blank" rel="noopener noreferrer">@pil0txia</a> åœ¨å¬ APISIX çš„æ¼”è®²ï¼Œå¸®ä»–æå‰æ‹¿äº†ä»½ã€‚ä¹‹åä¹Ÿæ˜¯ä¸€èµ·æ‹äº†å¼ åˆç…§ã€‚</p>
<p><img decoding="async" loading="lazy" alt="ç¬¬ä¸‰å¤©èŒ¶æ­‡åˆç…§" src="https://yuluo-yx.github.io/assets/images/7-1f106e51021e6333842fe81904fe78fc.png" width="4032" height="3024" class="img_c29J"></p>
<p>ä¸­é€”è¹­è¿›å» room4 æ‹äº†å¼ åˆ†ä¼šåœºåˆç…§ã€‚ğŸ¤£</p>
<p><img decoding="async" loading="lazy" alt="Gateway &amp;amp; observability ä¼šåœºåˆç…§" src="https://yuluo-yx.github.io/assets/images/8-bdda264337de87f56edac47b25984e39.png" width="2982" height="1986" class="img_c29J"></p>
<p>ä¹‹åé“–æœ´å¤§ä½¬è¯´ä»–ç¬¬ä¸‰å¤©è¦æ¥ï¼Œçœ‹äº†æ—¥ç¨‹ã€‚ç«Ÿç„¶ä¹Ÿåœ¨ room4 æ¼”è®²ã€‚çœŸå·§ï¼Œè¿›å»å¬äº†é“–æœ´åˆ†äº«çš„ <code>WebServe/Tomcat å¯è§‚æµ‹</code> è®®é¢˜ï¼Œä»‹ç»çš„æ˜¯ <code>Graalvm</code> åº”ç”¨çš„å¯è§‚æµ‹æ€§ï¼ŒæŠ€æœ¯æ€§æŒºå¼ºï¼Œè†œæ‹œä¸€æ³¢ï¼ğŸ˜†</p>
<p><img decoding="async" loading="lazy" alt="é“–æœ´å¯è§‚æµ‹æ€§æ¼”è®²" src="https://yuluo-yx.github.io/assets/images/9-73fec23a8c6f7050cd8421b0a8e4e761.png" width="2772" height="2080" class="img_c29J"></p>
<p>ç»“æŸäº†ä¹‹åï¼Œè¿‡å»åŠ äº†å¾®ä¿¡ã€‚ä¹‹åå‡ºå»èŠäº†ä¼šã€‚ä¸»è¦æ˜¯ SCA ç¤¾åŒºå’Œæ‰¾å·¥ä½œä¸Šï¼Œè¿˜æœ‰æ€ä¹ˆåœ¨å¼€æºå’Œæ—¥å¸¸çš„å·¥ä½œä¹‹é—´å‡è¡¡è‡ªå·±ã€‚å­¦åˆ°äº†ä¸å°‘ï¼ˆé“–æœ´å¤§ä½¬å’Œæˆ‘è„‘æµ·ä¸­è„‘è¡¥çš„æ ·å­å·®ä¸å¤šã€‚</p>
<p>èŠå®Œäº†ä¹‹åï¼Œ<a href="https://www.pil0txia.com/" target="_blank" rel="noopener noreferrer">@pil0txia</a> æ¥äº†ï¼Œæˆ‘è¯´æƒ³å’Œ Justin å»æ‹å¼ ç…§ã€‚ä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆå¼€å£ã€‚è‹±è¯­èƒ½å¬æ‡‚ä¸€äº›ï¼Œä½†æ˜¯è¯´ä¸å‡ºæ¥ï¼Œåœ¨ <a href="https://www.pil0txia.com/" target="_blank" rel="noopener noreferrer">@pil0txia</a> æ€‚æ¿ä¸‹ï¼Œå‡ºå»äº†å¤–é¢ã€‚æ•™äº†æˆ‘å‡ å¥ï¼Œè®©æˆ‘è¿™æ ·è¯´ã€‚ä½†æ˜¯çœŸä¸çŸ¥é“æ€ä¹ˆå¼€å£ï¼ˆå¯èƒ½æ˜¯å¤´ä¸€æ¬¡æ­£å¼åˆå¤–å›½äººè¯´è¯ï¼Œè¯´ä¸å‡ºå£ã€‚ç„¶åæˆ‘å‡†å¤‡è¿™æ ·è¯´ï¼š<code>hi, justin, Can I take a photo with you, very happy to meet you.</code>ã€‚æˆ‘è¿˜åœ¨æƒ³ï¼Œ<a href="https://www.pil0txia.com/" target="_blank" rel="noopener noreferrer">@pil0txia</a> å·²ç»æ‹‰ç€æˆ‘è¿‡å»äº†ï¼Œæœ‰ç‚¹å±€ä¿ƒã€‚æ‹å®Œä¹‹åï¼Œç–¯ç‹‚é“è°¢ç„¶åè·‘å¼€ã€‚ğŸ¥²</p>
<p><img decoding="async" loading="lazy" alt="å’Œ justin çš„åˆå½±" src="https://yuluo-yx.github.io/assets/images/10-84f574047ad0e4c5f1ee46278f7f62f3.png" width="2772" height="2080" class="img_c29J"></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="latest">latest<a href="https://yuluo-yx.github.io/blog/coca-2024#latest" class="hash-link" aria-label="latestçš„ç›´æ¥é“¾æ¥" title="latestçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>æœ€åï¼Œéå¸¸æ„Ÿè°¢é“–æœ´ï¼ˆé¥¶å­æ˜Šï¼‰å¤§ä½¬çš„ç¤¾åŒºèµåŠ©ç¥¨ï¼ˆå°±æ˜¯æ²¡æœ‰æåˆ° Apache çš„çŸ­è¢–ï¼Œå‚ä¼šæœ€é—æ†¾çš„äº‹æƒ…ï¼ï¼ï¼</p>
<p>æ„Ÿè°¢ Apache åŸºé‡‘ä¼šä¸»åŠæ–¹çš„åŠªåŠ›ï¼Œå°† CommunityOverCode åŠçš„å¦‚æ­¤ä¹‹å¥½ã€‚å¸Œæœ›ä¸‹æ¬¡æœ‰æœºä¼šèƒ½å¤Ÿç»§ç»­å‚ä¸ã€‚ä¹Ÿæ„Ÿè°¢æˆ‘è‡ªå·±ï¼ŒåŠªåŠ›æˆä¸º SCA çš„ committerã€‚èƒ½å¤Ÿè®¤è¯†é“–æœ´ï¼Œè·å¾—è¿™æ¬¡å‚ä¼šæœºä¼šã€‚</p>
<p>çƒ­çˆ± Codingï¼Œçƒ­çˆ±å¼€æºã€‚ä¸€ç›´å¸Œæœ›èƒ½å¤Ÿåœ¨è‡ªå·±ç†Ÿæ‚‰çš„é¢†åŸŸç•™ä¸‹ä¸€äº›ä¸œè¥¿ã€‚ä¹‹åä¼šç»§ç»­å‚ä¸å¼€æºï¼Œä¸‹ä¸€ä¸ªç›®æ ‡æˆä¸º Apache committerï¼Œè®¤è¯†æ›´å¤šå¿—åŒé“åˆçš„äººã€‚</p>
<p><img decoding="async" loading="lazy" alt="ä½™æ­å‚æ™šæ™¯è‰²" src="https://yuluo-yx.github.io/assets/images/13-78956921be753a72e926ddfbb0cba856.png" width="2772" height="2080" class="img_c29J"></p>
<br>
<div style="float:right"><p>æ­å·ä½™æ­ 2024/7/29</p></div>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="Apache" term="Apache"/>
        <category label="CocA" term="CocA"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ— é¢˜]]></title>
        <id>https://yuluo-yx.github.io/blog/life-run</id>
        <link href="https://yuluo-yx.github.io/blog/life-run"/>
        <updated>2024-07-24T22:28:38.000Z</updated>
        <summary type="html"><![CDATA[&emsp;&emsp; ä» 24 å¹´çš„ 5 æœˆä»½å¼€å§‹åˆ°ç°åœ¨ï¼Œä»å¤§å­¦æ¯•ä¸šçš„ä¸€ç³»åˆ—çäº‹åˆ°ç°åœ¨èº«å±…ä½™æ­æ‰¾å·¥ä½œçš„çª˜è¿«ã€‚æ— ç–‘å¯¹æˆ‘æ˜¯ä¸€ä¸ªå·¨å¤§çš„æŒ‘æˆ˜ã€‚ä¹‹å‰å·²ç»æ‰¾åˆ°äº†ä¸€ä¸ªç¨‹åºå‘˜çš„å·¥ä½œï¼Œä½†æ˜¯å› ä¸ºä¸€äº›ç‰¹æ®Šçš„åŸå› ã€‚æ—©æ—©çš„å°±è·‘è·¯äº†ã€‚äº‹å‡ºæœ‰å› ï¼Œä¹Ÿä¸å¥½å†å¤šå™è¿°äº›ä»€ä¹ˆï¼Œæˆ‘æ›´æ„¿æ„ç›¸ä¿¡è¿™æ˜¯å‘½ä¸­æ³¨å®šçš„äº‹æƒ…ã€‚å› ä¸ºåœ¨æˆ‘çš„è®°å¿†ä¸­ï¼Œæ¯æ¯åˆ°äº†æ¯•ä¸šçš„æ—¶å€™ï¼Œéƒ½ä¼šå‘ç”Ÿä¸€ä»¶å¯¹æˆ‘å½±å“å¾ˆå¤§çš„äº‹æƒ…ã€‚æ˜¾ç„¶ï¼Œè¿™æ¬¡æ¯•ä¸šä¹Ÿä¸ä¾‹å¤–ã€‚]]></summary>
        <content type="html"><![CDATA[<p>â€ƒâ€ƒ ä» 24 å¹´çš„ 5 æœˆä»½å¼€å§‹åˆ°ç°åœ¨ï¼Œä»å¤§å­¦æ¯•ä¸šçš„ä¸€ç³»åˆ—çäº‹åˆ°ç°åœ¨èº«å±…ä½™æ­æ‰¾å·¥ä½œçš„çª˜è¿«ã€‚æ— ç–‘å¯¹æˆ‘æ˜¯ä¸€ä¸ªå·¨å¤§çš„æŒ‘æˆ˜ã€‚ä¹‹å‰å·²ç»æ‰¾åˆ°äº†ä¸€ä¸ªç¨‹åºå‘˜çš„å·¥ä½œï¼Œä½†æ˜¯å› ä¸ºä¸€äº›ç‰¹æ®Šçš„åŸå› ã€‚æ—©æ—©çš„å°±è·‘è·¯äº†ã€‚äº‹å‡ºæœ‰å› ï¼Œä¹Ÿä¸å¥½å†å¤šå™è¿°äº›ä»€ä¹ˆï¼Œæˆ‘æ›´æ„¿æ„ç›¸ä¿¡è¿™æ˜¯å‘½ä¸­æ³¨å®šçš„äº‹æƒ…ã€‚å› ä¸ºåœ¨æˆ‘çš„è®°å¿†ä¸­ï¼Œæ¯æ¯åˆ°äº†æ¯•ä¸šçš„æ—¶å€™ï¼Œéƒ½ä¼šå‘ç”Ÿä¸€ä»¶å¯¹æˆ‘å½±å“å¾ˆå¤§çš„äº‹æƒ…ã€‚æ˜¾ç„¶ï¼Œè¿™æ¬¡æ¯•ä¸šä¹Ÿä¸ä¾‹å¤–ã€‚</p>
<p>â€ƒâ€ƒè¿™æ®µæ—¶é—´æ€»æ˜¯åœ¨æ‰¾å·¥ä½œï¼Œçœ‹ä¹¦ï¼Œå¼€æºä»£ç ä¸‰ä»¶äº‹æƒ…ä¸­å¾ªç¯å¾€å¤ï¼Œæ—¥å­ä¹Ÿä¸€å¤©å¤©çš„è¿‡å»ã€‚æ‰¾å·¥ä½œçš„äº‹æƒ…ä¹Ÿæ²¡æœ‰ä»»ä½•è¿›å±•ï¼Œå› ä¸ºæœ¬èº«å­¦å†æ²¡æœ‰ä»»ä½•ä¼˜åŠ¿åŠ ä¹‹ç°åœ¨è¿™ä¸ªç‰¹æ®Šçš„æ—¶é—´æ®µï¼Œå·¥ä½œæ›´éš¾æ‰¾äº†ã€‚</p>
<p>â€ƒâ€ƒå”¯äºŒèƒ½è®©æˆ‘æèµ·äº›å…´è¶£çš„äº‹æƒ…ï¼Œé™¤äº†ä»£ç å°±æ˜¯çœ‹ä¹¦ã€‚è¯»äº†ã€Šæ´»ç€ã€‹å’Œã€Šç“¦å°”ç™»æ¹–ã€‹ã€‚å°±æˆ‘çš„æ„Ÿå—æ¥è¯´ï¼Œè¿™ä¸¤æœ¬ä¹¦æœ‰ç€å¼‚æ›²åŒå·¥ä¹‹å¤„ã€‚éƒ½åœ¨è¯´ä¸€ä¸ªäººçš„äººç”Ÿã€‚</p>
<p>â€ƒâ€ƒã€Šæ´»ç€ã€‹ä¸­ï¼Œä½™åè€å¸ˆä»¥ç¬¬ä¸‰è€…çš„èº«ä»½ã€‚ä»ç¦è´µçš„å£ä¸­ï¼Œäº†è§£äº†ç¦è´µçš„ä¸€ç”Ÿã€‚ä»ä¸€ä¸ªåœ°ä¸»ï¼Œå†ç»å„ç§äººç”Ÿç»å†åˆ°æœ€åä¸€ä¸ªæ™®é€šçš„ç§åœ°äººï¼Œå†ç»ç£¨éš¾ã€‚ç¦è´µçš„ä¸€ç”Ÿï¼Œå‘äººæ·±çœï¼Œäººè¿™ä¸€ç”Ÿåˆ°åº•è¦æ´»å‡ºä¸ªä»€ä¹ˆæ ·å­æ¥ï¼Ÿè¿™ä¹Ÿæ˜¯æˆ‘åœ¨æƒ³çš„é—®é¢˜ã€‚æˆ‘å®¶åœ¨å¤§è¥¿åŒ—ï¼Œé‚£é‡Œçš„äººå°±æ€»æ˜¯æƒ³ç€è€ƒä¸ªæœ‰ç¼–åˆ¶çš„å·¥ä½œï¼Œå®‰å®‰ç¨³ç¨³ä¸€è¾ˆå­ã€‚åŒ…æ‹¬æˆ‘çš„çˆ¶äº²ä¹Ÿæ˜¯è¿™ç§æƒ³æ³•ã€‚æˆ‘ä¹Ÿæ—¶å¸¸åœ¨æƒ³ï¼Œæˆ‘åˆ°åº•æƒ³è¦æ€ä¹ˆæ ·çš„ç”Ÿæ´»ã€‚å¤§å­¦å­¦äº†å››å¹´çš„è®¡ç®—æœºï¼Œåˆ°å¤§å­¦æ¯•ä¸šï¼Œæ€€ç€å¯¹è®¡ç®—æœºæŠ€æœ¯çš„æ»¡è…”çƒ­è¡€ã€‚ç›´åˆ°å¦‚åœ¨ä»Šçš„è®¡ç®—æœºå°±ä¸šç¯å¢ƒä¸‹æ‰¾ä¸åˆ°ä¸€ä¸ªå¯ä»¥å®‰èº«ç«‹å‘½çš„å·¥ä½œã€‚è¿™æ®µæ—¶é—´é‡Œä¹Ÿå¯¹è‡ªå·±äº§ç”Ÿäº†åŠ¨æ‘‡ã€‚æˆ–è®¸å›å®¶é‡Œè€è€å®å®è€ƒä¸ªè€å¸ˆçš„ç¼–åˆ¶æ‰æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä½†æ˜¯å½“ä¸€ä¸ªå¹³å‡¡çš„è€å¸ˆï¼Œä¸€è¾ˆå­å°±è¿™æ ·ä¸‹å»ã€‚ä¸æ˜¯æˆ‘æƒ³è¦çš„ç”Ÿæ´»ã€‚å­¦äº†å‡ å¹´è®¡ç®—æœºï¼Œå¿ƒé‡Œä¹Ÿæœ‰ä¸€ä¸ªè®¡ç®—æœºçš„æ‰§å¿µï¼Œæƒ³åˆ›é€ äº›æœ‰ä»·å€¼çš„ä¸œè¥¿ï¼Œèƒ½è¢«è®¸å¤šäººç”¨çš„ä¸œè¥¿......</p>
<p>â€ƒâ€ƒã€Šç“¦å°”ç™»æ¹–ã€‹ä¸­ä½œè€…ä»¥è¶…ç„¶ç‰©å¤–çš„ç²¾ç¥çŠ¶æ€ï¼Œç‹¬å±…ç“¦å°”ç™»æ¹–ç•”ï¼Œå’Œå¤§è‡ªç„¶ä¸ºä¼´ã€‚æ¢ç´¢ç”Ÿå‘½çš„çœŸè°›ï¼Œèƒ½å¤Ÿæ„Ÿå—åˆ°ä½œè€…å†…å¿ƒçš„å¿ƒæ— æ—éª›ï¼Œå®é™è‡´è¿œã€‚ä»¥æˆ‘ç°åœ¨çš„ç²¾ç¥çŠ¶æ€ï¼ŒçŠ¹ä¸åŠä¹Ÿã€‚ç°åœ¨æ€»æ˜¯å†…å¿ƒå……æ»¡çƒ¦èº......</p>
<p>â€ƒâ€ƒæ¯å¤©çš„æ—¶é—´é™¤äº†åˆ·åˆ·çŸ­è§†é¢‘ï¼Œæ›´å¤šçš„æ—¶é—´èŠ±åœ¨äº†å†™ä»£ç ä¸Šã€‚è¿™ä¸€ä¸ªæœˆï¼Œç»™ apache çš„é¡¹ç›®æäº†è®¸å¤šå•å…ƒæµ‹è¯•çš„ prï¼Œå½“ç„¶ä¸èƒ½çº¯ç²¹çš„è¯´æ˜¯ä¸ºäº†çƒ­çˆ±å¼€æºï¼Œä¹Ÿå¤¹å¸¦ç€ä¸€äº›ç§å¿ƒï¼Œæƒ³æ··è¿›å» Apache ç¤¾åŒºï¼Œæå‡ä¸‹è‡ªå·±çš„è½¯å®åŠ›ã€‚ä½†æ˜¯æ›´å¤šçš„æ˜¯æƒ³ç•™ä¸‹ä¸€äº›è‡ªå·±çš„ç—•è¿¹ã€‚</p>
<p>â€ƒâ€ƒå¾€åç»§ç»­æ‰¾å·¥ä½œ......</p>
<hr>
<div style="float:right">2024/07/24 æ­å·ä½™æ­</div>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="éšç¬”" term="éšç¬”"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Windows ç”µè„‘éƒ¨ç½² ollama3 å¹¶å®‰è£… llama3]]></title>
        <id>https://yuluo-yx.github.io/blog/windows-deploy-ollama3-install-llama3</id>
        <link href="https://yuluo-yx.github.io/blog/windows-deploy-ollama3-install-llama3"/>
        <updated>2024-07-18T16:36:22.000Z</updated>
        <summary type="html"><![CDATA[éƒ¨ç½²ä¸­ä¸ºäº†å°½å¯èƒ½å‡å°‘å¯¹æœ¬åœ°ç¯å¢ƒçš„æ±¡æŸ“ï¼Œä½¿ç”¨ Docker å®‰è£…ï¼]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p>éƒ¨ç½²ä¸­ä¸ºäº†å°½å¯èƒ½å‡å°‘å¯¹æœ¬åœ°ç¯å¢ƒçš„æ±¡æŸ“ï¼Œä½¿ç”¨ Docker å®‰è£…ï¼</p>
</blockquote>
<p>github: <a href="https://github.com/ollama/ollama" target="_blank" rel="noopener noreferrer">https://github.com/ollama/ollama</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å‡†å¤‡éƒ¨ç½²æ–‡ä»¶">å‡†å¤‡éƒ¨ç½²æ–‡ä»¶<a href="https://yuluo-yx.github.io/blog/windows-deploy-ollama3-install-llama3#%E5%87%86%E5%A4%87%E9%83%A8%E7%BD%B2%E6%96%87%E4%BB%B6" class="hash-link" aria-label="å‡†å¤‡éƒ¨ç½²æ–‡ä»¶çš„ç›´æ¥é“¾æ¥" title="å‡†å¤‡éƒ¨ç½²æ–‡ä»¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<div class="language-yml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-yml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token key atrule" style="color:hsl(35, 99%, 36%)">version</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'3.8'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">services</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">ollama</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">volumes</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> ./models</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">/root/.ollama  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># å°†æœ¬åœ°æ–‡ä»¶å¤¹æŒ‚è½½åˆ°å®¹å™¨ä¸­çš„ /root/.ollama ç›®å½• ï¼ˆæ¨¡å‹ä¸‹è½½ä½ç½®ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">container_name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> ollama</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">pull_policy</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> always</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">tty</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:hsl(230, 8%, 24%);font-weight:bold">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">restart</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">stopped</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">image</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> ollama/ollama</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">ports</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> 11434</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">11434</span><span class="token plain">  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># Ollama API ç«¯å£</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">open-webui</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">build</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">context</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> .</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">args</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">         </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">OLLAMA_BASE_URL</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'/ollama'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">dockerfile</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> Dockerfile</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">image</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> ghcr.io/open</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">webui/open</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">webui</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">main</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">container_name</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> open</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">webui</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">volumes</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> ./open</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">webui</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">/app/backend/data  </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># å‰ç«¯é¡µé¢æ•°æ®æŒ‚è½½ä½ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">depends_on</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> ollama</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">ports</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> $</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain">OPEN_WEBUI_PORT</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token number" style="color:hsl(35, 99%, 36%)">3005</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token number" style="color:hsl(35, 99%, 36%)">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">environment</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'OLLAMA_BASE_URL=http://ollama:11434'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'WEBUI_SECRET_KEY='</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">extra_hosts</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">       </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain"> host.docker.internal</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain">host</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">gateway</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">restart</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">stopped</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¹‹åä½¿ç”¨ <code>docker compose up -d</code> ç­‰å¾…ä¸€æ®µæ—¶é—´ä¹‹åï¼Œdocker images pull æˆåŠŸã€‚å³å¯æ‰§è¡Œä¸‹ä¸€æ­¥ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="ä¸‹è½½-llm-æ¨¡å‹">ä¸‹è½½ LLM æ¨¡å‹<a href="https://yuluo-yx.github.io/blog/windows-deploy-ollama3-install-llama3#%E4%B8%8B%E8%BD%BD-llm-%E6%A8%A1%E5%9E%8B" class="hash-link" aria-label="ä¸‹è½½ LLM æ¨¡å‹çš„ç›´æ¥é“¾æ¥" title="ä¸‹è½½ LLM æ¨¡å‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>LLM æ¨¡å‹å‚è€ƒï¼š</p>
<table><thead><tr><th><strong>Model</strong></th><th><strong>Parameters</strong></th><th><strong>Size</strong></th><th><strong>Download</strong></th></tr></thead><tbody><tr><td>Llama 3</td><td>8B</td><td>4.7GB</td><td><code>ollama run llama3</code></td></tr><tr><td>qwen</td><td>4b</td><td>2.3G</td><td><code>ollama run qwen:4b</code></td></tr><tr><td>Llama 3</td><td>70B</td><td>40GB</td><td><code>ollama run llama3:70b</code></td></tr><tr><td>Phi-3</td><td>3,8B</td><td>2.3GB</td><td><code>ollama run phi3</code></td></tr><tr><td>Mistral</td><td>7B</td><td>4.1GB</td><td><code>ollama run mistral</code></td></tr><tr><td>Neural Chat</td><td>7B</td><td>4.1GB</td><td><code>ollama run neural-chat</code></td></tr><tr><td>Starling</td><td>7B</td><td>4.1GB</td><td><code>ollama run starling-lm</code></td></tr><tr><td>Code Llama</td><td>7B</td><td>3.8GB</td><td><code>ollama run codellama</code></td></tr><tr><td>Llama 2 Uncensored</td><td>7B</td><td>3.8GB</td><td><code>ollama run llama2-uncensored</code></td></tr><tr><td>LLaVA</td><td>7B</td><td>4.5GB</td><td><code>ollama run llava</code></td></tr><tr><td>Gemma</td><td>2B</td><td>1.4GB</td><td><code>ollama run gemma:2b</code></td></tr><tr><td>Gemma</td><td>7B</td><td>4.8GB</td><td><code>ollama run gemma:7b</code></td></tr><tr><td>Solar</td><td>10.7B</td><td>6.1GB</td><td><code>ollama run solar</code></td></tr></tbody></table>
<p>è¿™é‡Œé€‰æ‹©æœ€å°ä½“ç§¯ä¸”æœ€å¥½ç”¨çš„æ¨¡å‹ï¼š llama3:4b æ¨¡å‹ï¼Œqwen:4b æ¨¡å‹è´¨é‡å¾ˆå·®ã€‚</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ollama3 run llama3</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æˆåŠŸä¹‹åä¼šçœ‹åˆ°ä¸‹é¢è¿™æ ·ï¼š</p>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">root@c5e5ff20a533:/</span><span class="token comment" style="color:hsl(230, 4%, 64%)"># ollama run llama3</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">pulling manifest </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">pulling 6a0746a1ec1a</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">..</span><span class="token plain">. </span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain">% â–•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– </span><span class="token number" style="color:hsl(35, 99%, 36%)">4.7</span><span class="token plain"> GB                         </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">pulling 4fa551d4f938</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">..</span><span class="token plain">. </span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain">% â–•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  </span><span class="token number" style="color:hsl(35, 99%, 36%)">12</span><span class="token plain"> KB                         </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">pulling 8ab4849b038c</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">..</span><span class="token plain">. </span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain">% â–•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  </span><span class="token number" style="color:hsl(35, 99%, 36%)">254</span><span class="token plain"> B                         </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">pulling 577073ffcc6c</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">..</span><span class="token plain">. </span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain">% â–•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  </span><span class="token number" style="color:hsl(35, 99%, 36%)">110</span><span class="token plain"> B                         </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">pulling 3f8eb4da87fa</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">..</span><span class="token plain">. </span><span class="token number" style="color:hsl(35, 99%, 36%)">100</span><span class="token plain">% â–•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  </span><span class="token number" style="color:hsl(35, 99%, 36%)">485</span><span class="token plain"> B                         </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">verifying sha256 digest </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">writing manifest </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">removing any unused layers </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">success </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;&gt;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> ä½ å¥½</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ğŸ’– ä½ å¥½ï¼æˆ‘å¾ˆé«˜å…´åœ°çœ‹åˆ°ä½ çš„æ¶ˆæ¯ï¼ ğŸ˜Š</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;&gt;</span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> ä½ èƒ½ä»‹ç»ä¸‹è‡ªå·±å—</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ğŸ˜Š I</span><span class="token string" style="color:hsl(119, 34%, 47%)">'d be happy to introduce myself.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">My name is LLaMA, and I'</span><span class="token plain">m a large language model trained by Meta AI. I</span><span class="token string" style="color:hsl(119, 34%, 47%)">'m a computer program designed to understand and generate human-like text, so we can have </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">conversations like this one! ğŸ¤–</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">I was trained on a massive dataset of text from the internet, which allows me to learn about various topics, including history, science, culture, and more. This </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">training enables me to answer questions, provide information, and even engage in creative writing or storytelling.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">As a conversational AI, my goal is to assist and entertain users like you. I'</span><span class="token plain">m designed to be helpful, friendly, and respectful, so please feel </span><span class="token function" style="color:hsl(221, 87%, 60%)">free</span><span class="token plain"> to ask me </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">anything or share your thoughts with me</span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token plain"> ğŸ’¬</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸‹è½½åçš„æ¨¡å‹å°†è¢«æŒ‚è½½åˆ°åœ¨ <code>./models</code> æ–‡ä»¶ä¸­ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="è®¿é—®">è®¿é—®<a href="https://yuluo-yx.github.io/blog/windows-deploy-ollama3-install-llama3#%E8%AE%BF%E9%97%AE" class="hash-link" aria-label="è®¿é—®çš„ç›´æ¥é“¾æ¥" title="è®¿é—®çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä¸Šé¢å·²ç»ä»‹ç»äº†ä¸€ç§è®¿é—®æ–¹å¼ï¼Œé€šè¿‡ run çš„æ–¹å¼ã€‚ä¸‹é¢ä»‹ç»é€šè¿‡ web ui å’Œ api çš„æ–¹å¼è®¿é—®ã€‚</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="api">API<a href="https://yuluo-yx.github.io/blog/windows-deploy-ollama3-install-llama3#api" class="hash-link" aria-label="APIçš„ç›´æ¥é“¾æ¥" title="APIçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-shell codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-shell codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">curl</span><span class="token plain"> http://localhost:11434/api/generate </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-d</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'{</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    "model":"llama3",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    "prompt": "è¯·åˆ†åˆ«ç¿»è¯‘æˆä¸­æ–‡ã€éŸ©æ–‡ã€æ—¥æ–‡ -&gt; Meta Llama 3: The most capable openly available LLM to date",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    "stream": false</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">}'</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">curl</span><span class="token plain"> http://localhost:11434/api/chat </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-d</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">'{</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">  "model": "llama3",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">  "messages": [</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">      "role": "user",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">      "content": "why is the sky blue?"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">  ],</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">  "stream": true</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token string" style="color:hsl(119, 34%, 47%)">}'</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="web-ui">Web ui<a href="https://yuluo-yx.github.io/blog/windows-deploy-ollama3-install-llama3#web-ui" class="hash-link" aria-label="Web uiçš„ç›´æ¥é“¾æ¥" title="Web uiçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>æµè§ˆå™¨è®¿é—® localhost:3005å³å¯ã€‚</p>
<p><img decoding="async" loading="lazy" alt="image-20240718162933068" src="https://yuluo-yx.github.io/assets/images/ai-1-82e6e30934bba3b6abb8965c0b94c749.png" width="1237" height="472" class="img_c29J"></p>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="windows" term="windows"/>
        <category label="AI" term="AI"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Spring Cloud Alibaba AI å¿«é€Ÿä½“éªŒ]]></title>
        <id>https://yuluo-yx.github.io/blog/spring-cloud-alibaba-ai-use</id>
        <link href="https://yuluo-yx.github.io/blog/spring-cloud-alibaba-ai-use"/>
        <updated>2024-04-30T21:01:08.000Z</updated>
        <summary type="html"><![CDATA[Spring Cloud Alibaba AI å·²ç»è¿ç§»åˆ° Spring AI Alibaba.]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p><strong>Spring Cloud Alibaba AI å·²ç»è¿ç§»åˆ° Spring AI Alibaba.</strong></p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="spring-cloud-alibaba-ai-å¿«é€Ÿä½“éªŒ">Spring Cloud Alibaba AI å¿«é€Ÿä½“éªŒ<a href="https://yuluo-yx.github.io/blog/spring-cloud-alibaba-ai-use#spring-cloud-alibaba-ai-%E5%BF%AB%E9%80%9F%E4%BD%93%E9%AA%8C" class="hash-link" aria-label="Spring Cloud Alibaba AI å¿«é€Ÿä½“éªŒçš„ç›´æ¥é“¾æ¥" title="Spring Cloud Alibaba AI å¿«é€Ÿä½“éªŒçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p><a href="https://docs.spring.io/spring-ai/reference/0.8-SNAPSHOT/index.html" target="_blank" rel="noopener noreferrer">Spring AI</a> æ—¨åœ¨ç®€åŒ–åŒ…å«äººå·¥æ™ºèƒ½ç›¸å…³åŠŸèƒ½çš„åº”ç”¨ç¨‹åºçš„å¼€å‘ï¼Œé¿å…ä¸å¿…è¦çš„å¤æ‚æ€§ã€‚</p>
<p>Spring AI çš„æ ¸å¿ƒæ˜¯æä¾›æŠ½è±¡ï¼Œä½œä¸ºå¼€å‘ AI åº”ç”¨ç¨‹åºçš„åŸºç¡€ã€‚è¿™äº›æŠ½è±¡æœ‰å¤šç§å®ç°æ–¹å¼ï¼Œåªéœ€æå°‘çš„ä»£ç æ”¹åŠ¨å³å¯è½»æ¾å®ç°å„ä¸ªå¤§æ¨¡å‹ä¹‹é—´çš„åˆ‡æ¢ã€‚</p>
<p>Spring AI æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>æ”¯æŒæ‰€æœ‰ä¸»è¦æ¨¡å‹æä¾›å•†ï¼Œä¾‹å¦‚ OpenAIã€Microsoftã€Amazonã€Google å’Œ Huggingfaceã€‚</li>
<li>æ”¯æŒçš„æ¨¡å‹ç±»å‹åŒ…æ‹¬â€œèŠå¤©â€å’Œâ€œæ–‡æœ¬åˆ°å›¾åƒâ€ï¼Œè¿˜æœ‰æ›´å¤šæ¨¡å‹ç±»å‹æ­£åœ¨å¼€å‘ä¸­ã€‚</li>
<li>è·¨ AI æä¾›å•†çš„å¯ç§»æ¤ APIï¼Œç”¨äºèŠå¤©å’ŒåµŒå…¥æ¨¡å‹ã€‚æ”¯æŒåŒæ­¥å’Œæµ API é€‰é¡¹ã€‚è¿˜æ”¯æŒä¸‹æ‹‰è®¿é—®æ¨¡å‹ç‰¹å®šåŠŸèƒ½ã€‚</li>
<li>AI æ¨¡å‹è¾“å‡ºåˆ° POJO çš„æ˜ å°„ã€‚</li>
<li>æ”¯æŒæ‰€æœ‰ä¸»è¦çŸ¢é‡æ•°æ®åº“æä¾›å•†ï¼Œä¾‹å¦‚ Azure çŸ¢é‡æœç´¢ã€Chromaã€Milvusã€Neo4jã€PostgreSQL/PGVectorã€PineConeã€Qdrantã€Redis å’Œ Weaviate</li>
<li>è·¨ Vector Store æä¾›å•†çš„å¯ç§»æ¤ APIï¼ŒåŒ…æ‹¬åŒæ ·å¯ç§»æ¤çš„æ–°é¢–çš„ç±»ä¼¼ SQL çš„å…ƒæ•°æ®è¿‡æ»¤å™¨ APIã€‚</li>
<li>å‡½æ•°è°ƒç”¨</li>
<li>AI æ¨¡å‹å’Œå‘é‡å­˜å‚¨çš„ Spring Boot è‡ªåŠ¨é…ç½®å’Œå¯åŠ¨å™¨ã€‚</li>
<li>æ•°æ®å·¥ç¨‹çš„ ETL æ¡†æ¶</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="spring-cloud-alibaba-ai">Spring Cloud Alibaba AI<a href="https://yuluo-yx.github.io/blog/spring-cloud-alibaba-ai-use#spring-cloud-alibaba-ai" class="hash-link" aria-label="Spring Cloud Alibaba AIçš„ç›´æ¥é“¾æ¥" title="Spring Cloud Alibaba AIçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>Spring Cloud Alibaba AI ï¼ˆä»¥ä¸‹ç®€ç§° SCA AIï¼‰åŸºäº Spring AI 0.8.1 ç‰ˆæœ¬å®Œæˆé€šä¹‰ç³»åˆ—å¤§æ¨¡å‹çš„æ¥å…¥ã€‚</p>
<p>DashScopeçµç§¯æ¨¡å‹æœåŠ¡å»ºç«‹åœ¨ <em>æ¨¡å‹å³æœåŠ¡</em>ï¼ˆModel-as-a-Serviceï¼ŒMaaSï¼‰çš„ç†å¿µåŸºç¡€ä¹‹ä¸Šï¼Œå›´ç»•AIå„é¢†åŸŸæ¨¡å‹ï¼Œé€šè¿‡æ ‡å‡†åŒ–çš„APIæä¾›åŒ…æ‹¬æ¨¡å‹æ¨ç†ã€æ¨¡å‹å¾®è°ƒè®­ç»ƒåœ¨å†…çš„å¤šç§æ¨¡å‹æœåŠ¡ã€‚ã€‚</p>
<p>SCA AI ç›®å‰æ”¯æŒçš„æ¨¡å‹ä¸»è¦æœ‰ï¼šå¯¹è¯ã€æ–‡ç”Ÿå›¾ã€æ–‡ç”Ÿè¯­éŸ³ï¼Œæ›´å¤šåŠŸèƒ½ç‰¹æ€§æ­£åœ¨é€‚é…ä¸­ã€‚</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="å¿«é€Ÿä½“éªŒ">å¿«é€Ÿä½“éªŒ<a href="https://yuluo-yx.github.io/blog/spring-cloud-alibaba-ai-use#%E5%BF%AB%E9%80%9F%E4%BD%93%E9%AA%8C" class="hash-link" aria-label="å¿«é€Ÿä½“éªŒçš„ç›´æ¥é“¾æ¥" title="å¿«é€Ÿä½“éªŒçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åˆ›å»º-sca-ai-åº”ç”¨">åˆ›å»º SCA AI åº”ç”¨<a href="https://yuluo-yx.github.io/blog/spring-cloud-alibaba-ai-use#%E5%88%9B%E5%BB%BA-sca-ai-%E5%BA%94%E7%94%A8" class="hash-link" aria-label="åˆ›å»º SCA AI åº”ç”¨çš„ç›´æ¥é“¾æ¥" title="åˆ›å»º SCA AI åº”ç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>åœ¨ pom.xml ä¸­å¼•å…¥å¦‚ä¸‹ä¾èµ–é…ç½®ï¼š</p>
<div class="language-xml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-xml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">dependency</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">groupId</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">com.alibaba.cloud</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">groupId</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">artifactId</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">spring-cloud-starter-alibaba-ai</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">artifactId</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">dependency</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">dependencyManagement</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">dependencies</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">dependency</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">groupId</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">com.alibaba.cloud</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">groupId</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">artifactId</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">spring-cloud-alibaba-dependencies</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">artifactId</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">version</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">${spring.cloud.alibaba.version}</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">version</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">type</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">pom</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">type</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">scope</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">import</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">scope</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">dependency</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">dependencies</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">dependencyManagement</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">&lt;!-- å› ä¸º Spring AI è¿˜æ²¡æœ‰æ­£å¼å‘å¸ƒåˆ° maven ä»“åº“ï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ æ­¤é…ç½®é¡¹ ç›®å‰ maven ä»“åº“ä¸ºå‡çš„ã€‚</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">issueï¼šhttps://github.com/spring-projects/spring-ai/issues/537</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">--&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">repositories</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">repository</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">id</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">spring-milestones</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">id</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">name</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">Spring Milestones</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">name</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">url</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">https://repo.spring.io/milestone</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">url</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">snapshots</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">enabled</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">false</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">enabled</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">snapshots</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">repository</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">repository</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">id</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">spring-snapshots</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">id</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">name</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">Spring Snapshots</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">name</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">url</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">https://repo.spring.io/snapshot</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">url</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">releases</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token tag" style="color:hsl(5, 74%, 59%)">enabled</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain">false</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">enabled</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">releases</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">repository</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&lt;/</span><span class="token tag" style="color:hsl(5, 74%, 59%)">repositories</span><span class="token tag punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="api-key-é…ç½®">api-key é…ç½®<a href="https://yuluo-yx.github.io/blog/spring-cloud-alibaba-ai-use#api-key-%E9%85%8D%E7%BD%AE" class="hash-link" aria-label="api-key é…ç½®çš„ç›´æ¥é“¾æ¥" title="api-key é…ç½®çš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>åœ¨æ­£å¼å¼€å§‹ä½“éªŒä¹‹å‰ï¼Œéœ€è¦ç”³è¯·åˆ°æ¨¡å‹çš„ api-keyã€‚ç”³è¯·åœ°å€ï¼š<a href="https://help.aliyun.com/zh/dashscope/developer-reference/activate-dashscope-and-create-an-api-key" target="_blank" rel="noopener noreferrer">https://help.aliyun.com/zh/dashscope/developer-reference/activate-dashscope-and-create-an-api-key</a></p>
<p>æ‚¨å¯ä»¥é€šè¿‡ DashScope æä¾›çš„æ–¹å¼é…ç½® api-keyï¼ŒSCA AI å®Œå…¨å…¼å®¹ DashScope ç¯å¢ƒå˜é‡é…ç½® key çš„æ–¹å¼ï¼š<a href="https://help.aliyun.com/zh/dashscope/developer-reference/api-key-settings" target="_blank" rel="noopener noreferrer">https://help.aliyun.com/zh/dashscope/developer-reference/api-key-settings</a></p>
<p>å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡ SCA AI ä¸­æä¾›çš„å¦‚ä¸‹é…ç½®é¡¹é…ç½®ï¼š</p>
<div class="language-yml codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-yml codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token key atrule" style="color:hsl(35, 99%, 36%)">spring</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">cloud</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">ai</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">tongyi</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token comment" style="color:hsl(230, 4%, 64%)"># api-key setting:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token key atrule" style="color:hsl(35, 99%, 36%)">api-key</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"> sk</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">-</span><span class="token plain">xxxxxxxxxxxxxxxxxxx</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="èŠå¤©å¯¹è¯ä½“éªŒ">èŠå¤©å¯¹è¯ä½“éªŒ<a href="https://yuluo-yx.github.io/blog/spring-cloud-alibaba-ai-use#%E8%81%8A%E5%A4%A9%E5%AF%B9%E8%AF%9D%E4%BD%93%E9%AA%8C" class="hash-link" aria-label="èŠå¤©å¯¹è¯ä½“éªŒçš„ç›´æ¥é“¾æ¥" title="èŠå¤©å¯¹è¯ä½“éªŒçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<p>å®˜æ–¹ Exampleï¼š<a href="https://github.com/alibaba/spring-cloud-alibaba/tree/2023.x/spring-cloud-alibaba-examples/spring-cloud-ai-example" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/spring-cloud-alibaba/tree/2023.x/spring-cloud-alibaba-examples/spring-cloud-ai-example</a></p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ChatService</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// èŠå¤©å®¢æˆ·ç«¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">final</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ChatClient</span><span class="token plain"> chatClient</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// stream æµå¼å®¢æˆ·ç«¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">final</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StreamingChatClient</span><span class="token plain"> streamingChatClient</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Autowired</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ChatService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ChatClient</span><span class="token plain"> chatClient</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StreamingChatClient</span><span class="token plain"> streamingChatClient</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">this</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">chatClient </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> chatClient</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">this</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">streamingChatClient </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> streamingChatClient</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">normalCompletion</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> message</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Prompt</span><span class="token plain"> prompt </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Prompt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">UserMessage</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> chatClient</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">call</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">prompt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getResult</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getOutput</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getContent</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Map</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">streamCompletion</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> message</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StringBuilder</span><span class="token plain"> fullContent </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">StringBuilder</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  streamingChatClient</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">stream</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Prompt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">flatMap</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">chatResponse </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Flux</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">fromIterable</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">chatResponse</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getResults</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">map</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">content </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-&gt;</span><span class="token plain"> content</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getOutput</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getContent</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">doOnNext</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">fullContent</span><span class="token operator" style="color:hsl(221, 87%, 60%)">::</span><span class="token function" style="color:hsl(221, 87%, 60%)">append</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">last</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">map</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">lastContent </span><span class="token operator" style="color:hsl(221, 87%, 60%)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Map</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">of</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> fullContent</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">toString</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">block</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Map</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">of</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> fullContent</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">toString</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¹‹åï¼Œåˆ›å»º controller æ¥å£è°ƒç”¨ service æœåŠ¡ï¼š</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Autowired</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ChatService</span><span class="token plain"> chatService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@GetMapping</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"/example"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">completion</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestParam</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">value </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"message"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> defaultValue </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"Tell me a joke"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> message</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> chatService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">completion</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@GetMapping</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"/stream"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Map</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&lt;</span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token generics"> </span><span class="token generics class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token generics punctuation" style="color:hsl(119, 34%, 47%)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">streamCompletion</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestParam</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">value </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"message"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> defaultValue </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"è¯·å‘Šè¯‰æˆ‘è¥¿çº¢æŸ¿ç‚–ç‰›è…©æ€ä¹ˆåšï¼Ÿ"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> message</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> chatService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">streamCompletion</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä¸‹é¢è¿›è¡Œæ¥å£æµ‹è¯•ï¼š</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--get</span><span class="token plain">  --data-urlencode </span><span class="token string" style="color:hsl(119, 34%, 47%)">'message=Tell me a joke about a cow.'</span><span class="token plain"> http://localhost:8080/ai/example</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># è·å¾—çš„å“åº”å¦‚ä¸‹ï¼š</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Here's a classic cow joke </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> you:</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Why did the farmer separate the chicken and the sheep from the cows?</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Because he wanted to have eggs-clusive relationships with his hens</span><span class="token operator" style="color:hsl(221, 87%, 60%)">!</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ–‡ç”Ÿå›¾ä½“éªŒ">æ–‡ç”Ÿå›¾ä½“éªŒ<a href="https://yuluo-yx.github.io/blog/spring-cloud-alibaba-ai-use#%E6%96%87%E7%94%9F%E5%9B%BE%E4%BD%93%E9%AA%8C" class="hash-link" aria-label="æ–‡ç”Ÿå›¾ä½“éªŒçš„ç›´æ¥é“¾æ¥" title="æ–‡ç”Ÿå›¾ä½“éªŒçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ImagesService</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å›¾åƒç”Ÿæˆå®¢æˆ·ç«¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">final</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ImageClient</span><span class="token plain"> imageClient</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Autowired</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ImagesService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ImageClient</span><span class="token plain"> client</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">this</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">imageClient </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ImageResponse</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">genImg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> imgPrompt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">var</span><span class="token plain"> prompt </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ImagePrompt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">imgPrompt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> imageClient</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">call</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">prompt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ–‡ç”Ÿå›¾å¯¹åº”çš„ controller æ¥å£å¦‚ä¸‹ï¼š</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Autowired</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ImagesService</span><span class="token plain"> imagesService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@GetMapping</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"/img"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ImageResponse</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">genImg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestParam</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">value </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"prompt"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> defaultValue </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"Painting a picture of blue water and blue sky."</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> imgPrompt</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> imagesService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">genImg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">imgPrompt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ¥å£è°ƒç”¨ä½“éªŒï¼š</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">curl</span><span class="token plain"> http://localhost:8080/img?prompt</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">"ç¾å¥³"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># å“åº”æ•°æ®ä¸º base64 ç¼–ç å›¾ç‰‡å’Œå›¾ç‰‡ç½‘å€ï¼Œæ³¨æ„ï¼šå›¾ç‰‡ url åœ°å€æ˜¯æœ‰æœ‰æ•ˆæœŸçš„ã€‚</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ç‚¹å‡»åœ°å€æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç”Ÿæˆçš„ç¾å¥³å›¾ç‰‡ï¼š</p>
<p><img decoding="async" loading="lazy" alt="æ–‡ç”Ÿå›¾ä½“éªŒ" src="https://yuluo-yx.github.io/assets/images/audio-2fee96e871ac31a2c8e5714bcb990525.png" width="1024" height="1024" class="img_c29J"></p>
<h4 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ–‡ç”Ÿè¯­éŸ³ä½“éªŒ">æ–‡ç”Ÿè¯­éŸ³ä½“éªŒ<a href="https://yuluo-yx.github.io/blog/spring-cloud-alibaba-ai-use#%E6%96%87%E7%94%9F%E8%AF%AD%E9%9F%B3%E4%BD%93%E9%AA%8C" class="hash-link" aria-label="æ–‡ç”Ÿè¯­éŸ³ä½“éªŒçš„ç›´æ¥é“¾æ¥" title="æ–‡ç”Ÿè¯­éŸ³ä½“éªŒçš„ç›´æ¥é“¾æ¥">â€‹</a></h4>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">class</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">AudioService</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">final</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">SpeechClient</span><span class="token plain"> speechClient</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Autowired</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">AudioService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">SpeechClient</span><span class="token plain"> client</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">this</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">speechClient </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">genAudio</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> text</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">var</span><span class="token plain"> resWAV </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> speechClient</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">call</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">save</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">resWAV</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">SpeechSynthesisAudioFormat</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token constant" style="color:hsl(35, 99%, 36%)">WAV</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getValue</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// è¾…åŠ©æ–¹æ³•ï¼Œç”¨äºå°†æ¨¡å‹çš„å“åº”ä¿å­˜åˆ°æœ¬åœ°.</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">save</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">ByteBuffer</span><span class="token plain"> audio</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> type</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> currentPath </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">System</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">getProperty</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"user.dir"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">LocalDateTime</span><span class="token plain"> now </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">LocalDateTime</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">now</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">DateTimeFormatter</span><span class="token plain"> formatter </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">DateTimeFormatter</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">ofPattern</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"MM-dd-HH-mm-ss"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> fileName </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> currentPath </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">File</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">separator </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> now</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">format</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">formatter</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"."</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> type</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">File</span><span class="token plain"> file </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">File</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">fileName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">try</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">FileOutputStream</span><span class="token plain"> fos </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">FileOutputStream</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fos</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">write</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">audio</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">array</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Exception</span><span class="token plain"> e</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">new</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">RuntimeException</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> fileName</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>controller æ¥å£ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@Autowired</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">private</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">AudioService</span><span class="token plain"> audioService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@GetMapping</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"/audio"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">public</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">genAudio</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token annotation punctuation" style="color:hsl(119, 34%, 47%)">@RequestParam</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">value </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"prompt"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   defaultValue </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"ä½ å¥½ï¼ŒSpring Cloud Alibaba AI æ¡†æ¶ï¼"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token class-name" style="color:hsl(35, 99%, 36%)">String</span><span class="token plain"> prompt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> audioService</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">genAudio</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">prompt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è°ƒç”¨æ¥å£ä½“éªŒï¼š</p>
<div class="language-bash codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-bash codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">curl</span><span class="token plain"> http://localhost:8080/ai/audio?prompt</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">"ä½ å¥½ï¼Œäººå·¥æ™ºèƒ½ï¼"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># å“åº”å€¼ä¸ºä¿å­˜çš„éŸ³é¢‘è·¯å¾„ã€‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">D:</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain">open_sources</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain">sca-ai</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain">spring-ai</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">\</span><span class="token plain">04-29-22-44-22.wav</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240429224559288" src="https://yuluo-yx.github.io/assets/images/meinv-7b996533dcda8d56019fb6e53ad82c27.png" width="487" height="63" class="img_c29J"></p>
<p>è‡³æ­¤ï¼ŒSpring Cloud Alibaba AI æä¾›çš„ä¸‰ç§åŸºæœ¬åŠŸèƒ½å·²ç»ä½“éªŒå®Œæˆï¼Œåç»­æ‚¨è¿˜å¯ä»¥é€šè¿‡è®¾ç½®ä¸€äº›ä¸ªæ€§åŒ–çš„å‚æ•°æ¥ä½¿å¤§æ¨¡å‹ç”Ÿæˆå„ç§å„æ ·çš„å›¾ç‰‡å’ŒéŸ³é¢‘ç­‰ã€‚</p>
<p>æ›´å¤šé…ç½®é¡¹å¯ä»¥å‚è€ƒï¼š<a href="https://help.aliyun.com/zh/dashscope/developer-reference/api-details%E3%80%82%E7%A4%BE%E5%8C%BA%E7%9B%B8%E5%85%B3%E7%9A%84%E6%96%87%E6%A1%A3%E6%AD%A3%E5%9C%A8%E5%AE%8C%E5%96%84%EF%BC%8C%E6%9B%B4%E5%A4%9A%E5%8A%9F%E8%83%BD%E6%AD%A3%E5%9C%A8%E5%BC%80%E5%8F%91%E4%B8%AD%EF%BC%81" target="_blank" rel="noopener noreferrer">https://help.aliyun.com/zh/dashscope/developer-reference/api-detailsã€‚ç¤¾åŒºç›¸å…³çš„æ–‡æ¡£æ­£åœ¨å®Œå–„ï¼Œæ›´å¤šåŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼</a></p>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="AI" term="AI"/>
        <category label="Spring Cloud Alibaba" term="Spring Cloud Alibaba"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[2023 æ€»ç»“]]></title>
        <id>https://yuluo-yx.github.io/blog/2023-year-summary</id>
        <link href="https://yuluo-yx.github.io/blog/2023-year-summary"/>
        <updated>2024-02-03T21:39:54.000Z</updated>
        <summary type="html"><![CDATA[è¿™ä¼šåº”è¯¥ç®—æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ—¶é—´æ®µï¼Œè‡ªä»ä¸Šäº†å¤§å­¦ä»¥æ¥ã€‚ç¬¬ä¸€æ¬¡å‡ºé—¨åœ¨å¤–ï¼Œåœ¨ä¸´è¿‘å¹´å…³çš„æ—¶å€™ä¸€ä¸ªäººåç€10ä¸ªå°æ—¶çš„é«˜é“å›å®¶ã€‚ä¸Šå¤§å­¦çš„æ—¶å€™å› ä¸ºé«˜è€ƒå¤±åˆ©çš„åŸå› ï¼ŒæŠ¥äº†ä¸€æ‰€ç¦»å®¶è¿‘çš„å­¦æ ¡å»ä¸Šã€‚å¤§å­¦å››å¹´æ¥ï¼Œèµ°çš„æœ€è¿œçš„åœ°æ–¹å°±ç®—æ˜¯æ­å·äº†å§ã€‚å›å®¶æ„Ÿè§‰å¤§å®¶éƒ½åŒ†åŒ†å¿™å¿™çš„ï¼Œå¯¹æ¯”ç«è½¦ä¸Šçš„å½å½å–³å–³ï¼Œä¼¼ä¹é«˜é“å°‘äº†äº›è®¸äººæƒ…å‘³ã€‚ ä¸è¿‡è¿™ä¹Ÿå¥½ï¼Œå‘æ¥å–œæ¬¢å®‰é™çš„æˆ‘ï¼Œåœ¨è¿™ç§ç¯å¢ƒä¸‹æ„Ÿè§‰éå¸¸ä¸é”™ï¼Œé™¤äº†é«˜é“çš„å“„å“„å£°ã€‚çœ‹ç€ç”µè„‘ï¼Œé—²æ¥æ— äº‹ã€‚å‡†å¤‡å›é¡¾ä¸€ä¸‹æˆ‘çš„2023ï¼]]></summary>
        <content type="html"><![CDATA[<p>è¿™ä¼šåº”è¯¥ç®—æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ—¶é—´æ®µï¼Œè‡ªä»ä¸Šäº†å¤§å­¦ä»¥æ¥ã€‚ç¬¬ä¸€æ¬¡å‡ºé—¨åœ¨å¤–ï¼Œåœ¨ä¸´è¿‘å¹´å…³çš„æ—¶å€™ä¸€ä¸ªäººåç€10ä¸ªå°æ—¶çš„é«˜é“å›å®¶ã€‚ä¸Šå¤§å­¦çš„æ—¶å€™å› ä¸ºé«˜è€ƒå¤±åˆ©çš„åŸå› ï¼ŒæŠ¥äº†ä¸€æ‰€ç¦»å®¶è¿‘çš„å­¦æ ¡å»ä¸Šã€‚å¤§å­¦å››å¹´æ¥ï¼Œèµ°çš„æœ€è¿œçš„åœ°æ–¹å°±ç®—æ˜¯æ­å·äº†å§ã€‚å›å®¶æ„Ÿè§‰å¤§å®¶éƒ½åŒ†åŒ†å¿™å¿™çš„ï¼Œå¯¹æ¯”ç«è½¦ä¸Šçš„å½å½å–³å–³ï¼Œä¼¼ä¹é«˜é“å°‘äº†äº›è®¸äººæƒ…å‘³ã€‚ ä¸è¿‡è¿™ä¹Ÿå¥½ï¼Œå‘æ¥å–œæ¬¢å®‰é™çš„æˆ‘ï¼Œåœ¨è¿™ç§ç¯å¢ƒä¸‹æ„Ÿè§‰éå¸¸ä¸é”™ï¼Œé™¤äº†é«˜é“çš„å“„å“„å£°ã€‚çœ‹ç€ç”µè„‘ï¼Œé—²æ¥æ— äº‹ã€‚å‡†å¤‡å›é¡¾ä¸€ä¸‹æˆ‘çš„2023ï¼</p>
<p>æ•…äº‹çš„å¼€å¤´è¿˜æ˜¯å¾ˆç®€å•ï¼Œ23 å¹´æ˜¥èŠ‚è¿‡å®Œäº†ï¼ŒèƒŒç€åŒ…å»ä¸Šå­¦äº†ã€‚ç»è¿‡åŠå¹´å¤šçš„æ—¶é—´ã€‚ç»ˆäºç®—æ˜¯ç†¬åˆ°äº†å¤§ä¸‰æ¯•ä¸šï¼Œå¤§å››è¦å‡ºå»å®ä¹ äº†ã€‚</p>
<p>å½“æ—¶çš„å¿ƒæƒ…æ€ä¹ˆæè¿°å‘¢ï¼Ÿæœ‰å‘å¾€ï¼Œæœ‰æ†§æ†¬ä¹Ÿæœ‰æ‰¾ä¸åˆ°å·¥ä½œï¼Œé¢ä¸´çª˜å¢ƒï¼Œåœ¨å®¶å¾…ç€æ— æ‰€äº‹äº‹çš„æ‹…å¿ƒã€‚ç¡®å®æŒºå¿ƒæ…Œçš„ï¼Œå› ä¸ºå­¦æ ¡æœ¬æ¥ä¹Ÿä¸å ä¼˜åŠ¿ï¼Œå½“ä¸‹å¤§ç¯å¢ƒåˆå¾ˆå·®ã€‚</p>
<p>åæ¥ 7 æœˆä»½ï¼Œæ‰¾åˆ°äº†ç¬¬ä¸€ä»½å®ä¹ ï¼Œå†™ Java ï¼Œåš IDM ç³»ç»Ÿçš„å…¬å¸ï¼Œåœ¨è¥¿å®‰ã€‚å½“æ—¶è¢« PUA äº†ã€‚è®°å¿†å¾ˆæ¸…æ™°ï¼Œæˆ–è®¸æ¯ä¸ªäººéƒ½ PUA çš„å®šä¹‰ä¸åŒï¼Œåœ¨æˆ‘çš„è®¤çŸ¥ä¸­ï¼Œä»–å°±æ˜¯åœ¨ PUA æˆ‘ã€‚ç°åœ¨è¿™ä¸ªå¹´çºªï¼Œæ„æ°”é£å‘ï¼Œé£åæ­£èŒ‚ã€‚è°èƒ½å—å¾—äº†è¿™é¸Ÿæ°”ã€‚ç›´æ¥èƒŒåŒ…èµ°äººäº†ã€‚</p>
<p>å›å®¶å¾…äº†åŠä¸ªæœˆå·¦å³æ—¶é—´ï¼Œæ¥åˆ°äº†ç¬¬äºŒä»½å®ä¹ çš„é¢è¯•ï¼Œé¢è¯•è¿˜ç®—é¡ºåˆ©ï¼ŒæˆåŠŸè¿œç¨‹ä¸Šç­äº†ä¸¤ä¸ªæœˆæ—¶é—´ï¼Œä¸å¾—ä¸è¯´ï¼Œè¿œç¨‹ä¸Šç­è¿˜æ˜¯æŒºä¸é”™çš„ã€‚å·¥ä½œå†…å®¹ä¹Ÿæ˜¯æ¯”è¾ƒç¬¦åˆå¿ƒä¸­é¢„æœŸçš„ï¼Œå½“æ—¶æƒ³åšå¼€æºï¼Œæƒ³åšç‚¹æœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œæƒ³å¤šæ¥è§¦ä¸‹æ–°é²œçš„äººå’Œäº‹ã€‚ä½†æ˜¯è¿œç¨‹éšä¹‹è€Œæ¥çš„é—®é¢˜ä¹Ÿå¤šã€‚æ²Ÿé€šä¸åŠæ—¶ï¼Œæ²¡å‘ä¿ƒè¿›æ„Ÿæƒ…äº¤æµç­‰ç­‰ï¼Œé‡åˆ°å‚»é€¼è€æ¿ï¼Œå¯¹å‘˜å·¥é›¶ä¿¡ä»»é‚£å°±è¦å¦å¤–çœ‹å¾…äº†ã€‚ä¸èƒ½ä¸€è§†åŒä»ã€‚å¥½æ¯”äººå’Œäººä¹‹é—´ï¼Œè€æ¿å’Œè€æ¿ä¹‹é—´åŒºåˆ«ä¹Ÿæ˜¯æŒºå¤§çš„ã€‚éƒ½è¯´å¤§å‚ä¹‹é—´å¯¹å‘˜å·¥æœ‰èƒŒè°ƒï¼Œ<strong>å‘˜å·¥å¯¹å…¬å¸çš„èƒŒè°ƒä¹Ÿæ˜¯ç›¸å½“é‡è¦çš„ï¼ç†Ÿæ‚‰å…¬å¸çš„æ–‡åŒ–ï¼Œä»·å€¼è§‚ç­‰ç­‰ã€‚</strong></p>
<p>ä»ä¸Šä¸€å®¶å…¬å¸å®ä¹ ç¦»èŒä¹‹åï¼Œåœ¨å®¶å¾…äº†ä¸€ä¸ªå¤šæœˆæ—¶é—´ã€‚åæ¥ç»è€ä¹¡ä»‹ç»ï¼Œæ¥äº†æ­å·ã€‚åœ¨æ­å·å®ä¹ å·¥ä½œçš„è¿™æ®µæ—¶é—´ï¼Œè§åˆ°äº†æŒºå¤šä¸œè¥¿ï¼Œä¹Ÿç®—æ˜¯æˆ‘åˆ°ç›®å‰ä¸ºæ­¢å·¥ä½œæ—¶é—´æœ€é•¿çš„ä¸€å®¶å…¬å¸äº†ã€‚æ„Ÿè§¦å¾ˆå¤šï¼Œä¹Ÿæ„Ÿè°¢æˆ‘çš„è€ä¹¡æœ‹å‹ï¼Œæ˜¯ä»–ç»™äº†æˆ‘æœºä¼šã€‚ä¸ç„¶å¯èƒ½å°±è¦åœ¨å®¶å¾…ä¸€æ®µæ—¶é—´ï¼Œç­‰è¿‡å¹´äº†ã€‚å‰æ®µæ—¶é—´ç»™æˆ‘è¯´ï¼Œä»–è¦ç¦»èŒäº†ï¼Œæ²¡æœ‰æ“¦äº®çœ¼ç›çœ‹æ¸…æ¥šï¼Œè€½è¯¯äº†æˆ‘ã€‚å¿ƒæ€€æ„§ç–šçš„åè€Œæ˜¯æˆ‘äº†ï¼Œæœ¬æ¥é¢è¯•åˆ°äº†ä¸€å®¶ä¸é”™çš„å…¬å¸ï¼Œè¢«æˆ‘æ‹‰ç€åˆ°äº†è¿™æ¥ã€‚</p>
<p>è¿™åŠå¹´æ—¶é—´é‡Œç®—æ˜¯äººç”Ÿåˆ°ç›®å‰ä¸ºæ­¢ï¼Œç»å†çš„æœ€å¤šå˜æ•…çš„ä¸€å¹´ã€‚å‰å‰ååçš„é¢è¯•ï¼Œä¸‰æ¬¡å®ä¹ ç»å†ã€‚ç°åœ¨ä¸€ä¸ªäººåè½¦å›å®¶ä¹Ÿç®—æ˜¯åœ¨æˆ‘æ­£å¼å¼€å§‹ä¸ä¹…çš„äººç”Ÿä¸­åŠ ä¸Šäº†è‰²å½©é²œè‰³çš„ä¸€ç¬”ã€‚å¯¹è®¸å¤šäº‹æƒ…éƒ½æœ‰äº†ä¸ä¸€æ ·çš„çœ‹å¾…ã€‚æˆ–è®¸è¿™å°±æ˜¯æˆé•¿å§ï¼Œå“ˆå“ˆã€‚</p>
<p>äººç”Ÿéœ€è¦ä¸æ–­çš„å»ç»å†ï¼Œä¸æ–­è¯•é”™ã€‚æœ‰æ—¶å€™å¿ƒå¢ƒï¼ˆçœ‹å¾…äº‹æƒ…ï¼‰çš„å˜åŒ–ï¼Œå¾€å¾€æ˜¯åœ¨çœ‹æ¸…äº†ä¸€ä»¶äº‹æƒ…æˆ–è€…è‡ªå·±å»äº²èº«åšäº†ä¸€ä»¶äº‹æƒ…ä¹‹åã€‚åŒæ—¶ï¼Œä¹Ÿå¿ƒæ€€æ„Ÿæ©ã€‚æ„Ÿæ©é‡åˆ°çš„æ¯ä¸€ä¸ªäººï¼Œç»å†çš„æ¯ä¸€ä»¶äº‹ã€‚ä¸ç®¡æ˜¯å¥½äº‹ï¼Œåäº‹ï¼Œå¥½äººï¼Œåäººã€‚ä»–ä»¬æ‰©å±•äº†æˆ‘çš„è§†é‡ï¼Œä¸°å¯Œäº†æˆ‘çš„é˜…å†ï¼Œè®©æˆ‘è¿™åªäº•åº•ä¹‹è›™çœ‹åˆ°äº†æ›´å¤šä¸œè¥¿ï¼Œå€˜è‹¥æˆ‘å›ºæ­¥è‡ªå°åœ¨å®¶é‡Œå¾…ç€ï¼Œè¿™äº›ç»å†åˆåˆ°å“ªå»æ‰¾å‘¢ï¼Ÿ</p>
<p>å¸Œæœ›åœ¨ä¹‹åçš„æ—¶é—´ä¸­ï¼Œåšäº›æœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œæ‰¾åˆ°è‡ªå·±æ„Ÿå…´è¶£çš„äº‹ç‰©ã€‚æ‰¾ä¸åˆ°å·¥ä½œå°±å›å®¶å½“ä¸ªè®¡ç®—æœºè€å¸ˆï¼Œå¹³å¹³æ·¡æ·¡ç”Ÿæ´»ã€‚åšç‚¹è‡ªå·±å–œæ¬¢çš„äº‹æƒ…ã€‚å¯¹æœªæ¥çš„äº‹æƒ…è¿˜æ˜¯æŒºæœŸå¾…çš„å‘¢. ğŸ‰ğŸ‰</p>
<br>
<div style="float:right">2024/01/31 èŠœæ¹–è½¦ç«™</div>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="å¹´ç»ˆæ€»ç»“" term="å¹´ç»ˆæ€»ç»“"/>
        <category label="2023" term="2023"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[java-and-go/Golang-study]]></title>
        <id>https://yuluo-yx.github.io/blog/study-golang</id>
        <link href="https://yuluo-yx.github.io/blog/study-golang"/>
        <updated>2023-11-02T10:19:40.000Z</updated>
        <summary type="html"><![CDATA[æœ¬æ–‡ç« ä¸­è®°å½•ä¸€äº› Golang ä¸­çš„è¯­è¨€ç‰¹æ€§ï¼ŒåŒ…æ‹¬ init å‡½æ•°ï¼Œé¢å‘å¯¹è±¡ï¼Œdefer å…³é”®å­—ï¼Œå¹¶å‘ç¼–ç¨‹ç­‰ã€‚]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p>æœ¬æ–‡ç« ä¸­è®°å½•ä¸€äº› Golang ä¸­çš„è¯­è¨€ç‰¹æ€§ï¼ŒåŒ…æ‹¬ init å‡½æ•°ï¼Œé¢å‘å¯¹è±¡ï¼Œdefer å…³é”®å­—ï¼Œå¹¶å‘ç¼–ç¨‹ç­‰ã€‚</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="init-å‡½æ•°ä¸å¯¼åŒ…">init å‡½æ•°ä¸å¯¼åŒ…<a href="https://yuluo-yx.github.io/blog/study-golang#init-%E5%87%BD%E6%95%B0%E4%B8%8E%E5%AF%BC%E5%8C%85" class="hash-link" aria-label="init å‡½æ•°ä¸å¯¼åŒ…çš„ç›´æ¥é“¾æ¥" title="init å‡½æ•°ä¸å¯¼åŒ…çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<blockquote>
<p>initå‡½æ•°çš„æ‰§è¡Œæµç¨‹æ˜¯æ—©äºmainå‡½æ•°çš„ï¼Œå¦‚æœæƒ³åœ¨mainå‡½æ•°æ‰§è¡Œå‰åšä¸€äº›äº‹æƒ…ï¼Œå¯ä»¥åœ¨initå‡½æ•°ä¸­å»å®Œæˆ</p>
</blockquote>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">import (</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> "fmt",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    // .è¡¨ç¤º å¯¼å…¥å½“å‰åŒ…ä¸­çš„æ‰€æœ‰æ–¹æ³•åˆ°å½“å‰çš„åŒ…ä¸­ï¼Œç›´æ¥ä½¿ç”¨APIè°ƒç”¨ ä¸è¦è½»æ˜“ä½¿ç”¨ã€‚é¿å…æ–¹æ³•åé‡å¤ æ— æ³•è¯†åˆ«</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    . "html/template",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    // _ è¡¨ç¤º å¯¼å…¥å¹¶ä¸ä½¿ç”¨ ä½†æ˜¯ä¼šæ‰§è¡Œå½“å‰åŒ…çš„initæ–¹æ³•</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    _ "text/template",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    // myhttp ä½œä¸º"net/http"åŒ…çš„åˆ«å</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> myhttp "net/http"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">)</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æŒ‡é’ˆ">æŒ‡é’ˆ<a href="https://yuluo-yx.github.io/blog/study-golang#%E6%8C%87%E9%92%88" class="hash-link" aria-label="æŒ‡é’ˆçš„ç›´æ¥é“¾æ¥" title="æŒ‡é’ˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>Golang çš„æŒ‡é’ˆå’Œ C è¯­è¨€ç±»å‹ï¼Œç±»å‹æŒ‡é’ˆä¸èƒ½è¿›è¡Œåç§»å’Œè¿ç®—ï¼Œåªéœ€è¦è®°ä½ä¸¤ä¸ªç¬¦å·ï¼š<code>&amp;</code>ï¼ˆå–åœ°å€ï¼‰å’Œ<code>*</code>ï¼ˆæ ¹æ®åœ°å€å–å€¼ï¼‰</p>
<p>ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">var var-name *var-type</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// var-typeï¼š æŒ‡é’ˆç±»å‹</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// var-nameï¼šæŒ‡é’ˆå˜é‡å</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// æŒ‡å®šå˜é‡ä½œä¸ºä¸€ä¸ªæŒ‡é’ˆ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// ä»£è¡¨å–æŒ‡é’ˆçš„å€¼ï¼Œç›´æ¥è¾“å‡ºå˜é‡æ˜¯åœ°å€å€¼</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æŒ‡é’ˆäº¤æ¢æ•°å­—å€¼ç¤ºä¾‹ï¼š</p>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">package main</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">import "fmt"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func swap(pa *int, pb *int) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   var temp int</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   temp = *pa // temp = main::a</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   *pa = *pb  // main::a = main::b</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   *pb = temp // main::b = temp</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> var a int = 10</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> var b int = 20</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> var ia *int</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> ia = &amp;a</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> fmt.Printf("a = %v\n", a)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> fmt.Printf("&amp;a = %v\n", &amp;a)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> fmt.Printf("ia = %v\n", ia)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> fmt.Printf("*ia = %v\n", *ia)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> fmt.Println("----------------------------------")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> fmt.Println("a = ", a, "b = ", b)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> // swap</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> swap(&amp;a, &amp;b)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> fmt.Println("a = ", a, "b = ", b)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="defer-æ‰§è¡Œé¡ºåº">defer æ‰§è¡Œé¡ºåº<a href="https://yuluo-yx.github.io/blog/study-golang#defer-%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F" class="hash-link" aria-label="defer æ‰§è¡Œé¡ºåºçš„ç›´æ¥é“¾æ¥" title="defer æ‰§è¡Œé¡ºåºçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<blockquote>
<p>è¡¨ç¤ºä¸€ä¸ªå‡½æ•°åœ¨æ‰§è¡Œä¹‹åï¼Œç»“æŸä¹‹å‰æ‰§è¡Œçš„æ—¶æœºã€‚</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="golang-å‡½æ•°">golang å‡½æ•°<a href="https://yuluo-yx.github.io/blog/study-golang#golang-%E5%87%BD%E6%95%B0" class="hash-link" aria-label="golang å‡½æ•°çš„ç›´æ¥é“¾æ¥" title="golang å‡½æ•°çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>å‡½æ•°åœ¨goè¯­è¨€ä¸­æ˜¯ä¸€çº§å…¬æ°‘ï¼Œæ‰€æœ‰çš„åŠŸèƒ½å•å…ƒéƒ½å®šä¹‰åœ¨å‡½æ•°ä¸­ï¼Œå¯ä»¥é‡å¤ä½¿ç”¨ï¼Œå‡½æ•°åŒ…å«å‡½æ•°çš„åç§°ã€‚å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ï¼Œå…±åŒæ„æˆå‡½æ•°çš„ç­¾åï¼ˆsignatureï¼‰</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="goè¯­è¨€-å‡½æ•°ç‰¹æ€§"><strong>goè¯­è¨€ å‡½æ•°ç‰¹æ€§</strong><a href="https://yuluo-yx.github.io/blog/study-golang#go%E8%AF%AD%E8%A8%80-%E5%87%BD%E6%95%B0%E7%89%B9%E6%80%A7" class="hash-link" aria-label="goè¯­è¨€-å‡½æ•°ç‰¹æ€§çš„ç›´æ¥é“¾æ¥" title="goè¯­è¨€-å‡½æ•°ç‰¹æ€§çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<ul>
<li>
<p>æ™®é€šå‡½æ•°ï¼ŒåŒ¿åå‡½æ•°ï¼ˆæ²¡æœ‰åç§°çš„å‡½æ•°ï¼‰ï¼Œæ–¹æ³•ï¼ˆå®šä¹‰åœ¨structä¸Šçš„å‡½æ•°ï¼‰</p>
</li>
<li>
<p>ä¸å…è®¸å‡½æ•°é‡è½½ï¼Œä¸å…è®¸å‡½æ•°åŒå</p>
</li>
<li>
<p>å‡½æ•°ä¸èƒ½åµŒå¥—å‡½æ•°ï¼Œä½†å¯ä»¥åµŒå¥—åŒ¿åå‡½æ•°</p>
</li>
<li>
<p>å‡½æ•°æ˜¯ä¸€ä¸ªå€¼ï¼Œå¯ä»¥å°†å‡½æ•°èµ‹å€¼ç»™å˜é‡ï¼Œä½¿å¾—è¿™ä¸ªå˜é‡ä¹Ÿæˆä¸ºå‡½æ•°</p>
</li>
<li>
<p>å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°</p>
</li>
<li>
<p>å‡½æ•°çš„è¿”å›å€¼å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°</p>
</li>
<li>
<p>å‡½æ•°å‚æ•°å¯ä»¥æ²¡æœ‰åç§°</p>
</li>
<li>
<p>å‡½æ•°åœ¨ä¼ é€’å‚æ•°çš„æ—¶å€™ï¼Œä¼šå…ˆæ‹·è´å‚æ•°çš„å‰¯æœ¬ï¼Œå†å°†å‰¯æœ¬ä¼ é€’ç»™å‡½æ•°</p>
<div class="language-java codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-java codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func </span><span class="token function" style="color:hsl(221, 87%, 60%)">test</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">name string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> age </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    name </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> yuluo</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    age </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å˜é•¿å‚æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func </span><span class="token function" style="color:hsl(221, 87%, 60%)">f3</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">args</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> _</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> v </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> range args </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token class-name namespace" style="color:hsl(35, 99%, 36%)">fmt</span><span class="token class-name namespace punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token class-name" style="color:hsl(35, 99%, 36%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"v := %d "</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å‡½æ•°ç±»å‹å®šä¹‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func </span><span class="token function" style="color:hsl(221, 87%, 60%)">sum</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">a </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> b </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> a </span><span class="token operator" style="color:hsl(221, 87%, 60%)">+</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func </span><span class="token function" style="color:hsl(221, 87%, 60%)">max</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">a</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> b </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> a </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> b </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func </span><span class="token function" style="color:hsl(221, 87%, 60%)">main</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token function" style="color:hsl(221, 87%, 60%)">f3</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">3</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">4</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">7</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">8</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token function" style="color:hsl(221, 87%, 60%)">f3</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">3</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">4</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å®šä¹‰å‡½æ•°ç±»å‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    type f1 </span><span class="token function" style="color:hsl(221, 87%, 60%)">func</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">int</span><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">var</span><span class="token plain"> ff f1</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// èµ‹å€¼å‡½æ•°ç±»å‹çš„å˜é‡</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    ff </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> sum</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">ff</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    ff </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> max</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    ff </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">max</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="golang-é«˜é˜¶å‡½æ•°"><strong>golang é«˜é˜¶å‡½æ•°</strong><a href="https://yuluo-yx.github.io/blog/study-golang#golang-%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0" class="hash-link" aria-label="golang-é«˜é˜¶å‡½æ•°çš„ç›´æ¥é“¾æ¥" title="golang-é«˜é˜¶å‡½æ•°çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼è¿”å›</p>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">package main</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func sayHello(name string) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt.Println("Hello, %s" + name)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">//å‡½æ•°ä½œä¸ºå‚æ•°</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func f1(name string, f func(string)) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    f(name)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func add(a, b int) int {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    return a + b</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func sub(a, b int) int {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    return a - b</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func operation(op string) func(int, int) int {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> switch op {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> case "+":</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  return add</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> case "-":</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  return sub</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> default:</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  return nil</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    // å‡½æ•°ä½œä¸ºå‚æ•°</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    f1("yuluo", sayHello)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    // å‡½æ•°ä½œä¸ºè¿”å›å€¼</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    ff := operation("+")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    r := ff(1, 2)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt.Println(r)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    ff := operation("-")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    r := ff(1, 2)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt.Println(r)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="golangåŒ¿åå‡½æ•°"><strong>golangåŒ¿åå‡½æ•°</strong><a href="https://yuluo-yx.github.io/blog/study-golang#golang%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0" class="hash-link" aria-label="golangåŒ¿åå‡½æ•°çš„ç›´æ¥é“¾æ¥" title="golangåŒ¿åå‡½æ•°çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>golangå‡½æ•°ä¸èƒ½åµŒå¥—ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰åŒ¿åå‡½æ•°ï¼Œå®ç°ç®€å•åŠŸèƒ½çš„è°ƒç”¨</p>
<div class="language-go codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-go codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">è¯­æ³•ï¼š</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">func</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">å‚æ•°åˆ—è¡¨</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">è¿”å›å€¼</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ä¹Ÿå¯ä»¥æ²¡æœ‰å‚æ•°å’Œè¿”å›å€¼</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">func</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">main</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// æ­¤å¤„æ²¡æœ‰å‡½æ•°åç§° func max(a, b int) int {}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    max </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">func</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">a</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> b </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">int</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> a </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> b </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    r </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:=</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">max</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">r</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// è‡ªå·±è°ƒç”¨è‡ªå·±</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    r </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">func</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">a</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> b </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">int</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">if</span><span class="token plain"> a </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&gt;</span><span class="token plain"> b </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">            </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">return</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">r</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="golang-é—­åŒ…"><strong>golang é—­åŒ…</strong><a href="https://yuluo-yx.github.io/blog/study-golang#golang-%E9%97%AD%E5%8C%85" class="hash-link" aria-label="golang-é—­åŒ…çš„ç›´æ¥é“¾æ¥" title="golang-é—­åŒ…çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func add() func(y int) int {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    // x çš„ä½œç”¨åŸŸæ˜¯å’Œå‡½æ•°çš„ç”Ÿå‘½å‘¨æœŸç»‘å®šåœ¨ä¸€èµ·çš„</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    var x int</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    return func(y int) int {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        return x += y</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    var f = add()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt.Println(f(10))</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt.Println(f(20))</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt.Println(f(30))</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="oop-é¢å‘å¯¹è±¡">OOP é¢å‘å¯¹è±¡<a href="https://yuluo-yx.github.io/blog/study-golang#oop-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1" class="hash-link" aria-label="OOP é¢å‘å¯¹è±¡çš„ç›´æ¥é“¾æ¥" title="OOP é¢å‘å¯¹è±¡çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="ç±»å‹å®šä¹‰å’Œåˆ«å">ç±»å‹å®šä¹‰å’Œåˆ«å<a href="https://yuluo-yx.github.io/blog/study-golang#%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89%E5%92%8C%E5%88%AB%E5%90%8D" class="hash-link" aria-label="ç±»å‹å®šä¹‰å’Œåˆ«åçš„ç›´æ¥é“¾æ¥" title="ç±»å‹å®šä¹‰å’Œåˆ«åçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>ç±»å‹å®šä¹‰ä»…ä»…åªåœ¨ä»£ç ä¸­å­˜åœ¨ï¼Œåœ¨ç¼–è¯‘å®Œæˆä¹‹åä¸ä¼šå­˜åœ¨ç±»å‹åˆ«å</p>
</blockquote>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">package main</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    type MyInt int</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    var i MyInt</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    i = 00</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="ç»“æ„ä½“">ç»“æ„ä½“<a href="https://yuluo-yx.github.io/blog/study-golang#%E7%BB%93%E6%9E%84%E4%BD%93" class="hash-link" aria-label="ç»“æ„ä½“çš„ç›´æ¥é“¾æ¥" title="ç»“æ„ä½“çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>go è¯­è¨€ä¸­æ²¡æœ‰é¢å‘å¯¹è±¡çš„æ¦‚å¿µï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ç»“æ„ä½“æ¥å®ç°ï¼Œé¢å‘å¯¹è±¡çš„ä¸€äº›ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼šå°è£…ï¼Œç»§æ‰¿å’Œå¤šæ€ç­‰ç‰¹æ€§</p>
</blockquote>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">package main</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">import "fmt"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// Book è¡¨ç¤ºå®šä¹‰ä¸€ä¸ªç»“æ„ä½“ å°†å¤šä¸ªç®€å•ç±»å‹å°è£…æˆä¸ºä¸€ä¸ªå¤æ‚çš„æ•°æ®ç±»å‹</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// å¤§å†™è¡¨ç¤ºå…¶ä»–åŒ…ä¹Ÿå¯ä»¥è®¿é—®</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type Book struct {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   title string</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   auth  string</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   price int</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// è¿™é‡Œä¼ é€’çš„æ˜¯bookçš„ä¸€ä¸ªå‰¯æœ¬ åŸæ¥å€¼ä¸ä¼šæ”¹å˜</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func changeBook(book Book) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   book.title = "huakai"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// ä¿®æ”¹å€¼</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func changeBookByRefer(book *Book) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // è¿™é‡Œæœ‰è‡ªåŠ¨è§£å¼•ç”¨çš„è¿‡ç¨‹</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // å®é™…ä¸ºï¼š(*per).name = "huakai"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   book.title = "huakai"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   //var book Book</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   //book.title = "goå…¥é—¨"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   //book.auth = "yuluo"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   //book.price = 20</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // é”®å€¼å¯¹æ–¹å¼åˆå§‹åŒ–</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // book := Book{</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   //   title: "javaå…¥é—¨",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   //   auth:  "yuluo",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   //   price: 20,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // é¡ºåºæ–¹å¼</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    book := Book{</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     "javaå…¥é—¨",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     "yuluo",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     20,</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt.Println("åŸæœ¬å€¼ï¼š", book)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   changeBook(book)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt.Println("æ›´æ”¹ä¹‹åçš„å€¼ï¼š", book)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   changeBookByRefer(&amp;book)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt.Println("ä¼ å¼•ç”¨æ›´æ”¹ä¹‹åçš„å€¼ï¼š", book)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // åŒ¿åç»“æ„ä½“</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    var tom struct {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        id, age int</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        name string</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    tom.id = 102</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    tom.age = 20</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    tom.name = "tom"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt.Printf("%v\n", tom)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ–¹æ³•">æ–¹æ³•<a href="https://yuluo-yx.github.io/blog/study-golang#%E6%96%B9%E6%B3%95" class="hash-link" aria-label="æ–¹æ³•çš„ç›´æ¥é“¾æ¥" title="æ–¹æ³•çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>é¢å‘å¯¹è±¡ä¸­å­˜åœ¨ç±»æ–¹æ³•çš„æ¦‚å¿µï¼Œåœ¨ go ä¸­æ²¡æœ‰ go æ–¹æ³•çš„æ¦‚å¿µï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å£°æ˜ä¸€äº›æ–¹æ³•å±äºæŸä¸ªç»“æ„ä½“</p>
</blockquote>
<p>go è¯­è¨€çš„æ–¹æ³•æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œå®šä¹‰äº struct ä¹‹ä¸Šï¼ˆä¸ struct å…³è”ï¼Œç»‘å®šï¼‰ï¼Œè¢«ç§°ä¸º struct çš„æ¥æ”¶è€…ï¼ˆreceiverï¼‰<strong>é€šä¿—ç†è§£å°±æ˜¯ï¼šæ–¹æ³•æ˜¯æœ‰æ¥æ”¶è€…çš„å‡½æ•°</strong></p>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type mytype struct {}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// receiver ï¼ˆæ¥æ”¶è€…ï¼‰æ¥å—è¯¥æ–¹æ³•çš„ç»“æ„ä½“ mymethodæ–¹æ³•å paraå‚æ•°åˆ—è¡¨ return_type è¿”å›å€¼åˆ—è¡¨</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (recevicer mytype) mymethod(para) return_type {}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (recevicer *mytype) mymethod(para) return_type {}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="æ¥å£">æ¥å£<a href="https://yuluo-yx.github.io/blog/study-golang#%E6%8E%A5%E5%8F%A3" class="hash-link" aria-label="æ¥å£çš„ç›´æ¥é“¾æ¥" title="æ¥å£çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>æ˜¯ä¸€ç§æ–°çš„ç±»å‹å®šä¹‰ï¼ŒæŠŠæ‰€æœ‰å…·æœ‰å…±æ€§çš„æ–¹æ³•å®šä¹‰åœ¨ä¸€èµ·ï¼Œä»»ä½•å…¶ä»–ç±»å‹åªè¦æ˜¯å®ç°äº†è¿™äº›æ–¹æ³•å°±æ˜¯å®ç°äº†è¿™ä¸ªæ¥å£</p>
</blockquote>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">/*å®šä¹‰æ¥å£*/</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type interfae_name interface {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> method_name1 [return_type]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> method_name2 [return_type]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> method_name3 [return_type]</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">/*å®šä¹‰ç»“æ„ä½“*/</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type struct_name struct {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> /*å˜é‡å®šä¹‰*/</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">/*å®ç°æ¥å£æ–¹æ³•*/</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (struct_name_var struct_name) method_name1() (return_type) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> // æ–¹æ³•å®ç°</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (struct_name_var struct_name) method_name2() (return_type) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> // æ–¹æ³•å®ç°</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>ä¾‹å¦‚ æ‰‹æœºå’Œç”µè„‘ åˆ†åˆ«å®ç° USB æ¥å£ï¼Œå®ç°è¯»å’Œå†™åŠŸèƒ½</p>
</blockquote>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type USB interface {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    read()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    write()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// ç”µè„‘ç»“æ„ä½“</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type Computer struct {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    name string</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// æ‰‹æœºç»“æ„ä½“</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type Mobile struct {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    name string</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// ç”µè„‘å®ç°USBæ¥å£</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (c Computer) read() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt.Printf("c.name = %v %s\n", c.name, "ç”µè„‘ä½¿ç”¨usbæ¥å£è¯»å–")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (c Computer) write() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt.Printf("c.name = %v %s\n", c.name, "ç”µè„‘ä½¿ç”¨usbæ¥å£å†™")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">//æ‰‹æœºå®ç°useæ¥å£</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (m Mobile) read() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt.Printf("m.name = %v %s\n", m.name, "æ‰‹æœºä½¿ç”¨usbæ¥å£è¯»å–")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (m Mobile) write() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt.Printf("m.name = %v %s\n", m.name, "æ‰‹æœºä½¿ç”¨usbæ¥å£å†™")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    c := Computer {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        name: "Dell",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    c.read()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    c.write()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    m := Mobile {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        model: "5G",</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    m.read()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    m.write()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="é¢å‘å¯¹è±¡çš„è¡¨ç¤ºä¸å°è£…">é¢å‘å¯¹è±¡çš„è¡¨ç¤ºä¸å°è£…<a href="https://yuluo-yx.github.io/blog/study-golang#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E8%A1%A8%E7%A4%BA%E4%B8%8E%E5%B0%81%E8%A3%85" class="hash-link" aria-label="é¢å‘å¯¹è±¡çš„è¡¨ç¤ºä¸å°è£…çš„ç›´æ¥é“¾æ¥" title="é¢å‘å¯¹è±¡çš„è¡¨ç¤ºä¸å°è£…çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">package main</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">import "fmt"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">/*</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">å¦‚æœç±»åé¦–å­—æ¯å¤§å†™ï¼Œè¡¨ç¤ºå…¶ä»–åŒ…ä¹Ÿèƒ½å¤Ÿè®¿é—® å¦åˆ™åªèƒ½åœ¨ç±»çš„å†…éƒ¨è®¿é—®</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">åŒæ ·çš„ï¼Œæ–¹æ³•é¦–å­—æ¯å¤§å†™ï¼Œè¡¨ç¤ºå¯ä»¥åœ¨å…¶ä»–åŒ…ä¸­è®¿é—®ï¼Œå¦åˆ™åªèƒ½åœ¨æœ¬ç±»ä¸­è®¿é—®</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">goè¯­è¨€çš„å°è£…ç‰¹æ€§</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> */</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type Book struct {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   Title string</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   Auth  string</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   Price int</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (this Book) show() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt.Println("ä½¿ç”¨showæ–¹æ³•è¾“å‡ºçš„ Book å¯¹è±¡", this)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (this *Book) GetAuth() string {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   return this.Auth</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (this *Book) SetAuth(newName string) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // è¿™é‡Œçš„thiså¯¹è±¡æ˜¯ä¸€ä¸ªå‰¯æœ¬ï¼Œå¹¶ä¸èƒ½çœŸçš„ä¿®æ”¹bookå¯¹è±¡çš„å€¼</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // æ”¹å…¥ä¼ é€’æŒ‡é’ˆä¹‹åæ‰èƒ½ä¿®æ”¹å€¼</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   this.Auth = newName</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // å®šä¹‰bookå¯¹è±¡</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   book := Book{Title: "javaå…¥é—¨", Auth: "yuluo", Price: 100}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt.Println("åŸæœ¬å€¼ï¼š", book)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   auth := book.GetAuth()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt.Println("ä½¿ç”¨getæ–¹æ³•", auth)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   book.SetAuth("huakai")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt.Println("è°ƒç”¨setæ–¹æ³•ä¹‹åçš„å€¼ï¼š", book)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   book.show()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="é¢å‘å¯¹è±¡ç»§æ‰¿">é¢å‘å¯¹è±¡ç»§æ‰¿<a href="https://yuluo-yx.github.io/blog/study-golang#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BB%A7%E6%89%BF" class="hash-link" aria-label="é¢å‘å¯¹è±¡ç»§æ‰¿çš„ç›´æ¥é“¾æ¥" title="é¢å‘å¯¹è±¡ç»§æ‰¿çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>é€šè¿‡ç»“æ„ä½“çš„åµŒå¥—æ¥å®ç°ç»§æ‰¿</p>
</blockquote>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">package main</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">import "fmt"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// Human çˆ¶ç±»</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type Human struct {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   Sex  string</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   name string</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (this *Human) Eat() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt.Println("Human.Eat()...")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (this *Human) Walk() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt.Println("Human.walk()...")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type Teacher struct {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   Human // è¡¨ç¤ºç»§æ‰¿äº†Humanç±»ä¸­çš„æ–¹æ³•</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // åœ¨Humanä¸Šæ‰©å±•å‡ºæ¥çš„å·¥ä½œå±æ€§</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   work string</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// Teacher Eat é‡å®šä¹‰çˆ¶ç±»çš„æ–¹æ³•</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (this *Teacher) Eat() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt.Println("Teacher.Eat()...")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (this *Teacher) Teach() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt.Println("Teacher.Teach()...")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   h := Human{"ç”·", "lisi"}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   h.Eat()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   h.Walk()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // å®šä¹‰å­ç±»å¯¹è±¡</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   //t := Teacher{h, "æ•™å¸ˆ"}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   t := Teacher{Human{"ç”·", "yuluo"}, "ç¨‹åºå‘˜"}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // è°ƒç”¨å­ç±»æ–¹æ³•</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   t.Eat()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   t.Teach()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // è°ƒç”¨çˆ¶ç±»æ–¹æ³•</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   t.Walk()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="é¢å‘å¯¹è±¡å¤šæ€">é¢å‘å¯¹è±¡å¤šæ€<a href="https://yuluo-yx.github.io/blog/study-golang#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%A4%9A%E6%80%81" class="hash-link" aria-label="é¢å‘å¯¹è±¡å¤šæ€çš„ç›´æ¥é“¾æ¥" title="é¢å‘å¯¹è±¡å¤šæ€çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>å¤šæ€çš„åŸºæœ¬è¦ç´ ï¼š</p>
<ul>
<li>æœ‰ä¸€ä¸ªçˆ¶ç±»ï¼ˆæ¥å£ï¼‰</li>
<li>æœ‰å­ç±»ï¼ˆå®ç°äº†çˆ¶ç±»æ¥å£ä¸­çš„å…¨éƒ¨æ–¹æ³•ï¼‰</li>
<li>çˆ¶ç±»ç±»å‹çš„å˜é‡ï¼ˆæŒ‡é’ˆï¼‰æŒ‡å‘å­ç±»çš„å…·ä½“æ•°æ®å˜é‡</li>
</ul>
</blockquote>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">package main</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">import "fmt"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// æœ¬è´¨æ˜¯ä¸€ä¸ªæŒ‡é’ˆ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type Animal interface {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   Sleep()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   GetColor() string // è·å–åŠ¨ç‰©çš„é¢œè‰²</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   GetType() string  // è·å–åŠ¨ç‰©çš„ç§ç±»</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// å…·ä½“çš„ç±»</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type Cat struct {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   color string // çŒ«çš„é¢œè‰²</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (this *Cat) Sleep() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt.Println("Cat is sleepingâ€¦â€¦")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (this *Cat) GetColor() string {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   return this.color</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (this *Cat) GetType() string {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   return "Cat"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// å…·ä½“çš„ç±»</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type Dog struct {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   color string // ç‹—çš„é¢œè‰²</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (this *Dog) Sleep() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt.Println("Dog is sleepingâ€¦â€¦")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (this *Dog) GetColor() string {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   return this.color</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func (this *Dog) GetType() string {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   return "Cat"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // æ¥å£çš„æ•°æ®ç±»å‹ï¼Œ çˆ¶ç±»æŒ‡é’ˆ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   var animal Animal</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   animal = &amp;Cat{"yellow"}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // è°ƒç”¨çš„æ˜¯ Cat çš„ Sleep æ–¹æ³•</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   animal.Sleep()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   animal = &amp;Dog{"black"}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // è°ƒç”¨çš„æ˜¯ Dog çš„ Sleep æ–¹æ³• äº§ç”Ÿå¤šæ€ç°è±¡</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   animal.Sleep()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="ç©ºæ¥å£å«ä¹‰">ç©ºæ¥å£å«ä¹‰<a href="https://yuluo-yx.github.io/blog/study-golang#%E7%A9%BA%E6%8E%A5%E5%8F%A3%E5%90%AB%E4%B9%89" class="hash-link" aria-label="ç©ºæ¥å£å«ä¹‰çš„ç›´æ¥é“¾æ¥" title="ç©ºæ¥å£å«ä¹‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>interfaceï¼š<code>é€šç”¨çš„ä¸‡èƒ½ç±»å‹ ç±»ä¼¼ä¸ java ä¸­çš„ Object</code></p>
<div class="language-go codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-go codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)">// è¡¨ç¤ºmapçš„ key æ˜¯ string ç±»å‹ï¼Œvalue æ˜¯ go ä¸­çš„ä»»æ„æ•°æ®ç±»å‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">map1 </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">map</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token builtin" style="color:hsl(119, 34%, 47%)">string</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">interface</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="golang-æ„é€ å‡½æ•°">golang æ„é€ å‡½æ•°<a href="https://yuluo-yx.github.io/blog/study-golang#golang-%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0" class="hash-link" aria-label="golang æ„é€ å‡½æ•°çš„ç›´æ¥é“¾æ¥" title="golang æ„é€ å‡½æ•°çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">package main</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">import "fmt"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">type Person struct {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    name string</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    age int</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// Person å¯¹è±¡çš„æ„é€ å‡½æ•° è¿”å›ä¸€ä¸ªpersonå¯¹è±¡çš„æŒ‡é’ˆ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func NewPerson(name string, age int) (*Person, error) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    if name == "" {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        return nil, fmt.Errorf("name ä¸èƒ½ä¸ºç©º")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    if age &lt; 0 {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        return nil, fmt.Errorf("å¹´é¾„ä¸èƒ½å°äº 0")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    return &amp;Person{name: name, age: age}, nil</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    person, err := NewPeron("yuluo", 20)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    if err != nil {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        fmt.Println(err)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    fmt.Println(person)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="golang-å¹¶å‘ç¼–ç¨‹">golang å¹¶å‘ç¼–ç¨‹<a href="https://yuluo-yx.github.io/blog/study-golang#golang-%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B" class="hash-link" aria-label="golang å¹¶å‘ç¼–ç¨‹çš„ç›´æ¥é“¾æ¥" title="golang å¹¶å‘ç¼–ç¨‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="åç¨‹">åç¨‹<a href="https://yuluo-yx.github.io/blog/study-golang#%E5%8D%8F%E7%A8%8B" class="hash-link" aria-label="åç¨‹çš„ç›´æ¥é“¾æ¥" title="åç¨‹çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>golang é€šè¿‡å…³é”®å­— go å¼€å¯ä¸€ä¸ªæºç¨‹ï¼Œä½¿å…¶å¹¶å‘æ‰§è¡Œ</p>
</blockquote>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// ä¾‹1</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // mainçº¿ç¨‹ é¡ºåºæ‰§è¡Œ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   go test4("yuluo")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // go å¯åŠ¨æºç¨‹ å’Œ ä¸»çº¿ç¨‹åŒæ—¶æ‰§è¡Œ</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   test4("huakai")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func test4(msg string) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   for i := 0; i &lt; 5; i++ {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      fmt.Printf("msg: %v\n", msg)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      time.Sleep(time.Millisecond * 100)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// ä¾‹2</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">package main</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">import (</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   "fmt"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   "time"</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// å­ routine</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func newTask() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   i := 0</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   for {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      i++</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      fmt.Printf("new Groutine : i = %d\n", i)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// ä¸» goroutine</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   // åˆ›å»ºä¸€ä¸ªgoroutine å–æ‰§è¡ŒnewTaskè¿›ç¨‹</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   go newTask()</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   i := 0</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   for {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      i++</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      fmt.Printf("main goroutine : i = %d\n", i)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      time.Sleep(time.Duration(i))</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="channel">channel<a href="https://yuluo-yx.github.io/blog/study-golang#channel" class="hash-link" aria-label="channelçš„ç›´æ¥é“¾æ¥" title="channelçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<blockquote>
<p>ç”¨äºæºç¨‹ï¼ˆgoroutineï¼‰ä¹‹é—´è¿›è¡Œé€šä¿¡</p>
</blockquote>
<p>åˆ›å»ºchannelè¯­æ³•</p>
<blockquote>
<p>channelçš„æœ‰ç¼“å†²å’Œæ— ç¼“å†²é—®é¢˜</p>
<ul>
<li>å½“channelå·²ç»æ»¡äº†ï¼Œåœ¨å‘é‡Œé¢å†™å€¼ï¼Œå°±ä¼šé˜»å¡</li>
<li>å¦‚æœchannelä¸ºç©ºï¼Œä»é‡Œé¢å–å€¼ï¼Œä¹Ÿä¼šé˜»å¡</li>
</ul>
</blockquote>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// é€šé“ç”± make å‡½æ•°åˆ›å»º</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">unbuffered := make(chan int)      // æ•´å‹æ— ç¼“å†²é€šé“</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">buffered := make(chan intï¼Œ 10)   // æ•´å‹ç¼“å†²é€šé“</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åç¨‹å‘é€æ•°æ®åˆ°é€šé“ï¼š</p>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">goroutine1 := make(chan string, 5)  // å­—ç¬¦ä¸²ç¼“å†²é€šé“,5è¡¨ç¤ºé€šé“èƒ½åŒ…å«5ä¸ªå€¼</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">goroutine &lt;- "hello"     // é€šè¿‡é€šé“å‘é€å­—ç¬¦ä¸²</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä»é€šé“æ¥å—å€¼ï¼š</p>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">// `&lt;-` åœ¨é€šé“å·¦è¾¹è¡¨ç¤ºæ¥å—å€¼ï¼Œåœ¨é€šé“å³è¾¹è¡¨ç¤ºå‘é€å€¼</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">data := &lt;- goroutine1     // ä»é€šé“æ¥å—å€¼</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>åŒä¸€ä¸ªé€šé“ï¼Œå‘é€å’Œæ¥å—æ“ä½œæ˜¯äº’æ–¥çš„ï¼›</li>
<li>å‘é€å’Œæ¥å—æ“åšåœ¨å®Œå…¨å®Œæˆä¹‹å‰ä¼šè¢«é˜»å¡ï¼›</li>
</ul>
<div class="language-go codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-go codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">func</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">main</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ç”¨goåˆ›å»ºæ‰¿è½½ä¸€ä¸ªå½¢å‚ä¸ºç©ºï¼Œè¿”å›å€¼ä¸ºç©ºçš„ä¸€ä¸ªå‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">go</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">func</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">defer</span><span class="token plain"> fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"A.defer"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">func</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">         </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">defer</span><span class="token plain"> fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"B.defer"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">         </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// é€€å‡ºå½“å‰çš„ä¸¤ä¸ªå‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">         runtime</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Goexit</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">         fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"B"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">         </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ï¼ˆï¼‰è¡¨ç¤ºåœ¨åˆ›å»ºäº†ä¸€ä¸ªåŒ¿åå‡½æ•°ä¹‹åï¼Œè°ƒç”¨æ­¤åŒ¿åå‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"A"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// goä¸€ä¸ªæœ‰å‚æ•°çš„å‡½æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">go</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">func</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">a </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> b </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">a</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// è°ƒç”¨æ­¤åŒ¿åå‡½æ•°å¹¶ä¼ å‚</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// æ­»å¾ªç¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      time</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Sleep</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">*</span><span class="token plain"> time</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">Second</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-go codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-go codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">package</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"fmt"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">func</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">main</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å®šä¹‰ä¸€ä¸ªchannel  channelåŒæ—¶ä¹Ÿä¼šä¿è¯go routineçš„æ‰§è¡Œé¡ºåº</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   c </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:=</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">make</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token keyword" style="color:hsl(301, 63%, 40%)">chan</span><span class="token plain"> </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// åˆ›å»ºä¸¤ä¸ªgo routine</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">go</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">func</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">defer</span><span class="token plain"> fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"go routine ç»“æŸ"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"go routine æ­£åœ¨è¿è¡Œâ€¦â€¦"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ç»™chanä¸­å­˜å€¼ å°†666å‘é€ç»™c</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      c </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;-</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">666</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ä»Cä¸­å–å‡ºå€¼ å¹¶èµ‹å€¼ç»™num</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   num </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:=</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;-</span><span class="token plain">c</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"channelä¸­çš„å€¼ï¼š"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">,</span><span class="token plain"> num</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"main routine ç»“æŸ"</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>å¦‚æœchannä¸­æ²¡æœ‰å€¼çš„è¯ï¼Œçº¿ç¨‹ä¼šä¸€ç›´é˜»å¡ï¼Œç›´åˆ°æœ‰å€¼ä¹‹åï¼Œåœ¨æ‹¿å‡ºæ¥å€¼ã€‚<strong>ä¿è¯äº† go routine çš„æ‰§è¡Œé¡ºåº</strong></p>
<blockquote>
<p>channel å’Œ range æ··åˆä½¿ç”¨ï¼ˆchannel éå†ï¼‰</p>
<div class="language-go codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-go codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> data </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:=</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">range</span><span class="token plain"> c </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>channerå’Œselectæ··åˆä½¿ç”¨</p>
<ul>
<li>å•æµç¨‹ä¸‹ä¸€ä¸ªgoåªèƒ½ç›‘æ§ä¸€ä¸ªchannelçš„æ‰§è¡ŒçŠ¶æ€ï¼Œselectå¯ä»¥å®Œæˆç›‘æ§å¤šä¸ªchannelçš„è¿è¡ŒçŠ¶æ€</li>
</ul>
<div class="language-go codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-go codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">select</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">case</span><span class="token plain"> </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;-</span><span class="token plain"> chan1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å¦‚æœchan1æˆåŠŸè¯»åˆ°æ•°æ®ï¼Œåˆ™è¿›è¡Œè¯¥æ“ä½œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">case</span><span class="token plain"> chan2 </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;-</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å¦‚æœchan2å†™å…¥æ•°æ®æˆåŠŸï¼Œåˆ™è¿›è¡Œè¯¥æ“ä½œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">default</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">     </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å¦‚æœä¸Šé¢éƒ½æ²¡æˆåŠŸï¼Œæ‰§è¡Œæ­¤æ“ä½œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="waitgroup-åŒæ­¥">WaitGroup åŒæ­¥<a href="https://yuluo-yx.github.io/blog/study-golang#waitgroup-%E5%90%8C%E6%AD%A5" class="hash-link" aria-label="WaitGroup åŒæ­¥çš„ç›´æ¥é“¾æ¥" title="WaitGroup åŒæ­¥çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>çº¿ç¨‹ä¹‹é—´äº’ç›¸ç­‰å¾…æ—¶ä½¿ç”¨ï¼ŒAçº¿ç¨‹æ²¡æœ‰æ‰§è¡Œå®Œæˆï¼Œä½¿ç”¨æ­¤å…³é”®å­—é€šçŸ¥Bçº¿ç¨‹ç­‰Açº¿ç¨‹ä¸€ä¼š</p>
<div class="language-golang codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-golang codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func main() {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> // å¯åŠ¨10ä¸ªåç¨‹ï¼ˆçº¿ç¨‹ï¼‰</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> for i := 0; i &lt; 10; i++ {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">  go showMsg(6)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> }</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> // ä¸»åç¨‹</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> fmt.Println("end...")</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">func showMsg(i int) {</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> fmt.Println(i)</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>è¿è¡Œå¦‚ä¸Šä»£ç æ—¶ï¼Œä¸»æºç¨‹å¹¶ä¸ä¼šç­‰å¾…10ä¸ªåç¨‹æ‰§è¡Œå®Œæ¯•ååœ¨ç»“æŸï¼Œè€Œæ˜¯è‡ªå·±ç»“æŸã€‚åŠ å…¥ WairGroup å°±å¯ä»¥åœ¨10ä¸ªåç¨‹æ‰§è¡Œå®Œæˆä¹‹åå†ç»“æŸä¸»åç¨‹</p>
<div class="language-go codeBlockContainer_APcc theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_m3Ux"><pre class="prism-code language-go codeBlock_qGQc thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_p187"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token keyword" style="color:hsl(301, 63%, 40%)">package</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">"fmt"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token string" style="color:hsl(119, 34%, 47%)">"sync"</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">var</span><span class="token plain"> wg sync</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token plain">WaitGroup</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">func</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">main</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain">   </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// å¯åŠ¨10ä¸ªåç¨‹ï¼ˆçº¿ç¨‹ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> i </span><span class="token operator" style="color:hsl(221, 87%, 60%)">:=</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> i </span><span class="token operator" style="color:hsl(221, 87%, 60%)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">10</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">;</span><span class="token plain"> i</span><span class="token operator" style="color:hsl(221, 87%, 60%)">++</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">go</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">showMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">      wg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Add</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ç­‰å¾…</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   wg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Wait</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// ä¸»åç¨‹</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token string" style="color:hsl(119, 34%, 47%)">"end..."</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">func</span><span class="token plain"> </span><span class="token function" style="color:hsl(221, 87%, 60%)">showMsg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">i </span><span class="token builtin" style="color:hsl(119, 34%, 47%)">int</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"> </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token comment" style="color:hsl(230, 4%, 64%)">// åœ¨æ‰§è¡Œä¹‹åï¼Œç»“æŸä¹‹å‰æ‰§è¡Œçš„æ—¶æœº</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">defer</span><span class="token plain"> wg</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Done</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">   fmt</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">.</span><span class="token function" style="color:hsl(221, 87%, 60%)">Println</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="go-mod-å¸¸ç”¨å‘½ä»¤">go mod å¸¸ç”¨å‘½ä»¤<a href="https://yuluo-yx.github.io/blog/study-golang#go-mod-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4" class="hash-link" aria-label="go mod å¸¸ç”¨å‘½ä»¤çš„ç›´æ¥é“¾æ¥" title="go mod å¸¸ç”¨å‘½ä»¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<table><thead><tr><th>å‘½ä»¤</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>go mod int</td><td>ç”Ÿæˆgo.modæ–‡ä»¶</td></tr><tr><td>go mod download</td><td>ä¸‹è½½go.modæ–‡ä»¶ä¸­æŒ‡æ˜çš„æ‰€æœ‰ä¾èµ–</td></tr><tr><td>go mod tidy</td><td>æ•´ç†ç°æœ‰çš„ä¾èµ–</td></tr><tr><td>go mod graph</td><td>æŸ¥çœ‹ç°æœ‰çš„ä¾èµ–ç»“æ„</td></tr><tr><td>go mod edit</td><td>ç¼–è¾‘go.modæ–‡ä»¶</td></tr><tr><td>go mod vendor</td><td>å¯¼å‡ºé¡¹ç›®æ‰€æœ‰çš„ä¾èµ–åˆ°vendorç›®å½•</td></tr><tr><td>go mod verify</td><td>æ£€éªŒä¸€ä¸ªæ¨¡å—æ˜¯å¦è¢«ç¯¡æ”¹è¿‡</td></tr><tr><td>go mod why</td><td>æŸ¥çœ‹ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–æŸæ¨¡å—</td></tr></tbody></table>
<h2 class="anchor anchorWithHideOnScrollNavbar_vMh4" id="golang-proxy-é€‰é¡¹">golang proxy é€‰é¡¹<a href="https://yuluo-yx.github.io/blog/study-golang#golang-proxy-%E9%80%89%E9%A1%B9" class="hash-link" aria-label="golang proxy é€‰é¡¹çš„ç›´æ¥é“¾æ¥" title="golang proxy é€‰é¡¹çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>è¿™ä¸ªç¯å¢ƒå˜é‡ä¸»è¦æ˜¯ç”¨æˆ·è®¾ç½®Goæ¨¡å—ä»£ç†ï¼Œä½œç”¨æ˜¯ç”¨äºä½¿GOåœ¨åç»­æ‹‰å–æ¨¡å—ç‰ˆæœ¬æ—¶ç›´æ¥é€šè¿‡é•œåƒç«™ç‚¹å¿«é€Ÿæ‹‰å–ã€‚</p>
<p>é»˜è®¤å€¼æ˜¯ï¼š<a href="https://proxy.golang.org,direct/" target="_blank" rel="noopener noreferrer">https://proxy.golang.org,direct</a></p>
<p>é»˜è®¤çš„ä»£ç†å›½å†…è®¿é—®ä¸äº†ï¼Œéœ€è¦è®¾ç½®å›½å†…çš„ä»£ç†</p>
<ul>
<li>
<p>é˜¿é‡Œäº‘</p>
<p><a href="https://mirrors.aliyun.com/goproxy" target="_blank" rel="noopener noreferrer">https://mirrors.aliyun.com/goproxy</a></p>
</li>
<li>
<p>ä¸ƒç‰›äº‘</p>
<p><a href="https://goproxy.cn,direct/" target="_blank" rel="noopener noreferrer">https://goproxy.cn,direct</a></p>
</li>
</ul>
<blockquote>
<p>direct: å¦‚æœåœ¨æ”¹é•œåƒæ‰¾ä¸åˆ°è¿™ä¸ªåŒ…ï¼Œä¼šå»åŸæœ¬çš„æºæ‹‰å–</p>
</blockquote>]]></content>
        <author>
            <name>ç‰§ç”Ÿ</name>
            <email>yuluo08290126@gmail.com</email>
            <uri>https://github.com/yuluo-yx</uri>
        </author>
        <category label="Golang" term="Golang"/>
    </entry>
</feed>